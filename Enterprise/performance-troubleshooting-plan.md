---
title: Plan de solución de problemas de rendimiento para Office 365
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 5/10/2019
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
ms.collection:
- M365-security-compliance
- Ent_O365
description: ¿Necesita conocer los pasos que debe seguir para identificar y corregir los intervalos, los bloqueos y el rendimiento lento entre SharePoint Online, OneDrive para la empresa, Exchange online o Skype empresarial online, y el equipo cliente? Antes de llamar al soporte técnico, este artículo puede ayudarle a solucionar problemas de rendimiento de Office 365 e incluso a solucionar algunos de los problemas más comunes.
ms.openlocfilehash: afa24144c1595fd55477e45f4368d99bd4274aca
ms.sourcegitcommit: 08e1e1c09f64926394043291a77856620d6f72b5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/15/2019
ms.locfileid: "34069586"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="a7de1-104">Plan de solución de problemas de rendimiento para Office 365</span><span class="sxs-lookup"><span data-stu-id="a7de1-104">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="a7de1-105">¿Necesita conocer los pasos que debe seguir para identificar y corregir los intervalos, los bloqueos y el rendimiento lento entre SharePoint Online, OneDrive para la empresa, Exchange online o Skype empresarial online, y el equipo cliente?</span><span class="sxs-lookup"><span data-stu-id="a7de1-105">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer?</span></span> <span data-ttu-id="a7de1-106">Antes de llamar al soporte técnico, este artículo puede ayudarle a solucionar problemas de rendimiento de Office 365 e incluso a solucionar algunos de los problemas más comunes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-106">Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>
  
<span data-ttu-id="a7de1-107">Este artículo es, en realidad, un plan de acción de ejemplo que se puede usar para capturar datos valiosos sobre el problema de rendimiento a medida que se produzcan.</span><span class="sxs-lookup"><span data-stu-id="a7de1-107">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening.</span></span> <span data-ttu-id="a7de1-108">También se incluyen algunos problemas principales en este artículo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-108">Some top issues are also included in this article.</span></span>

<span data-ttu-id="a7de1-109">Si no está familiarizado con el rendimiento de la red y desea crear un plan a largo plazo para supervisar el rendimiento entre los equipos cliente y Office 365, eche un vistazo a [office 365 performance tuning and Troubleshooting-admin y IT Pro](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="a7de1-109">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>
  
## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="a7de1-110">Ejemplo de plan de acción de solución de problemas de rendimiento</span><span class="sxs-lookup"><span data-stu-id="a7de1-110">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="a7de1-111">Este plan de acción contiene dos partes; una fase de preparación y una fase de registro.</span><span class="sxs-lookup"><span data-stu-id="a7de1-111">This action plan contains two parts; a preparation phase, and a logging phase.</span></span> <span data-ttu-id="a7de1-112">Si tiene un problema de rendimiento en este momento y necesita realizar la recopilación de datos, puede empezar a usar este plan inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-112">If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>
  
### <a name="prepare-the-client-computer"></a><span data-ttu-id="a7de1-113">Preparar el equipo cliente</span><span class="sxs-lookup"><span data-stu-id="a7de1-113">Prepare the client computer</span></span>
  
- <span data-ttu-id="a7de1-114">Busque un equipo cliente que pueda reproducir el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-114">Find a client computer that can reproduce the performance problem.</span></span> <span data-ttu-id="a7de1-115">Este equipo se usará durante la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-115">This computer will be used during the course of troubleshooting.</span></span>
- <span data-ttu-id="a7de1-116">Anote los pasos que provocan el problema de rendimiento para que esté listo cuando llegue el momento de realizar la prueba.</span><span class="sxs-lookup"><span data-stu-id="a7de1-116">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
- <span data-ttu-id="a7de1-117">Instalar herramientas para recopilar y registrar información:</span><span class="sxs-lookup"><span data-stu-id="a7de1-117">Install tools for gathering and recording information:</span></span>
  - <span data-ttu-id="a7de1-118">Instale [Netmon 3,4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (o use una herramienta de seguimiento de red equivalente).</span><span class="sxs-lookup"><span data-stu-id="a7de1-118">Install [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span>
  - <span data-ttu-id="a7de1-119">Instale la edición básica gratuita de [HTTPWatch](https://www.httpwatch.com/download/) (o use una herramienta de seguimiento de red equivalente).</span><span class="sxs-lookup"><span data-stu-id="a7de1-119">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span>
  - <span data-ttu-id="a7de1-120">Use una grabadora de pantalla o ejecute el grabador de acciones (PSR. exe) que se incluye con Windows Vista y versiones posteriores para mantener un registro de los pasos que debe seguir durante las pruebas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-120">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>

### <a name="log-the-performance-issue"></a><span data-ttu-id="a7de1-121">Registrar el problema de rendimiento</span><span class="sxs-lookup"><span data-stu-id="a7de1-121">Log the performance issue</span></span>
  
- <span data-ttu-id="a7de1-122">Cierre todos los exploradores extraños de Internet.</span><span class="sxs-lookup"><span data-stu-id="a7de1-122">Close all extraneous Internet browsers.</span></span>
- <span data-ttu-id="a7de1-123">Inicie el grabador de acciones u otra grabadora de pantalla.</span><span class="sxs-lookup"><span data-stu-id="a7de1-123">Start the Steps Recorder, or another screen recorder.</span></span>
- <span data-ttu-id="a7de1-124">Inicie la captura de Netmon (o la herramienta de seguimiento de red).</span><span class="sxs-lookup"><span data-stu-id="a7de1-124">Start your Netmon capture (or network tracing tool).</span></span>
- <span data-ttu-id="a7de1-125">Para borrar la memoria caché de DNS en el equipo cliente de la línea de comandos, escriba ipconfig/flushdns.</span><span class="sxs-lookup"><span data-stu-id="a7de1-125">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
- <span data-ttu-id="a7de1-126">Inicie una nueva sesión del explorador y Active HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="a7de1-126">Start a new browser session and turn on HTTPWatch.</span></span>
- <span data-ttu-id="a7de1-127">Opcional: Si está probando Exchange Online, ejecute la herramienta analizador de rendimiento del cliente de Exchange desde la consola de administración de Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-127">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
- <span data-ttu-id="a7de1-128">Reproduzca los pasos exactos que causan el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-128">Reproduce the exact steps that cause the performance issue.</span></span>
- <span data-ttu-id="a7de1-129">Detenga la traza de la herramienta Netmon o de otro fabricante.</span><span class="sxs-lookup"><span data-stu-id="a7de1-129">Stop your Netmon or other tool's trace.</span></span>
- <span data-ttu-id="a7de1-130">En la línea de comandos, ejecute una ruta de seguimiento a su suscripción a Office 365; para ello, escriba el siguiente comando y presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="a7de1-130">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>

  ``` cmd
  tracert <subscriptionname>.onmicrosoft.com
  ```

- <span data-ttu-id="a7de1-131">Detenga la grabación de acciones y guarde el vídeo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-131">Stop the Steps Recorder and save the video.</span></span> <span data-ttu-id="a7de1-132">Asegúrese de incluir la fecha y la hora de la captura y de si muestra un rendimiento bueno o incorrecto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-132">Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
- <span data-ttu-id="a7de1-133">Guarde los archivos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-133">Save the trace files.</span></span> <span data-ttu-id="a7de1-134">De nuevo, asegúrese de incluir la fecha y la hora de la captura y de si muestra un rendimiento bueno o incorrecto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-134">Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>

<span data-ttu-id="a7de1-135">Si no está familiarizado con la ejecución de las herramientas mencionadas en este artículo, no se preocupe porque le ofrecemos los pasos a continuación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-135">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next.</span></span> <span data-ttu-id="a7de1-136">Si está acostumbrado a realizar este tipo de capturas de red, puede omitir [cómo recopilar líneas de base](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), lo que describe el filtrado y la lectura de los registros.</span><span class="sxs-lookup"><span data-stu-id="a7de1-136">If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span>
  
### <a name="flush-the-dns-cache-first"></a><span data-ttu-id="a7de1-137">Vacíe primero la memoria caché de DNS</span><span class="sxs-lookup"><span data-stu-id="a7de1-137">Flush the DNS Cache first</span></span>

<span data-ttu-id="a7de1-138">¿Por qué?</span><span class="sxs-lookup"><span data-stu-id="a7de1-138">Why?</span></span> <span data-ttu-id="a7de1-139">Vaciando la memoria caché DNS que va a iniciar las pruebas con una tableta limpia.</span><span class="sxs-lookup"><span data-stu-id="a7de1-139">By flushing out the DNS cache you're starting your tests with a clean slate.</span></span> <span data-ttu-id="a7de1-140">Al borrar la caché, se restablece el contenido de la resolución DNS a las entradas más actualizadas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-140">By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries.</span></span> <span data-ttu-id="a7de1-141">Recuerde que un vaciado no quita las entradas del archivo de hosts.</span><span class="sxs-lookup"><span data-stu-id="a7de1-141">Remember that a flush does not remove HOSTs file entries.</span></span> <span data-ttu-id="a7de1-142">Si usa las entradas de archivo de HOST extensivamente, debe copiar esas entradas en un archivo de otro directorio y, a continuación, vaciar el archivo HOST.</span><span class="sxs-lookup"><span data-stu-id="a7de1-142">If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>
  
#### <a name="flush-your-dns-resolver-cache"></a><span data-ttu-id="a7de1-143">Vaciar la memoria caché de resolución de DNS</span><span class="sxs-lookup"><span data-stu-id="a7de1-143">Flush your DNS resolver cache</span></span>
  
1. <span data-ttu-id="a7de1-144">Abra el símbolo del sistema ( **inicie** \> **Ejecutar** \> **cmd** o CMD **clave** \> \*\*\*\* de Windows).</span><span class="sxs-lookup"><span data-stu-id="a7de1-144">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
2. <span data-ttu-id="a7de1-145">Escriba el siguiente comando y presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="a7de1-145">Type the following command and press ENTER:</span></span>

    ``` cmd
    ipconfig /flushdns
    ```

## <a name="netmon"></a><span data-ttu-id="a7de1-146">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-146">Netmon</span></span>

<span data-ttu-id="a7de1-147">La herramienta de supervisión de red ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) de Microsoft analiza los paquetes, es decir, el tráfico que pasa entre los equipos de las redes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-147">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks.</span></span> <span data-ttu-id="a7de1-148">Mediante el uso de Netmon para realizar un seguimiento del tráfico con Office 365, puede capturar, ver y leer encabezados de paquetes, identificar dispositivos que intervienen, comprobar configuraciones importantes en el hardware de red, buscar paquetes perdidos y seguir el flujo de tráfico entre los equipos de la organización. red y Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-148">By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365.</span></span> <span data-ttu-id="a7de1-149">Dado que el cuerpo real del tráfico está cifrado, es decir, se transmite en el puerto 443 mediante SSL/TLS, no se pueden leer los archivos que se envían.</span><span class="sxs-lookup"><span data-stu-id="a7de1-149">Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent.</span></span> <span data-ttu-id="a7de1-150">En su lugar, obtiene un seguimiento sin filtrar de la ruta que lleva el paquete y que puede ayudarle a localizar el comportamiento del problema.</span><span class="sxs-lookup"><span data-stu-id="a7de1-150">Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>
  
<span data-ttu-id="a7de1-151">Asegúrese de no aplicar un filtro en este momento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-151">Be sure you don't apply a filter at this time.</span></span> <span data-ttu-id="a7de1-152">En su lugar, realice los pasos y muestre el problema antes de detener el seguimiento y guardarlo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-152">Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>
  
<span data-ttu-id="a7de1-153">Después de instalar Netmon 3,4, abra la herramienta y siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="a7de1-153">After you install Netmon 3.4, open the tool and take these steps:</span></span>
  
### <a name="take-a-netmon-trace-and-reproduce-the-issue"></a><span data-ttu-id="a7de1-154">Realizar un seguimiento de Netmon y reproducir el problema</span><span class="sxs-lookup"><span data-stu-id="a7de1-154">Take a Netmon trace and reproduce the issue</span></span>
  
1. <span data-ttu-id="a7de1-155">Inicie Netmon 3,4.</span><span class="sxs-lookup"><span data-stu-id="a7de1-155">Launch Netmon 3.4.</span></span>
<span data-ttu-id="a7de1-156">Hay tres paneles en la página de **Inicio** : **capturas recientes**, **Seleccione redes**y la **introducción al monitor de red de Microsoft 3,4. Aviso**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-156">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**.</span></span> <span data-ttu-id="a7de1-157">El panel Seleccionar redes también le proporcionará una lista de las redes predeterminadas que puede capturar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-157">The Select Networks panel will also give you a list of the default networks from which you can capture.</span></span> <span data-ttu-id="a7de1-158">Asegúrese de que las tarjetas de red están seleccionadas aquí.</span><span class="sxs-lookup"><span data-stu-id="a7de1-158">Be sure that network cards are selected here.</span></span>

2. <span data-ttu-id="a7de1-159">Haga clic en **nueva captura** en la parte superior de la página de **Inicio** .</span><span class="sxs-lookup"><span data-stu-id="a7de1-159">Click **New Capture** at the top of the **Start** page.</span></span> <span data-ttu-id="a7de1-160">Se agrega una pestaña nueva junto a la ficha Página de **Inicio** denominada **captura 1**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-160">This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
<span data-ttu-id="a7de1-161">![La interfaz de usuario de Netmon con los nuevos botones capturar, iniciar y detener resaltados.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span><span class="sxs-lookup"><span data-stu-id="a7de1-161">![Netmon's user interface with the New Capture, Start, and Stop buttons highlighted.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span></span>

3. <span data-ttu-id="a7de1-162">Para realizar una captura simple, haga clic en **Inicio** en la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-162">To take a simple capture, click **Start** on the toolbar.</span></span>

4. <span data-ttu-id="a7de1-163">Reproduzca los pasos que presentan un problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-163">Reproduce the steps that present a performance issue.</span></span>

5. <span data-ttu-id="a7de1-164">Haga clic en **detener** \> **archivo** \> **Guardar como**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-164">Click **Stop** \> **File** \> **Save As**.</span></span> <span data-ttu-id="a7de1-165">No olvide dar la fecha y la hora con la zona horaria y mencione si muestra un buen rendimiento o mal.</span><span class="sxs-lookup"><span data-stu-id="a7de1-165">Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>

## <a name="httpwatch"></a><span data-ttu-id="a7de1-166">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="a7de1-166">HTTPWatch</span></span>

<span data-ttu-id="a7de1-167">[HTTPWatch](https://www.httpwatch.com/download/) incluye carga y una edición gratuita.</span><span class="sxs-lookup"><span data-stu-id="a7de1-167">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition.</span></span> <span data-ttu-id="a7de1-168">La edición básica gratuita cubre todo lo que necesita para esta prueba.</span><span class="sxs-lookup"><span data-stu-id="a7de1-168">The free Basic Edition covers everything you need for this test.</span></span> <span data-ttu-id="a7de1-169">HTTPWatch supervisa el tráfico de red y el tiempo de carga de páginas directamente desde la ventana del explorador.</span><span class="sxs-lookup"><span data-stu-id="a7de1-169">HTTPWatch monitors network traffic and page load time right from your browser window.</span></span> <span data-ttu-id="a7de1-170">HTTPWatch es un complemento de Internet Explorer que describe gráficamente el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-170">HTTPWatch is a plug-in to Internet Explorer that graphically describes performance.</span></span> <span data-ttu-id="a7de1-171">El análisis se puede guardar y ver en HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="a7de1-171">The analysis can be saved and viewed in HTTPWatch Studio.</span></span>
  
> [!NOTE]
> <span data-ttu-id="a7de1-172">Si usa otro explorador, como Firefox, Google Chrome o si no puede instalar HTTPWatch en Internet Explorer, abra una nueva ventana del explorador y presione F12 en el teclado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-172">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard.</span></span> <span data-ttu-id="a7de1-173">Debería ver el elemento emergente de la herramienta de desarrollo en la parte inferior del explorador.</span><span class="sxs-lookup"><span data-stu-id="a7de1-173">You should see the Developer Tool pop-up at the bottom of your browser.</span></span> <span data-ttu-id="a7de1-174">Si usa opera, presione CTRL + MAYÚS + I para inspector web, a continuación, haga clic en la pestaña **red** y complete las pruebas descritas a continuación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-174">If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below.</span></span> <span data-ttu-id="a7de1-175">La información será ligeramente distinta, pero los tiempos de carga seguirán apareciendo en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-175">The information will be slightly different, but load times will still be displayed in milliseconds.</span></span> <span data-ttu-id="a7de1-176">> HTTPWatch también es muy útil para los problemas con tiempos de carga de páginas de SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="a7de1-176">> HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span>
  
### <a name="run-httpwatch-and-reproduce-the-issue"></a><span data-ttu-id="a7de1-177">Ejecutar HTTPWatch y reproducir el problema</span><span class="sxs-lookup"><span data-stu-id="a7de1-177">Run HTTPWatch and reproduce the issue</span></span>
  
<span data-ttu-id="a7de1-178">HTTPWatch es un complemento del explorador, por lo que exponer la herramienta en el explorador es ligeramente diferente para cada versión de Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a7de1-178">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer.</span></span> <span data-ttu-id="a7de1-179">Normalmente, puede encontrar HTTPWatch en la barra de comandos en el explorador Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a7de1-179">Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser.</span></span> <span data-ttu-id="a7de1-180">Si no ve el complemento HTTPWatch en la ventana del explorador, Compruebe la versión del explorador haciendo clic en **ayuda** \> \*\*\*\* o, en versiones posteriores de Internet Explorer, haga clic en el símbolo de engranaje y **sobre Internet Explorer**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-180">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by clicking **Help** \> **About**, or in later versions of Internet Explorer, click the gear symbol and **About Internet Explorer**.</span></span> <span data-ttu-id="a7de1-181">Para iniciar la barra de **comandos** , haga clic con el botón secundario en la barra de menús de Internet Explorer y haga clic en **barra de comandos**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-181">To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**.</span></span>

<span data-ttu-id="a7de1-182">En el pasado, HTTPWatch se ha asociado a los comandos y las barras del explorador, por lo que, si no ve inmediatamente el icono (incluso después del reinicio), las **herramientas**de comprobación y las barras de herramientas del icono.</span><span class="sxs-lookup"><span data-stu-id="a7de1-182">In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon.</span></span> <span data-ttu-id="a7de1-183">Recuerde que las barras de herramientas se pueden personalizar y se pueden agregar opciones a ellas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-183">Remember that toolbars can be customized and options can be added to them.</span></span>

![Barra de herramientas de comandos de Internet Explorer con el icono HTTPWatch mostrado.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)
  
1. <span data-ttu-id="a7de1-185">Inicie HTTPWatch en una ventana del explorador de Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="a7de1-185">Launch HTTPWatch in an Internet Explorer browser window.</span></span> <span data-ttu-id="a7de1-186">Aparecerá acoplada al explorador en la parte inferior de la ventana.</span><span class="sxs-lookup"><span data-stu-id="a7de1-186">It will appear docked to the browser at the bottom of that window.</span></span> <span data-ttu-id="a7de1-187">Haga clic en **grabar**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-187">Click **Record**.</span></span>

2. <span data-ttu-id="a7de1-188">Reproduzca los pasos exactos implicados en el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-188">Reproduce the exact steps involved in the performance issue.</span></span> <span data-ttu-id="a7de1-189">Haga clic en el botón **detener** en HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="a7de1-189">Click the **Stop** button in HTTPWatch.</span></span>

3. <span data-ttu-id="a7de1-190">**Guarde** el HTTPWatch o **envíe por correo electrónico**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-190">**Save** the HTTPWatch or **Send by Email**.</span></span> <span data-ttu-id="a7de1-191">Recuerde que debe asignar un nombre al archivo para que incluya información de fecha y hora, así como una indicación de si su reloj contiene una demostración del rendimiento correcto o incorrecto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-191">Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span>

![HTTPWatch que muestra la ficha de red para una carga de página de la página de inicio de Office 365.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)

<span data-ttu-id="a7de1-193">Esta captura de pantalla es de la versión profesional de HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="a7de1-193">This screen shot is from the Professional version of HTTPWatch.</span></span> <span data-ttu-id="a7de1-194">Puede abrir los seguimientos realizados en la versión básica en un equipo con una versión profesional y leerlo allí.</span><span class="sxs-lookup"><span data-stu-id="a7de1-194">You can open traces taken in the Basic Version on a computer with a Professional version and read it there.</span></span> <span data-ttu-id="a7de1-195">Puede que haya información adicional disponible en el seguimiento a través de ese método.</span><span class="sxs-lookup"><span data-stu-id="a7de1-195">Extra information may be available from the trace through that method.</span></span>

## <a name="problem-steps-recorder"></a><span data-ttu-id="a7de1-196">Grabación de acciones de problemas</span><span class="sxs-lookup"><span data-stu-id="a7de1-196">Problem Steps Recorder</span></span>

<span data-ttu-id="a7de1-197">Grabación de acciones de usuario, o PSR. exe, permite registrar los problemas que se produzcan.</span><span class="sxs-lookup"><span data-stu-id="a7de1-197">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring.</span></span> <span data-ttu-id="a7de1-198">Es una herramienta muy útil y muy sencilla de ejecutar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-198">It's a very useful tool and very simple to run.</span></span>
  
### <a name="run-problem-steps-recorder-psrexe-to-record-your-work"></a><span data-ttu-id="a7de1-199">Ejecutar la grabadora de acciones de problemas (PSR. exe) para registrar el trabajo</span><span class="sxs-lookup"><span data-stu-id="a7de1-199">Run Problem Steps Recorder (PSR.exe) to record your work</span></span>
  
1. <span data-ttu-id="a7de1-200">Use **Start** \> **Run** \> Type **PSR. exe** \> **OK**, o bien, haga clic en la **tecla** \> de Windows **PSR. exe** \> y, a continuación, presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-200">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span>

2. <span data-ttu-id="a7de1-201">Cuando aparezca la ventana pequeña PSR. exe, haga clic en **iniciar grabación** y reproduzca los pasos que reproducen el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-201">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue.</span></span> <span data-ttu-id="a7de1-202">Puede agregar comentarios si es necesario; para ello, haga clic en **Agregar comentarios**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-202">You can add comments as needed, by clicking **Add Comments**.</span></span>

3. <span data-ttu-id="a7de1-203">Haga clic en **Detener grabación** cuando haya completado los pasos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-203">Click **Stop Record** when you have completed the steps.</span></span> <span data-ttu-id="a7de1-204">Si el problema de rendimiento es representación de una página, espere a que la página se represente antes de detener la grabación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-204">If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span>

4. <span data-ttu-id="a7de1-205">Haga clic en \*\*Guardar \*\*.</span><span class="sxs-lookup"><span data-stu-id="a7de1-205">Click **Save**.</span></span>

![Captura de pantalla de los grabadores de acciones o PSR. exe.](media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)
  
<span data-ttu-id="a7de1-207">La fecha y la hora se registran para usted.</span><span class="sxs-lookup"><span data-stu-id="a7de1-207">The date and time is recorded for you.</span></span> <span data-ttu-id="a7de1-208">Esto vincula los VECPRD a la traza de Netmon y HTTPWatch en el tiempo, y ayuda a solucionar problemas de precisión.</span><span class="sxs-lookup"><span data-stu-id="a7de1-208">This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting.</span></span> <span data-ttu-id="a7de1-209">La fecha y la hora del registro de PSR pueden mostrar un minuto pasado entre el inicio de sesión y la exploración de la dirección URL y la representación parcial del sitio de administración, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-209">The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>
  
## <a name="read-your-traces"></a><span data-ttu-id="a7de1-210">Leer los seguimientos</span><span class="sxs-lookup"><span data-stu-id="a7de1-210">Read your traces</span></span>

<span data-ttu-id="a7de1-211">No es posible enseñar todo lo relacionado con la solución de problemas de red y rendimiento que alguien necesita saber a través de un artículo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-211">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article.</span></span> <span data-ttu-id="a7de1-212">La obtención de un rendimiento óptimo tiene experiencia y el conocimiento de cómo funciona la red y suele llevarse a cabo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-212">Getting good at performance takes experience, and knowledge of how your network works and usually performs.</span></span> <span data-ttu-id="a7de1-213">Pero es posible redondear hacia arriba una lista de los problemas principales y mostrar cómo las herramientas pueden facilitarle la tarea de eliminar los problemas más comunes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-213">But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>
  
<span data-ttu-id="a7de1-214">Si desea obtener conocimientos sobre los seguimientos de red para los sitios de Office 365, no hay ningún profesor mejor que crear los seguimientos de las cargas de páginas periódicamente y obtener experiencia para leerlas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-214">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them.</span></span> <span data-ttu-id="a7de1-215">Por ejemplo, si tiene alguna oportunidad, cargue un servicio de Office 365 y trace el proceso.</span><span class="sxs-lookup"><span data-stu-id="a7de1-215">For example, when you have a chance, load an Office 365 service and trace the process.</span></span> <span data-ttu-id="a7de1-216">Filtre la traza para el tráfico DNS o busque en el FrameData el nombre del servicio que ha explorado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-216">Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed.</span></span> <span data-ttu-id="a7de1-217">Analice el seguimiento para hacerse una idea de los pasos que se producen cuando se carga el servicio.</span><span class="sxs-lookup"><span data-stu-id="a7de1-217">Scan the trace to get an idea of the steps that occur when the service loads.</span></span> <span data-ttu-id="a7de1-218">Esto le ayudará a saber qué aspecto tiene la carga de página normal y, en el caso de la solución de problemas, en concreto sobre el rendimiento, la comparación de un buen con un seguimiento malo puede enseñarle mucho.</span><span class="sxs-lookup"><span data-stu-id="a7de1-218">This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>
  
<span data-ttu-id="a7de1-219">Netmon usa Microsoft IntelliSense en el campo de filtro de presentación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-219">Netmon uses Microsoft Intellisense in the Display filter field.</span></span> <span data-ttu-id="a7de1-220">IntelliSense, o la finalización de código inteligente, es el truco en el que se escribe en un período y todas las opciones disponibles se muestran en un cuadro de selección desplegable.</span><span class="sxs-lookup"><span data-stu-id="a7de1-220">Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box.</span></span> <span data-ttu-id="a7de1-221">Si, por ejemplo, está preocupado por el ajuste de escala de la ventana TCP, puede encontrar la forma de hacerlo con `.protocol.tcp.window < 100`un filtro (como) por este medio.</span><span class="sxs-lookup"><span data-stu-id="a7de1-221">If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>
  
![Captura de pantalla de Netmon que muestra que el campo Mostrar filtro usa IntelliSense.](media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)
  
<span data-ttu-id="a7de1-223">Los seguimientos de Netmon pueden tener una gran cantidad de tráfico en ellos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-223">Netmon traces can have a lot of traffic in them.</span></span> <span data-ttu-id="a7de1-224">Si no tiene experiencia de lectura, es probable que se desbordará al abrir el seguimiento la primera vez.</span><span class="sxs-lookup"><span data-stu-id="a7de1-224">If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time.</span></span> <span data-ttu-id="a7de1-225">Lo primero que debe hacer es separar la señal del ruido de fondo en el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-225">The first thing to do is separate the signal from the background noise in the trace.</span></span> <span data-ttu-id="a7de1-226">Ha probado con Office 365, que es el tráfico que desea ver.</span><span class="sxs-lookup"><span data-stu-id="a7de1-226">You tested against Office 365, and that's the traffic you want to see.</span></span> <span data-ttu-id="a7de1-227">Si se usa para desplazarse por las trazas, es posible que no necesite esta lista.</span><span class="sxs-lookup"><span data-stu-id="a7de1-227">If you are used to navigating through traces, you may not need this list.</span></span>
  
<span data-ttu-id="a7de1-228">El tráfico entre el cliente y Office 365 viaja a través de TLS, lo que significa que el cuerpo del tráfico se cifrará y no se podrá leer en un seguimiento genérico de Netmon.</span><span class="sxs-lookup"><span data-stu-id="a7de1-228">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace.</span></span> <span data-ttu-id="a7de1-229">El análisis de rendimiento no necesita conocer los detalles de la información del paquete.</span><span class="sxs-lookup"><span data-stu-id="a7de1-229">Your performance analysis doesn't need to know the specifics of the information in the packet.</span></span> <span data-ttu-id="a7de1-230">Sin embargo, está muy interesado en los encabezados de los paquetes y en la información que contienen.</span><span class="sxs-lookup"><span data-stu-id="a7de1-230">It is, however, very interested in packet headers and the information that they contain.</span></span>
  
### <a name="tips-to-get-a-good-trace"></a><span data-ttu-id="a7de1-231">Sugerencias para obtener una buena traza</span><span class="sxs-lookup"><span data-stu-id="a7de1-231">Tips to get a good trace</span></span>
  
- <span data-ttu-id="a7de1-232">Conocer el valor de la dirección IPv4 o IPv6 del equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-232">Know the value of the IPv4 or IPv6 address of your client computer.</span></span> <span data-ttu-id="a7de1-233">Para obtener esto desde el símbolo del sistema, escriba **ipconfig** y, a continuación, presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-233">You can get this from the command prompt by typing **IPConfig** and then pressing ENTER.</span></span> <span data-ttu-id="a7de1-234">Conocer esta dirección le permitirá saber de un vistazo si el tráfico de la traza está directamente implicado en el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-234">Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer.</span></span> <span data-ttu-id="a7de1-235">Si hay un proxy conocido, haga ping y obtenga también su dirección IP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-235">If there is a known proxy, ping it and get its IP address as well.</span></span>

- <span data-ttu-id="a7de1-236">Vacíe la caché de resolución de DNS y, si es posible, cierre todos los exploradores excepto el en el que esté ejecutando las pruebas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-236">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests.</span></span> <span data-ttu-id="a7de1-237">Si no puede hacerlo, por ejemplo, si la compatibilidad usa alguna herramienta basada en el explorador para ver el escritorio del equipo cliente, esté preparado para filtrar el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-237">If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>

- <span data-ttu-id="a7de1-238">En un seguimiento de ocupado, busque el servicio de Office 365 que está usando.</span><span class="sxs-lookup"><span data-stu-id="a7de1-238">In a busy trace, locate the Office 365 service that you're using.</span></span> <span data-ttu-id="a7de1-239">Si no ha visto nunca o rara vez el tráfico, este es un paso útil para separar el problema de rendimiento de otros ruidos en la red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-239">If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise.</span></span> <span data-ttu-id="a7de1-240">Hay varias formas de hacerlo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-240">There are a few ways to do this.</span></span> <span data-ttu-id="a7de1-241">Justo antes de la prueba, puede usar _ping_ o _PSPING_ en la dirección URL del servicio específico (`ping outlook.office365.com` o `psping -4 microsoft-my.sharepoint.com:443`, por ejemplo,).</span><span class="sxs-lookup"><span data-stu-id="a7de1-241">Directly before your test, you can use _ping_ or _PsPing_ against the URL of the specific service (`ping outlook.office365.com` or `psping -4 microsoft-my.sharepoint.com:443`, for example).</span></span> <span data-ttu-id="a7de1-242">También puede encontrar fácilmente un ping o PsPing en un seguimiento de Netmon (por su nombre de proceso).</span><span class="sxs-lookup"><span data-stu-id="a7de1-242">You can also easily find that ping or PsPing in a Netmon trace (by its process name).</span></span> <span data-ttu-id="a7de1-243">Esto le dará un punto para empezar a buscar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-243">That will give you a place to start looking.</span></span>

<span data-ttu-id="a7de1-244">Si solo usa el seguimiento de Netmon en el momento del problema, eso también es correcto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-244">If you're only using Netmon tracing at the time of the problem, that's okay too.</span></span> <span data-ttu-id="a7de1-245">Para orientarse, use un filtro como `ContainsBin(FrameData, ASCII, "office")` o `ContainsBin(FrameData, ASCII, "outlook")`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-245">To orient yourself, use a filter like `ContainsBin(FrameData, ASCII, "office")` or `ContainsBin(FrameData, ASCII, "outlook")`.</span></span> <span data-ttu-id="a7de1-246">Puede grabar el número de marco desde el archivo de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-246">You can record your frame number from the trace file.</span></span> <span data-ttu-id="a7de1-247">Es posible que también desee desplazar el panel de _Resumen_ de tramas a la derecha y buscar la columna de identificador de conversación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-247">You may also want to scroll the _Frame Summary_ pane all the way to the right and look for the Conversation ID column.</span></span> <span data-ttu-id="a7de1-248">Hay un número que se indica allí para el identificador de esta conversación específica que también puede grabar y mirar en aislamiento más adelante.</span><span class="sxs-lookup"><span data-stu-id="a7de1-248">There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later.</span></span> <span data-ttu-id="a7de1-249">Recuerde quitar este filtro antes de aplicar cualquier otro filtrado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-249">Remember to remove this filter before applying any other filtering.</span></span>

> [!TIP]
> <span data-ttu-id="a7de1-250">Netmon tiene muchos filtros integrados útiles.</span><span class="sxs-lookup"><span data-stu-id="a7de1-250">Netmon has a lot of helpful built-in filters.</span></span> <span data-ttu-id="a7de1-251">Pruebe el botón **cargar filtro** en la parte superior del panel de filtros para _Mostrar_ .</span><span class="sxs-lookup"><span data-stu-id="a7de1-251">Try the **Load Filter** button at the top of the _Display_ filter pane.</span></span>
  
![Busque su IP mediante PSPing en la línea de comandos del equipo cliente.](media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)
  
![Seguimiento de Netmon desde el cliente que muestra el mismo comando PSPing a través del TCP del filtro. Flags. SYN = = 1.](media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)
  
<span data-ttu-id="a7de1-254">Familiarizarse con el tráfico y aprender a localizar la información que necesita.</span><span class="sxs-lookup"><span data-stu-id="a7de1-254">Get familiar with your traffic, and learn to locate the information you need.</span></span> <span data-ttu-id="a7de1-255">Por ejemplo, aprenda a determinar qué paquete de la traza tiene la primera referencia al servicio de Office 365 que está usando (como "Outlook").</span><span class="sxs-lookup"><span data-stu-id="a7de1-255">For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>

<span data-ttu-id="a7de1-256">Realizar Office 365 Outlook online como ejemplo, el tráfico comienza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="a7de1-256">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>
  
- <span data-ttu-id="a7de1-257">Consulta estándar de DNS y respuesta DNS para outlook.office365.com con QueryIDs coincidentes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-257">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs.</span></span> <span data-ttu-id="a7de1-258">Es importante tener en cuenta el desplazamiento de tiempo de esta solución, así como el lugar del mundo en el que el DNS global de Office 365 envía la solicitud de resolución de nombres.</span><span class="sxs-lookup"><span data-stu-id="a7de1-258">It's important to note the time offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution.</span></span> <span data-ttu-id="a7de1-259">Idealmente, en la medida de lo posible, en lugar de una mitad de camino en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-259">Ideally, as locally as possible, rather than halfway across the world.</span></span>

- <span data-ttu-id="a7de1-260">Una solicitud GET HTTP cuyo informe de estado se movió permanentemente (301)</span><span class="sxs-lookup"><span data-stu-id="a7de1-260">A HTTP GET Request whose status report Moved Permanently (301)</span></span>

- <span data-ttu-id="a7de1-261">Tráfico RWS, incluidas las solicitudes de conexión RWS y las respuestas de conexión.</span><span class="sxs-lookup"><span data-stu-id="a7de1-261">RWS Traffic including RWS Connect requests and Connect replies.</span></span> <span data-ttu-id="a7de1-262">(Este es el Winsock remoto que realiza una conexión).</span><span class="sxs-lookup"><span data-stu-id="a7de1-262">(This is Remote Winsock making a connection for you.)</span></span>

- <span data-ttu-id="a7de1-263">Una conversación TCP SYN y TCP SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-263">A TCP SYN and TCP SYN/ACK conversation.</span></span> <span data-ttu-id="a7de1-264">Muchas de las opciones de configuración de esta conversación afectan al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-264">A lot of the settings in this conversation impact your performance.</span></span>

- <span data-ttu-id="a7de1-265">A continuación, una serie de tráfico TLS: TLS, que es donde tienen lugar el protocolo de enlace TLS y las conversaciones del certificado TLS.</span><span class="sxs-lookup"><span data-stu-id="a7de1-265">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place.</span></span> <span data-ttu-id="a7de1-266">Recuerde que los datos se cifran a través de SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="a7de1-266">(Remember the data is encrypted via SSL/TLS.)</span></span>

<span data-ttu-id="a7de1-267">Todas las partes del tráfico son importantes y conectadas, pero las pequeñas partes de la traza contienen información especialmente importante en términos de solución de problemas de rendimiento, por lo que nos centraremos en esas áreas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-267">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas.</span></span> <span data-ttu-id="a7de1-268">Además, dado que hemos realizado suficiente solución de problemas de rendimiento de Office 365 en Microsoft para compilar una lista de los diez principales problemas comunes, nos centraremos en esos problemas y en cómo usar las herramientas que debemos incluir en la raíz siguiente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-268">Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>
  
<span data-ttu-id="a7de1-269">Si no los ha instalado, la matriz siguiente hace uso de varias herramientas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-269">If you haven't installed them all ready, the matrix below makes use of several tools.</span></span> <span data-ttu-id="a7de1-270">Siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="a7de1-270">Where possible.</span></span> <span data-ttu-id="a7de1-271">Se proporcionan vínculos a los puntos de instalación.</span><span class="sxs-lookup"><span data-stu-id="a7de1-271">Links are provided to the installation points.</span></span> <span data-ttu-id="a7de1-272">La lista incluye herramientas de seguimiento de red comunes como [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) y [Wireshark](https://www.wireshark.org/), pero use cualquier herramienta de seguimiento con la que esté familiarizado y en el que esté acostumbrado a filtrar el tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-272">The list includes common network tracing tools like [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic.</span></span> <span data-ttu-id="a7de1-273">Al realizar las pruebas, recuerde:</span><span class="sxs-lookup"><span data-stu-id="a7de1-273">When you're testing, remember:</span></span>
  
- <span data-ttu-id="a7de1-274">*Cierre los exploradores y pruebe con un solo explorador en ejecución* , lo que reducirá el tráfico general que se captura.</span><span class="sxs-lookup"><span data-stu-id="a7de1-274">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture.</span></span> <span data-ttu-id="a7de1-275">Realiza un seguimiento menos ocupado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-275">It makes for a less busy trace.</span></span>
- <span data-ttu-id="a7de1-276">*Vacíe la caché de resolución DNS en el equipo cliente* : Esto le ofrecerá una tableta táctil limpia cuando empiece a realizar la captura, para obtener un seguimiento más nítido.</span><span class="sxs-lookup"><span data-stu-id="a7de1-276">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span>

## <a name="common-issues"></a><span data-ttu-id="a7de1-277">Problemas comunes</span><span class="sxs-lookup"><span data-stu-id="a7de1-277">Common issues</span></span>

<span data-ttu-id="a7de1-278">Algunos problemas comunes que pueden surgir y cómo encontrarlos en el seguimiento de la red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-278">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="a7de1-279">Ajuste de escala de Windows TCP</span><span class="sxs-lookup"><span data-stu-id="a7de1-279">TCP Windows Scaling</span></span>

<span data-ttu-id="a7de1-280">Se encuentra en el SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-280">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="a7de1-281">Es posible que el hardware heredado o antiguo no aproveche el escalado de ventanas TCP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-281">Legacy or aging hardware may not take advantage of TCP windows scaling.</span></span>  <span data-ttu-id="a7de1-282">Sin la configuración de escalado de Windows TCP adecuada, el búfer de 16 bits predeterminado en los encabezados TCP se rellenará en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-282">Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.</span></span>  <span data-ttu-id="a7de1-283">El tráfico no puede continuar el envío hasta que el cliente recibe una confirmación de que se han recibido los datos originales, lo que provoca retrasos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-283">Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-284">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-284">Tools</span></span>

- <span data-ttu-id="a7de1-285">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-285">Netmon</span></span>
- <span data-ttu-id="a7de1-286">Wireshark</span><span class="sxs-lookup"><span data-stu-id="a7de1-286">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-287">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-287">What to look for</span></span>

<span data-ttu-id="a7de1-288">Busque el tráfico SYN-SYN/ACK en el seguimiento de red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-288">Look for the SYN - SYN/ACK traffic in your network trace.</span></span>  <span data-ttu-id="a7de1-289">En Netmon, use un filtro como `tcp.flags.syn == 1`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-289">In Netmon, use a filter like  `tcp.flags.syn == 1`.</span></span> <span data-ttu-id="a7de1-290">Este filtro es el mismo en Wireshark.</span><span class="sxs-lookup"><span data-stu-id="a7de1-290">This filter is the same in Wireshark.</span></span>  

![Filtrar en Netmon o Wireshark para paquetes SYN para ambas herramientas: TCP. Flags. SYN = = 1.](media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)

<span data-ttu-id="a7de1-292">Observe que para cada SYN hay un número de puerto de origen (SrcPort) que coincide en el puerto de destino (DstPort) de la confirmación relacionada (SYN/ACK).</span><span class="sxs-lookup"><span data-stu-id="a7de1-292">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span>

<span data-ttu-id="a7de1-293">Para ver el valor de escalado de ventanas que usa la conexión de red, expanda primero el SYN y, después, el SYN/ACK relacionado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-293">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>  

![Gráfico que muestra cómo hacer coincidir SrcPort con DstPort en un seguimiento para obtener la diferencia de tiempo.](media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)  

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="a7de1-295">Configuración de tiempo de inactividad de TCP</span><span class="sxs-lookup"><span data-stu-id="a7de1-295">TCP Idle Time Settings</span></span>

<span data-ttu-id="a7de1-296">Históricamente, la mayoría de las redes perimetrales están configuradas para conexiones transitorias, lo que significa que las conexiones inactivas suelen finalizar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-296">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated.</span></span> <span data-ttu-id="a7de1-297">Las sesiones TCP inactivas pueden finalizar por los servidores proxy y los firewalls de más de 100 a 300 segundos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-297">Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds.</span></span> <span data-ttu-id="a7de1-298">Esto es problemático para Outlook online porque crea y usa conexiones a largo plazo, independientemente de si están inactivas o no.</span><span class="sxs-lookup"><span data-stu-id="a7de1-298">This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>  

<span data-ttu-id="a7de1-299">Cuando las conexiones se terminan por medio de proxy o dispositivos de firewall, el cliente no se informa, y un intento de usar Outlook online significa que un equipo cliente probará, repetidamente, la conexión antes de crear una nueva.</span><span class="sxs-lookup"><span data-stu-id="a7de1-299">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one.</span></span> <span data-ttu-id="a7de1-300">Es posible que vea bloqueos en el producto, mensajes o un rendimiento lento en la carga de páginas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-300">You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-301">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-301">Tools</span></span>

- <span data-ttu-id="a7de1-302">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-302">Netmon</span></span>
- <span data-ttu-id="a7de1-303">Wireshark</span><span class="sxs-lookup"><span data-stu-id="a7de1-303">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-304">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-304">What to look for</span></span>

<span data-ttu-id="a7de1-305">En Netmon, mire en el campo de desplazamiento de tiempo para una acción de ida y vuelta.</span><span class="sxs-lookup"><span data-stu-id="a7de1-305">In Netmon, look at the Time Offset field for a round-trip.</span></span> <span data-ttu-id="a7de1-306">Un recorrido de ida y vuelta es el tiempo que transvierte entre el cliente que envía una solicitud al servidor y recibe una respuesta.</span><span class="sxs-lookup"><span data-stu-id="a7de1-306">A round-trip is the time between client sending a request to the server and receiving a response back.</span></span> <span data-ttu-id="a7de1-307">Compruebe entre el cliente y el punto de salida (ex.</span><span class="sxs-lookup"><span data-stu-id="a7de1-307">Check between the Client and the egress point (ex.</span></span> <span data-ttu-id="a7de1-308">Cliente:\> proxy) o el cliente a Office 365 (Client--\> Office 365).</span><span class="sxs-lookup"><span data-stu-id="a7de1-308">Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365).</span></span> <span data-ttu-id="a7de1-309">Puede ver esto en muchos tipos de paquetes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-309">You can see this in many types of packets.</span></span>

<span data-ttu-id="a7de1-310">Por ejemplo, el filtro de Netmon puede tener el aspecto `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`o, en Wireshark, `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-310">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>  

> [!TIP]
> <span data-ttu-id="a7de1-311">¿No sabe si la dirección IP de su seguimiento pertenece a su servidor DNS?</span><span class="sxs-lookup"><span data-stu-id="a7de1-311">Don't know if the IP address in your trace belongs to your DNS server?</span></span> <span data-ttu-id="a7de1-312">Intente buscarlo en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-312">Try looking it up at the command line.</span></span> <span data-ttu-id="a7de1-313">Haga clic en **iniciar** \> **la ejecución** \> , escriba **cmd**, o presione la **tecla** \> Windows y escriba **cmd**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-313">Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**.</span></span> <span data-ttu-id="a7de1-314">En el símbolo del sistema `nslookup <the IP address from the network trace>`, escriba.</span><span class="sxs-lookup"><span data-stu-id="a7de1-314">At the prompt, type  `nslookup <the IP address from the network trace>`.</span></span> <span data-ttu-id="a7de1-315">Para probar, use nslookup con la dirección IP de su equipo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-315">To test, use nslookup against your own computer's IP address.</span></span> <span data-ttu-id="a7de1-316">> para ver una lista de los intervalos IP de Microsoft, consulte [Office 365 URL e intervalos de direcciones IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7de1-316">> To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span>

<span data-ttu-id="a7de1-317">Si hay un problema, espere que aparezcan desplazamientos de tiempo prolongados (en este caso, Outlook online), especialmente en TLS: paquetes TLS que muestran el paso de los datos de la aplicación (por ejemplo, en Netmon puede encontrar paquetes `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`de datos de aplicación a través de).</span><span class="sxs-lookup"><span data-stu-id="a7de1-317">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`).</span></span> <span data-ttu-id="a7de1-318">Debería ver una progresión suave en el tiempo a lo largo de la sesión.</span><span class="sxs-lookup"><span data-stu-id="a7de1-318">You should see a smooth progression in the time across the session.</span></span> <span data-ttu-id="a7de1-319">Si ve retrasos prolongados al actualizar Outlook online, esto podría deberse a un alto grado de Resets que se enviaron.</span><span class="sxs-lookup"><span data-stu-id="a7de1-319">If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span>

### <a name="latencyround-trip-time"></a><span data-ttu-id="a7de1-320">Tiempo de latencia/tiempo de ida y vuelta</span><span class="sxs-lookup"><span data-stu-id="a7de1-320">Latency/Round Trip Time</span></span>

<span data-ttu-id="a7de1-321">La latencia es una medida que puede cambiar mucho en función de muchas variables, como la actualización de dispositivos de caducidad, la adición de un gran número de usuarios a una red y el porcentaje de ancho de banda general consumido por otras tareas en una conexión de red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-321">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span>

<span data-ttu-id="a7de1-322">Hay calculadoras de ancho de banda para Office 365 disponible en esta página de planeación de [red y ajuste del rendimiento para office 365](network-planning-and-performance.md) .</span><span class="sxs-lookup"><span data-stu-id="a7de1-322">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>  

<span data-ttu-id="a7de1-323">¿Necesita medir la velocidad de la conexión o el ancho de banda de la conexión de su ISP?</span><span class="sxs-lookup"><span data-stu-id="a7de1-323">Need to measure the speed of your connection, or your ISP connection's bandwidth?</span></span> <span data-ttu-id="a7de1-324">Prueba este sitio (o sitios como él): [sitio oficial de speedtest](https://www.speedtest.net/)y [Pingtest](http://www.pingtest.net/).</span><span class="sxs-lookup"><span data-stu-id="a7de1-324">Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), and [Pingtest](http://www.pingtest.net/).</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-325">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-325">Tools</span></span>

- <span data-ttu-id="a7de1-326">Ping</span><span class="sxs-lookup"><span data-stu-id="a7de1-326">Ping</span></span>
- <span data-ttu-id="a7de1-327">PsPing</span><span class="sxs-lookup"><span data-stu-id="a7de1-327">PsPing</span></span>
- <span data-ttu-id="a7de1-328">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-328">Netmon</span></span>
- <span data-ttu-id="a7de1-329">Wireshark</span><span class="sxs-lookup"><span data-stu-id="a7de1-329">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-330">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-330">What to look for</span></span>

<span data-ttu-id="a7de1-331">Para realizar un seguimiento de la latencia en un seguimiento, se beneficiará de haber registrado la dirección IP del equipo cliente y la dirección IP del servidor DNS en Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-331">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365.</span></span> <span data-ttu-id="a7de1-332">Esto se realiza con el fin de facilitar el filtrado de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-332">This is for the purpose of easier trace filtering.</span></span> <span data-ttu-id="a7de1-333">Si se conecta a través de un proxy, necesitará la dirección IP del equipo cliente, la dirección IP del servidor proxy/salida y la dirección IP de DNS de Office 365 para facilitar el trabajo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-333">If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>  

<span data-ttu-id="a7de1-334">Una solicitud de ping enviada a outlook.office365.com le dirá el nombre del centro de recursos que recibe la solicitud, aunque ping \*\* no pueda conectarse para enviar los paquetes ICMP consecutivos de marca comercial.</span><span class="sxs-lookup"><span data-stu-id="a7de1-334">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets.</span></span> <span data-ttu-id="a7de1-335">Si usa PsPing (una herramienta gratuita para la descarga) y específica el puerto (443) y quizás para usar IPv4 (-4), obtendrá un tiempo medio de ida y vuelta para los paquetes enviados.</span><span class="sxs-lookup"><span data-stu-id="a7de1-335">If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent.</span></span> <span data-ttu-id="a7de1-336">Esto funcionará para otras direcciones URL en los servicios de Office 365, `psping -4 yourSite.sharepoint.com:443`como.</span><span class="sxs-lookup"><span data-stu-id="a7de1-336">This will work this for other URLs in the Office 365 services, like `psping -4 yourSite.sharepoint.com:443`.</span></span> <span data-ttu-id="a7de1-337">De hecho, puede especificar un número de pings para obtener un ejemplo más amplio para su promedio, pruebe algo como `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-337">In fact, you can specify a number of pings to get a larger sample for your average, try something like `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>  

> [!NOTE]
> <span data-ttu-id="a7de1-338">PsPing no envía paquetes ICMP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-338">PsPing doesn't send ICMP packets.</span></span> <span data-ttu-id="a7de1-339">Hace ping con los paquetes TCP a través de un puerto específico, por lo que puede usar uno que sepa que está abierto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-339">It pings with TCP packets over a specific port, so you can use any one you know to be open.</span></span> <span data-ttu-id="a7de1-340">En Office 365, que usa SSL/TLS, intente conectar el puerto: 443 a la PsPing.</span><span class="sxs-lookup"><span data-stu-id="a7de1-340">In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Captura de pantalla que muestra un ping que resuelve outlook.office365.com y un PSPing con 443 haciendo lo mismo, pero también informa de un RTT MS media de 6,5.](media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)

<span data-ttu-id="a7de1-342">Si cargó la página de Office 365 con lentitud al realizar un seguimiento de red, debe filtrar un seguimiento de Netmon o `DNS`Wireshark para.</span><span class="sxs-lookup"><span data-stu-id="a7de1-342">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for `DNS`.</span></span> <span data-ttu-id="a7de1-343">Esta es una de las IP que estamos buscando.</span><span class="sxs-lookup"><span data-stu-id="a7de1-343">This is one of the IPs we're looking for.</span></span>  

<span data-ttu-id="a7de1-344">Estos son los pasos que se deben seguir para filtrar Netmon para obtener la dirección IP (y echar un vistazo a la latencia de DNS).</span><span class="sxs-lookup"><span data-stu-id="a7de1-344">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency).</span></span> <span data-ttu-id="a7de1-345">En este ejemplo se usa outlook.office365.com, pero también se puede usar la dirección URL de un inquilino de SharePoint Online (hithere.sharepoint.com por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="a7de1-345">This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>  

1. <span data-ttu-id="a7de1-346">Haga ping a `ping outlook.office365.com` la dirección URL y, en los resultados, anote el nombre y la dirección IP del servidor DNS al que se envió la solicitud de ping.</span><span class="sxs-lookup"><span data-stu-id="a7de1-346">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span>
2. <span data-ttu-id="a7de1-347">Trace en la red abriendo la página o realizando la acción que le da el problema de rendimiento, o bien, si ve una latencia alta en el ping, realice un seguimiento de la red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-347">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span>
3. <span data-ttu-id="a7de1-348">Abra la traza en Netmon y filtre por DNS (este filtro también funciona en Wireshark, pero es sensible a mayúsculas y minúsculas `-- dns`).</span><span class="sxs-lookup"><span data-stu-id="a7de1-348">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`).</span></span> <span data-ttu-id="a7de1-349">Como conoce el nombre del servidor DNS de su ping, también puede filtrar con mayor rapidez en Netmon de la manera siguiente `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`:, que tiene este aspecto en DNS de Wireshark y frame contiene "namnorthwest".</span><span class="sxs-lookup"><span data-stu-id="a7de1-349">Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`, which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="a7de1-350">Abra el paquete de respuesta y, en la ventana **detalles del marco** Netmon, haga clic en **DNS** para expandir para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="a7de1-350">Open the response packet and, in the Netmon **Frame Details** window, click **DNS** to expand for more information.</span></span> <span data-ttu-id="a7de1-351">En la información de DNS, encontrará la dirección IP del servidor DNS al que se redirigió la solicitud en Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-351">In the DNS information you'll find the IP address of the DNS server the request went to in Office 365.</span></span> <span data-ttu-id="a7de1-352">Necesitará esta dirección IP para el paso siguiente (la herramienta PsPing).</span><span class="sxs-lookup"><span data-stu-id="a7de1-352">You'll need this IP address for the next step (the PsPing tool).</span></span> <span data-ttu-id="a7de1-353">Quite el filtro, haga clic con el botón secundario en la respuesta DNS en Netmon (**Frame Summary** \> **Find Conversations** \> **DNS**) para ver la consulta y la respuesta DNS en paralelo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-353">Remove the filter, right-click on the DNS Response in Netmon (**Frame Summary** \> **Find Conversations** \> **DNS**) to see the DNS Query and Response side-by-side.</span></span>
4. <span data-ttu-id="a7de1-354">En Netmon, tenga en cuenta también la columna de desplazamiento de tiempo entre la solicitud de DNS y la respuesta.</span><span class="sxs-lookup"><span data-stu-id="a7de1-354">In Netmon, also note the Time Offset  column between the DNS Request and Response.</span></span> <span data-ttu-id="a7de1-355">En el paso siguiente, la herramienta [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) fácil de instalar y usar es muy útil, porque ICMP suele bloquearse en los firewalls y porque PsPing rastrea de forma elegante la latencia en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-355">In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds.</span></span> <span data-ttu-id="a7de1-356">PsPing completa una conexión TCP con una dirección y un puerto (en nuestro caso, Open Port 443).</span><span class="sxs-lookup"><span data-stu-id="a7de1-356">PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span>
5. <span data-ttu-id="a7de1-357">Instale PsPing.</span><span class="sxs-lookup"><span data-stu-id="a7de1-357">Install PsPing.</span></span>
6. <span data-ttu-id="a7de1-358">Abra un símbolo del sistema ( \> inicie \> el tipo de ejecución CMD o \> el tipo de clave de Windows cmd) y cambie el directorio al directorio en el que ha instalado psping para ejecutar el comando psping.</span><span class="sxs-lookup"><span data-stu-id="a7de1-358">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command.</span></span> <span data-ttu-id="a7de1-359">En mis ejemplos, puede ver que he creado una carpeta "Perf" en la raíz de C. Puede hacer lo mismo para tener acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="a7de1-359">In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span>
7. <span data-ttu-id="a7de1-360">Escriba el comando para crear PsPing con la dirección IP del servidor DNS de Office 365 desde la traza anterior de Netmon, incluido el número de puerto, como `psping -n 20 132.245.24.82:445`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-360">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace, including the port number, like `psping -n 20 132.245.24.82:445`.</span></span> <span data-ttu-id="a7de1-361">Esto le proporcionará un muestreo de 20 pings y el promedio de latencia cuando se detiene PsPing.</span><span class="sxs-lookup"><span data-stu-id="a7de1-361">This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span>

<span data-ttu-id="a7de1-362">Si va a Office 365 a través de un servidor proxy, los pasos son un poco diferentes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-362">If you're going to Office 365 through a proxy server, the steps are a little different.</span></span> <span data-ttu-id="a7de1-363">Primero puede usar PsPing en el servidor proxy para obtener un valor de latencia media en milisegundos a proxy/salida y hacia atrás y, a continuación, ejecutar PsPing en el proxy o en un equipo con una conexión directa a Internet para obtener el valor que falta (de uno a Office 365 y posterior).</span><span class="sxs-lookup"><span data-stu-id="a7de1-363">You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>  

<span data-ttu-id="a7de1-364">Si elige ejecutar PsPing desde el proxy, tendrá dos valores de milisegundos: el equipo cliente al servidor proxy o el punto de salida y el servidor proxy a Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-364">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365.</span></span> <span data-ttu-id="a7de1-365">Y ya habrá terminado.</span><span class="sxs-lookup"><span data-stu-id="a7de1-365">And you're done!</span></span> <span data-ttu-id="a7de1-366">Pues bien, registre valores de todas formas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-366">Well, recording values, anyway.</span></span>  

<span data-ttu-id="a7de1-367">Si ejecuta PsPing en otro equipo cliente que tiene una conexión directa a Internet, es decir, tendrá dos valores de milisegundos: el equipo cliente al servidor proxy o el punto de salida, y el equipo cliente a Office 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-367">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365.</span></span> <span data-ttu-id="a7de1-368">En este caso, reste el valor del equipo cliente al servidor proxy o del punto de salida del valor del equipo cliente a Office 365, y tendrá los números de RTT desde el equipo cliente al servidor proxy o el punto de salida, y desde el servidor proxy o el punto de salida a Offi CE 365.</span><span class="sxs-lookup"><span data-stu-id="a7de1-368">In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span>

<span data-ttu-id="a7de1-369">Sin embargo, si puede encontrar un equipo cliente en la ubicación afectada que esté directamente conectada, o si omite el proxy, puede elegir ver si el problema reproduce allí para empezar y probar su uso posterior.</span><span class="sxs-lookup"><span data-stu-id="a7de1-369">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it thereafter.</span></span>

<span data-ttu-id="a7de1-370">Latencia, como se ve en un seguimiento de Netmon, esos milisegundos adicionales pueden sumarse si hay suficientes en una sesión determinada.</span><span class="sxs-lookup"><span data-stu-id="a7de1-370">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>  

![Latencia general de Netmon, con la columna de diferencia de tiempo predeterminada de Netmon agregada al Resumen de marco.](media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="a7de1-372">Es posible que la dirección IP sea diferente a la que se muestra aquí; por ejemplo, la ping puede devolver algo más similar a 157.56.0.0/16 o un intervalo similar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-372">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range.</span></span> <span data-ttu-id="a7de1-373">Para obtener una lista de los rangos usados por Office 365, consulte [office 365 URL e intervalos de direcciones IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7de1-373">For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span>

<span data-ttu-id="a7de1-374">Recuerde expandir todos los nodos (hay un botón en la parte superior para esto) Si desea buscar, por ejemplo, 132,245.</span><span class="sxs-lookup"><span data-stu-id="a7de1-374">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="a7de1-375">Autenticación de proxy</span><span class="sxs-lookup"><span data-stu-id="a7de1-375">Proxy Authentication</span></span>

<span data-ttu-id="a7de1-376">Esto solo se aplica a usted si va a través de un servidor proxy.</span><span class="sxs-lookup"><span data-stu-id="a7de1-376">This only applies to you if you're going through a proxy server.</span></span> <span data-ttu-id="a7de1-377">Si no es así, puede omitir estos pasos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-377">If not, you can skip these steps.</span></span> <span data-ttu-id="a7de1-378">Cuando funciona correctamente, la autenticación de proxy se debe realizar en milisegundos, de forma coherente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-378">When working properly, proxy authentication should take place in milliseconds, consistently.</span></span> <span data-ttu-id="a7de1-379">No debe ver intermitentemente un rendimiento defectuoso durante los períodos de uso máximo (por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="a7de1-379">You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>  

<span data-ttu-id="a7de1-380">Si la autenticación de proxy está activada, cada vez que realice una nueva conexión TCP a Office 365 para obtener información, deberá pasar por un proceso de autenticación en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="a7de1-380">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes.</span></span> <span data-ttu-id="a7de1-381">Así que, por ejemplo, al cambiar de calendario a correo en Outlook online, se autenticará.</span><span class="sxs-lookup"><span data-stu-id="a7de1-381">So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate.</span></span> <span data-ttu-id="a7de1-382">Y en SharePoint Online, si una página muestra medios o datos de varios sitios o ubicaciones, se autenticará por cada conexión TCP necesaria para representar los datos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-382">And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>  

<span data-ttu-id="a7de1-383">En Outlook online, es posible que experimente tiempos de carga lentos cada vez que cambie entre el calendario y el buzón o que la carga de páginas sea lenta en SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="a7de1-383">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online.</span></span> <span data-ttu-id="a7de1-384">Sin embargo, hay otros síntomas que no aparecen aquí.</span><span class="sxs-lookup"><span data-stu-id="a7de1-384">However, there are other symptoms not listed here.</span></span>

<span data-ttu-id="a7de1-385">La autenticación de proxy es una configuración en el servidor proxy de salida.</span><span class="sxs-lookup"><span data-stu-id="a7de1-385">Proxy authentication is a setting on your egress proxy server.</span></span> <span data-ttu-id="a7de1-386">Si está causando un problema de rendimiento con Office 365, debe consultar a su equipo de red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-386">If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>  

#### <a name="tools"></a><span data-ttu-id="a7de1-387">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-387">Tools</span></span>

- <span data-ttu-id="a7de1-388">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-388">Netmon</span></span>
- <span data-ttu-id="a7de1-389">Wireshark</span><span class="sxs-lookup"><span data-stu-id="a7de1-389">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-390">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-390">What to look for</span></span>

<span data-ttu-id="a7de1-391">La autenticación de proxy tiene lugar siempre que se debe subir una nueva sesión de TCP, normalmente solicitar archivos o información del servidor, o proporcionar información.</span><span class="sxs-lookup"><span data-stu-id="a7de1-391">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info.</span></span> <span data-ttu-id="a7de1-392">Por ejemplo, puede ver la autenticación proxy en torno a las solicitudes HTTP GET o HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="a7de1-392">For example, you may see proxy authentication around HTTP GET or HTTP POST requests.</span></span> <span data-ttu-id="a7de1-393">Si desea ver los marcos en los que va a autenticar las solicitudes en el seguimiento, agregue la columna "Resumen de NTLMSSP" a Netmon y `.property.NTLMSSPSummary`filtre por.</span><span class="sxs-lookup"><span data-stu-id="a7de1-393">If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`.</span></span> <span data-ttu-id="a7de1-394">Para ver el tiempo que toma la autenticación, agregue la columna Delta de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-394">To see how long the authentication is taking, add the Time Delta column.</span></span>

<span data-ttu-id="a7de1-395">Para agregar una columna a Netmon:</span><span class="sxs-lookup"><span data-stu-id="a7de1-395">To add a column to Netmon:</span></span>

1. <span data-ttu-id="a7de1-396">Haga clic con el botón secundario en una columna como **Descripción**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-396">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="a7de1-397">Haga clic en **elegir columnas**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-397">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="a7de1-398">Busque _Resumen de NTLMSSP_ y _Delta de tiempo_ en la lista y haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-398">Locate _NTLMSSP Summary_ and _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="a7de1-399">Mueva las nuevas columnas a su posición antes o detrás de la columna de _Descripción_ para que pueda leerlas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-399">Move the new columns into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="a7de1-400">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-400">Click **OK**.</span></span>

<span data-ttu-id="a7de1-401">Incluso si no agrega la columna, el filtro Netmon funcionará.</span><span class="sxs-lookup"><span data-stu-id="a7de1-401">Even if you don't add the column, the Netmon filter will work.</span></span> <span data-ttu-id="a7de1-402">Pero su solución de problemas será mucho más fácil si puede ver en qué fase de autenticación se encuentra.</span><span class="sxs-lookup"><span data-stu-id="a7de1-402">But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span>

<span data-ttu-id="a7de1-403">Al buscar instancias de autenticación proxy, asegúrese de estudiar todas las tramas en las que haya un desafío NTLM o de que haya un mensaje de autenticación presente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-403">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present.</span></span> <span data-ttu-id="a7de1-404">Si es necesario, haga clic con el botón secundario en la parte específica \> del tráfico y busque las conversaciones TCP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-404">If necessary, right-click the specific piece of traffic and Find Conversations \> TCP.</span></span> <span data-ttu-id="a7de1-405">Tenga en cuenta los valores de incremento de tiempo de estas conversaciones.</span><span class="sxs-lookup"><span data-stu-id="a7de1-405">Be aware of the Time Delta values in these Conversations.</span></span>

![Seguimiento de Netmon que muestra la autenticación de proxy, filtrada por conversación.](media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)

<span data-ttu-id="a7de1-407">Un retraso de cuatro segundos en la autenticación de proxy tal y como aparece en Wireshark.</span><span class="sxs-lookup"><span data-stu-id="a7de1-407">A four second delay in proxy authentication as seen in Wireshark.</span></span> <span data-ttu-id="a7de1-408">La **diferencia de tiempo de** la columna de marco mostrada anteriormente se realizó haciendo clic con el botón secundario en el campo del mismo nombre en los detalles del marco y seleccionando Agregar como columna.</span><span class="sxs-lookup"><span data-stu-id="a7de1-408">The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.</span></span>  <br/> <span data-ttu-id="a7de1-409">![En Wireshark, se puede hacer clic con el botón secundario del mouse en el campo del mismo nombre en los detalles del marco y seleccionar agregar como columna para realizar la "diferencia de tiempo desde el marco mostrado anteriormente".](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="a7de1-409">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>

### <a name="dns-performance"></a><span data-ttu-id="a7de1-410">Rendimiento de DNS</span><span class="sxs-lookup"><span data-stu-id="a7de1-410">DNS Performance</span></span>

<span data-ttu-id="a7de1-411">La resolución de nombres funciona mejor y más rápidamente cuando tiene una posición tan cercana al país del cliente como sea posible.</span><span class="sxs-lookup"><span data-stu-id="a7de1-411">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span>

<span data-ttu-id="a7de1-412">Si la resolución de nombres DNS tiene lugar internacional, puede Agregar segundos a la carga de páginas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-412">If DNS name resolution is taking place overseas, it can add seconds to page loads.</span></span> <span data-ttu-id="a7de1-413">Idealmente, la resolución de nombres tiene lugar en menos de 100 ms.</span><span class="sxs-lookup"><span data-stu-id="a7de1-413">Ideally, name resolution happens in under 100ms.</span></span> <span data-ttu-id="a7de1-414">Si no es así, debe seguir investigando.</span><span class="sxs-lookup"><span data-stu-id="a7de1-414">If not, you should do further investigation.</span></span>

> [!TIP]
> <span data-ttu-id="a7de1-415">¿No está seguro de cómo funciona la conectividad de cliente en Office 365?</span><span class="sxs-lookup"><span data-stu-id="a7de1-415">Not sure how Client Connectivity works in Office 365?</span></span> <span data-ttu-id="a7de1-416">Eche un vistazo al documento de referencia de conectividad [](https://technet.microsoft.com/en-us/library/dn741250.aspx)de clientes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-416">Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-417">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-417">Tools</span></span>

- <span data-ttu-id="a7de1-418">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-418">Netmon</span></span>
- <span data-ttu-id="a7de1-419">Wireshark</span><span class="sxs-lookup"><span data-stu-id="a7de1-419">Wireshark</span></span>
- <span data-ttu-id="a7de1-420">PsPing</span><span class="sxs-lookup"><span data-stu-id="a7de1-420">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-421">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-421">What to look for</span></span>

<span data-ttu-id="a7de1-422">El análisis del rendimiento de DNS suele ser otro trabajo para realizar un seguimiento de la red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-422">Analyzing DNS performance is typically another job for a network trace.</span></span> <span data-ttu-id="a7de1-423">Sin embargo, PsPing también resulta útil para dar una causa o una posible causa.</span><span class="sxs-lookup"><span data-stu-id="a7de1-423">However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span>

<span data-ttu-id="a7de1-424">El tráfico DNS se basa en las solicitudes y respuestas de TCP y UDP que se marcan claramente con un identificador que le ayudará a hacer coincidir una solicitud específica con su respuesta específica.</span><span class="sxs-lookup"><span data-stu-id="a7de1-424">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response.</span></span> <span data-ttu-id="a7de1-425">Verá el tráfico de DNS cuando, por ejemplo, SharePoint Online usa un nombre de red o una dirección URL en una página web.</span><span class="sxs-lookup"><span data-stu-id="a7de1-425">You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page.</span></span> <span data-ttu-id="a7de1-426">Como regla general, la mayor parte de este tráfico, excepto cuando se transfieren zonas, se ejecuta sobre UDP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-426">As a rule of thumb, most of this traffic, except when transferring Zones, runs over UDP.</span></span>

<span data-ttu-id="a7de1-427">En Netmon y Wireshark, el filtro más básico que le permitirá ver el tráfico de DNS es sencillamente `dns`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-427">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply `dns`.</span></span> <span data-ttu-id="a7de1-428">Asegúrese de usar minúsculas al especificar el filtro.</span><span class="sxs-lookup"><span data-stu-id="a7de1-428">Be sure to use lower case when specifying the filter.</span></span> <span data-ttu-id="a7de1-429">Recuerde vaciar la memoria caché de resolución DNS antes de empezar a reproducir el problema en el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-429">Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer.</span></span> <span data-ttu-id="a7de1-430">Por ejemplo, si tiene una carga de página de SharePoint Online lenta para la Página principal, debe cerrar todos los exploradores, abrir un nuevo explorador, iniciar el seguimiento, vaciar la memoria caché de resolución de DNS y buscar el sitio de SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="a7de1-430">For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site.</span></span> <span data-ttu-id="a7de1-431">Una vez que se resuelva la página completa, debe detener y guardar el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-431">Once the entire page resolves, you should stop and save the trace.</span></span>

![Un filtro básico para DNS en Netmon es DNS.](media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="a7de1-433">Desea ver el desplazamiento de tiempo aquí.</span><span class="sxs-lookup"><span data-stu-id="a7de1-433">You want to look at the time offset here.</span></span> <span data-ttu-id="a7de1-434">Puede que le resulte útil agregar la columna **Delta de tiempo** a Netmon, que puede hacer completando estos pasos:</span><span class="sxs-lookup"><span data-stu-id="a7de1-434">And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span>

1. <span data-ttu-id="a7de1-435">Haga clic con el botón secundario en una columna como **Descripción**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-435">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="a7de1-436">Haga clic en **elegir columnas**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-436">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="a7de1-437">Busque la _diferencia de tiempo_ en la lista y haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-437">Locate _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="a7de1-438">Mueva la columna nueva a su posición antes o detrás de la columna de _Descripción_ para que pueda leerlas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-438">Move the new column into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="a7de1-439">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-439">Click **OK**.</span></span>

<span data-ttu-id="a7de1-440">Si encuentra una consulta de interés, considere la posibilidad de aislarla haciendo clic con el botón secundario en la consulta en el panel de detalles del marco y seleccionando **Buscar conversaciones** \> **DNS**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-440">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**.</span></span> <span data-ttu-id="a7de1-441">Observe que el panel conversaciones de red pasa directamente a la conversación específica en su registro de tráfico UDP.</span><span class="sxs-lookup"><span data-stu-id="a7de1-441">Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span>

![Un seguimiento de Netmon de la carga de Outlook online filtrada por DNS y el uso de buscar conversaciones y, a continuación, DNS para acotar los resultados.](media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)

<span data-ttu-id="a7de1-443">En Wireshark, puede crear una columna para la hora de DNS.</span><span class="sxs-lookup"><span data-stu-id="a7de1-443">In Wireshark you can make a column for DNS time.</span></span> <span data-ttu-id="a7de1-444">Realice el seguimiento (o abra un seguimiento) en Wireshark y filtre por `dns`o, más útil, `dns.time`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-444">Take your trace (or open a trace) in Wireshark and filter by `dns`, or, more helpfully,  `dns.time`.</span></span> <span data-ttu-id="a7de1-445">Haga clic en cualquier consulta DNS y, en el panel que muestra los detalles, `Domain Name System (response)` expanda los detalles.</span><span class="sxs-lookup"><span data-stu-id="a7de1-445">Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details.</span></span> <span data-ttu-id="a7de1-446">Verá un campo por hora (por ejemplo, `[Time: 0.001111100 seconds]`.</span><span class="sxs-lookup"><span data-stu-id="a7de1-446">You'll see a field for time (for example, `[Time: 0.001111100 seconds]`.</span></span> <span data-ttu-id="a7de1-447">Haga clic con el botón secundario en esta hora y seleccione **aplicar como columna**.</span><span class="sxs-lookup"><span data-stu-id="a7de1-447">Right-click this time and select **Apply as Column**.</span></span> <span data-ttu-id="a7de1-448">Esto le proporcionará una columna de **tiempo** para ordenar la traza de forma más rápida.</span><span class="sxs-lookup"><span data-stu-id="a7de1-448">This will give you a **Time** column for quicker sorting of your trace.</span></span> <span data-ttu-id="a7de1-449">Haga clic en la nueva columna para ordenar por valores descendentes para ver qué llamada DNS tardó más tiempo en resolverse.</span><span class="sxs-lookup"><span data-stu-id="a7de1-449">Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span>

[<span data-ttu-id="a7de1-450">Una exploración de SharePoint Online filtrada en Wireshark por dns.time (minúscula), con el tiempo de los detalles convertido en columna y ordenado de forma ascendente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-450">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="a7de1-451">Si desea realizar más investigaciones sobre el tiempo de resolución DNS, pruebe con PsPing el puerto DNS que usa TCP (por ejemplo, `psping <IP address of DNS server>:53`).</span><span class="sxs-lookup"><span data-stu-id="a7de1-451">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) .</span></span> <span data-ttu-id="a7de1-452">¿Sigue viendo un problema de rendimiento?</span><span class="sxs-lookup"><span data-stu-id="a7de1-452">Do you still see a performance issue?</span></span> <span data-ttu-id="a7de1-453">Si lo hace, es más probable que el problema sea un problema de red más amplio que un problema de la aplicación DNS específica que está presionando para llevar a cabo la solución.</span><span class="sxs-lookup"><span data-stu-id="a7de1-453">If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution.</span></span> <span data-ttu-id="a7de1-454">También merece la pena mencionar, de nuevo, que un ping a outlook.office365.com le dirá dónde se está llevando a cabo la resolución de nombres DNS para Outlook online (por ejemplo, outlook-namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="a7de1-454">It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).</span></span>

<span data-ttu-id="a7de1-455">Si el problema parece ser específico de DNS, puede que sea necesario ponerse en contacto con el Departamento de TI para ver las configuraciones de DNS y los reenviadores de DNS y así poder investigar este problema.</span><span class="sxs-lookup"><span data-stu-id="a7de1-455">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span>

### <a name="proxy-scalability"></a><span data-ttu-id="a7de1-456">Escalabilidad de proxy</span><span class="sxs-lookup"><span data-stu-id="a7de1-456">Proxy Scalability</span></span>

<span data-ttu-id="a7de1-457">Los servicios como Outlook online en Office 365 conceden a los clientes varias conexiones a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-457">Services like Outlook Online in Office 365 grant clients multiple long-term connections.</span></span> <span data-ttu-id="a7de1-458">Por lo tanto, cada usuario puede usar más conexiones que requieran una mayor duración.</span><span class="sxs-lookup"><span data-stu-id="a7de1-458">Therefore, each user may use more connections that require a longer life.</span></span>  

#### <a name="tools"></a><span data-ttu-id="a7de1-459">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-459">Tools</span></span>

<span data-ttu-id="a7de1-460">Matemáticas</span><span class="sxs-lookup"><span data-stu-id="a7de1-460">Math</span></span>  

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-461">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-461">What to look for</span></span>

<span data-ttu-id="a7de1-462">No hay ninguna herramienta de seguimiento de red o de solución de problemas específica para esto.</span><span class="sxs-lookup"><span data-stu-id="a7de1-462">There is no network trace or troubleshooting tool specific to this.</span></span> <span data-ttu-id="a7de1-463">En su lugar, se basa en los cálculos de ancho de banda dados limitaciones y otras variables.</span><span class="sxs-lookup"><span data-stu-id="a7de1-463">Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>  

### <a name="tcp-max-segment-size"></a><span data-ttu-id="a7de1-464">Tamaño de segmento máximo de TCP</span><span class="sxs-lookup"><span data-stu-id="a7de1-464">TCP Max Segment Size</span></span>

<span data-ttu-id="a7de1-465">Se encuentra en el SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-465">Found in the SYN - SYN/ACK.</span></span>  <span data-ttu-id="a7de1-466">Realice esta comprobación en cualquier seguimiento de red de rendimiento que haya tomado para asegurarse de que los paquetes TCP están configurados para conllevar la máxima cantidad de datos posible.</span><span class="sxs-lookup"><span data-stu-id="a7de1-466">Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span>

<span data-ttu-id="a7de1-467">El objetivo es ver un MSS de 1460 bytes para la transmisión de datos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-467">The goal is to see a MSS of 1460 bytes for transmission of data.</span></span> <span data-ttu-id="a7de1-468">Si está detrás de un proxy o está usando un NAT, recuerde ejecutar esta prueba del cliente a proxy/salida/NAT, y de proxy/salida/NAT a Office 365 para obtener mejores resultados.</span><span class="sxs-lookup"><span data-stu-id="a7de1-468">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="a7de1-469">Se trata de sesiones TCP diferentes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-469">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-470">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-470">Tools</span></span>

<span data-ttu-id="a7de1-471">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-471">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-472">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-472">What to look for</span></span>

<span data-ttu-id="a7de1-473">El tamaño de segmento máximo de TCP (MSS) es otro parámetro del Protocolo de enlace de tres vías en el seguimiento de red, lo que significa que encontrará los datos que necesita en el paquete SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-473">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet.</span></span> <span data-ttu-id="a7de1-474">En realidad, MSS es muy fácil de ver.</span><span class="sxs-lookup"><span data-stu-id="a7de1-474">MSS is actually pretty simple to see.</span></span>

<span data-ttu-id="a7de1-475">Abra cualquier seguimiento de red de rendimiento que tenga y busque la conexión de la que siente curiosidad o que muestra el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-475">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span>

> [!NOTE]
> <span data-ttu-id="a7de1-476">Si va a realizar un seguimiento y necesita encontrar el tráfico relevante para la conversación, filtre por la IP del cliente o la IP del servidor proxy o el punto de salida, o ambos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-476">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both.</span></span> <span data-ttu-id="a7de1-477">Ir directamente, tendrá que hacer ping a la dirección URL que está probando para la dirección IP de Office 365 en el seguimiento y filtrarla por ella.</span><span class="sxs-lookup"><span data-stu-id="a7de1-477">Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span>

<span data-ttu-id="a7de1-478">¿Mira la segunda mano de seguimiento?</span><span class="sxs-lookup"><span data-stu-id="a7de1-478">Looking at the trace second-hand?</span></span> <span data-ttu-id="a7de1-479">Intente usar filtros para orientarse a sí mismo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-479">Try using filters to orient yourself.</span></span> <span data-ttu-id="a7de1-480">En Netmon, ejecute una búsqueda basada en la dirección URL, como `Containsbin(framedata, ascii, "sphybridExample")`, tome nota del número de la trama.</span><span class="sxs-lookup"><span data-stu-id="a7de1-480">In Netmon, run a search based on the URL, such as `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span>

<span data-ttu-id="a7de1-481">En Wireshark, use algo `frame contains "sphybridExample"`como.</span><span class="sxs-lookup"><span data-stu-id="a7de1-481">In Wireshark use something like  `frame contains "sphybridExample"`.</span></span> <span data-ttu-id="a7de1-482">Si observa que ha encontrado tráfico remoto de Winsock (RWS) (puede aparecer como un [PSH, ACK] en Wireshark), recuerde que las conexiones RWS se pueden ver en breve antes de los SYN-SYN/ACK relevantes, tal como se explicó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a7de1-482">If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span>

<span data-ttu-id="a7de1-483">En este punto, puede grabar el número de la trama, quitar el filtro, hacer clic en **todo el tráfico** en la ventana de conversaciones de red en Netmon para ver el SYN más cercano.</span><span class="sxs-lookup"><span data-stu-id="a7de1-483">At this point, you can record the frame number, drop the filter, click **All Traffic** in the Network Conversations window in Netmon to look at the nearest SYN.</span></span>

<span data-ttu-id="a7de1-484">Importantemente, si no ha recibido ninguna información de dirección IP en el momento de la traza, al buscar la dirección URL en la traza (parte `sphybridExample-my.sharepoint.com`de, por ejemplo), obtendrá direcciones IP para filtrar por.</span><span class="sxs-lookup"><span data-stu-id="a7de1-484">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span>

<span data-ttu-id="a7de1-485">Busque la conexión en la traza que le interesa ver.</span><span class="sxs-lookup"><span data-stu-id="a7de1-485">Locate the connection in the trace that you're interested in seeing.</span></span> <span data-ttu-id="a7de1-486">Puede hacer esto examinando la traza, filtrando por direcciones IP o seleccionando identificadores de conversación específicos mediante la ventana de conversaciones de red en Netmon.</span><span class="sxs-lookup"><span data-stu-id="a7de1-486">You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="a7de1-487">Una vez que haya encontrado el paquete SYN, expanda TCP (en Netmon) o protocolo de control de transmisión (en Wireshark) en el panel Detalles de trama.</span><span class="sxs-lookup"><span data-stu-id="a7de1-487">Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel.</span></span> <span data-ttu-id="a7de1-488">Expanda opciones de TCP y MaxSegmentSize.</span><span class="sxs-lookup"><span data-stu-id="a7de1-488">Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="a7de1-489">Busque la trama SYN-ACK relacionada y expanda opciones de TCP y MaxSegmentSize.</span><span class="sxs-lookup"><span data-stu-id="a7de1-489">Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="a7de1-490">El menor de los dos valores será el tamaño máximo de segmento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-490">The smaller of the two values will be your Maximum Segment Size.</span></span> <span data-ttu-id="a7de1-491">En esta imagen, uso la columna integrada en Netmon denominado TCP Troubleshooting.</span><span class="sxs-lookup"><span data-stu-id="a7de1-491">In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>  

![Seguimiento de red filtrado en Netmon con las columnas integradas.](media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="a7de1-493">La columna integrada se encuentra en la parte superior del panel **detalles de marco** .</span><span class="sxs-lookup"><span data-stu-id="a7de1-493">The built-in column is at the top of the **Frame Details** panel.</span></span> <span data-ttu-id="a7de1-494">(Para volver a la vista normal, vuelva a hacer clic en **columnas** y, a continuación, elija **zona horaria**.)</span><span class="sxs-lookup"><span data-stu-id="a7de1-494">(To switch back to your normal view, click **Columns** again, and then choose **Time Zone**.)</span></span>

![Dónde encontrar la lista de columnas desplegable para la opción de Solucionar problemas de TCP (arriba del Resumen de marco).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)

<span data-ttu-id="a7de1-496">Este es un seguimiento filtrado en Wireshark.</span><span class="sxs-lookup"><span data-stu-id="a7de1-496">Here's a filtered trace in Wireshark.</span></span> <span data-ttu-id="a7de1-497">Hay un filtro específico para el valor de MSS ( `tcp.options.mss`).</span><span class="sxs-lookup"><span data-stu-id="a7de1-497">There is a filter specific to the MSS value ( `tcp.options.mss`).</span></span> <span data-ttu-id="a7de1-498">Los marcos de un protocolo de enlace de confirmación SYN, SYN/ACK están vinculados en la parte inferior del objeto Wireshark equivalente a los detalles del marco (de modo que Frame 47 ACK, vínculos a 46 SYN/ACK, vínculos a 43 SYN) para facilitar este tipo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-498">The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span>

![Seguimiento filtrado en Wireshark por TCP. Options. MSS para el tamaño máximo del segmento (MSS).](media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)

<span data-ttu-id="a7de1-500">Si necesita comprobar la **confirmación selectiva** (tema siguiente de esta matriz), no cierre la traza.</span><span class="sxs-lookup"><span data-stu-id="a7de1-500">If you need to check **Selective Acknowledgment** (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="a7de1-501">Confirmación selectiva</span><span class="sxs-lookup"><span data-stu-id="a7de1-501">Selective Acknowledgment</span></span>

<span data-ttu-id="a7de1-502">Se encuentra en el SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-502">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="a7de1-503">Debe indicarse como permitido tanto en SYN como en SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-503">Must be reported as Permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="a7de1-504">La confirmación selectiva (SACK) permite una retransmisión de datos más fluida cuando falta un paquete o paquetes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-504">Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing.</span></span> <span data-ttu-id="a7de1-505">Los dispositivos pueden deshabilitar esta característica, lo que puede dar lugar a problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-505">Devices can disable this feature, which can lead to performance problems.</span></span>

<span data-ttu-id="a7de1-506">Si está detrás de un proxy o está usando un NAT, recuerde ejecutar esta prueba del cliente a proxy/salida/NAT, y de proxy/salida/NAT a Office 365 para obtener mejores resultados.</span><span class="sxs-lookup"><span data-stu-id="a7de1-506">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="a7de1-507">Se trata de sesiones TCP diferentes.</span><span class="sxs-lookup"><span data-stu-id="a7de1-507">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-508">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-508">Tools</span></span>

<span data-ttu-id="a7de1-509">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-509">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-510">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-510">What to look for</span></span>

<span data-ttu-id="a7de1-511">La confirmación selectiva (SACK) es otro parámetro en el protocolo de enlace SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-511">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake.</span></span> <span data-ttu-id="a7de1-512">Puede filtrar la traza para SYN-SYN/ACK de muchas formas.</span><span class="sxs-lookup"><span data-stu-id="a7de1-512">You can filter your trace for SYN - SYN/ACK many ways.</span></span>

<span data-ttu-id="a7de1-513">Busque la conexión en la traza que le interesa ver mediante la exploración de la traza, el filtrado por direcciones IP o haciendo clic en un identificador de conversación mediante la ventana de conversaciones de red de Netmon.</span><span class="sxs-lookup"><span data-stu-id="a7de1-513">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="a7de1-514">Una vez que haya encontrado el paquete SYN, expanda TCP en Netmon o Transmission Control Protocol in Wireshark en la sección detalles de trama.</span><span class="sxs-lookup"><span data-stu-id="a7de1-514">Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section.</span></span> <span data-ttu-id="a7de1-515">Expanda opciones de TCP y SACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-515">Expand TCP Options and then SACK.</span></span> <span data-ttu-id="a7de1-516">Busque la trama SYN-ACK relacionada y expanda opciones de TCP y su campo SACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-516">Locate the related SYN-ACK frame and Expand TCP Options and its SACK field.</span></span> <span data-ttu-id="a7de1-517">Asegúrese de que se permite cierto SACK en SYN y SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="a7de1-517">Make certain SACK is permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="a7de1-518">Estos son los valores de SACK tal y como se muestran en Netmon y Wireshark.</span><span class="sxs-lookup"><span data-stu-id="a7de1-518">Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Confirmación selectiva (SACK) en Netmon como resultado de TCP. Flags. SYN = = 1.](media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)

![BOLSA tal y como aparece en Wireshark con el filtro tcp.flags.syn == 1.](media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)

### <a name="dns-geolocation"></a><span data-ttu-id="a7de1-521">Ubicación geográfica de DNS</span><span class="sxs-lookup"><span data-stu-id="a7de1-521">DNS Geolocation</span></span>

<span data-ttu-id="a7de1-522">El lugar de la oficina mundial 365 intenta resolver la llamada DNS afecta a la velocidad de conexión.</span><span class="sxs-lookup"><span data-stu-id="a7de1-522">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span>

<span data-ttu-id="a7de1-523">En Outlook online, una vez completada la primera búsqueda DNS, la ubicación de ese DNS se usará para conectarse al centro de recursos más cercano.</span><span class="sxs-lookup"><span data-stu-id="a7de1-523">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter.</span></span> <span data-ttu-id="a7de1-524">Se conectará a un servidor CAS de Outlook online, que usará la red troncal para conectarse al centro de datos (dC) en el que se almacenan los datos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-524">You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored.</span></span> <span data-ttu-id="a7de1-525">Esto es más rápido.</span><span class="sxs-lookup"><span data-stu-id="a7de1-525">This is faster.</span></span>

<span data-ttu-id="a7de1-526">Cuando se tiene acceso a SharePoint Online, un usuario que viaja en el extranjero se dirige a su centro de datos activo, es decir, el dC cuya ubicación se basa en la base de inicio del inquilino de SPO (por lo tanto, un dC en los Estados Unidos si el usuario está basado en Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="a7de1-526">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>

<span data-ttu-id="a7de1-527">Lync Online tiene nodos activos en más de un dC a la vez.</span><span class="sxs-lookup"><span data-stu-id="a7de1-527">Lync online has active nodes in more than one dC at a time.</span></span> <span data-ttu-id="a7de1-528">Cuando se envían solicitudes para las instancias de Lync Online, el DNS de Microsoft determinará en qué parte del mundo procedía la solicitud y devolverá las direcciones IP del dC regional más cercano donde Lync Online está activo.</span><span class="sxs-lookup"><span data-stu-id="a7de1-528">When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span>

> [!TIP]
> <span data-ttu-id="a7de1-529">¿Necesita más información sobre cómo se conectan los clientes a Office 365?</span><span class="sxs-lookup"><span data-stu-id="a7de1-529">Need to know more about how clients connect to Office 365?</span></span> <span data-ttu-id="a7de1-530">Eche un vistazo al artículo de referencia de [conectividad de cliente](https://technet.microsoft.com/en-us/library/dn741250.aspx) (y sus gráficos útiles).</span><span class="sxs-lookup"><span data-stu-id="a7de1-530">Take a look at the [Client Connectivity](https://technet.microsoft.com/en-us/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-531">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-531">Tools</span></span>

- <span data-ttu-id="a7de1-532">Ping</span><span class="sxs-lookup"><span data-stu-id="a7de1-532">Ping</span></span>
- <span data-ttu-id="a7de1-533">PsPing</span><span class="sxs-lookup"><span data-stu-id="a7de1-533">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="a7de1-534">Qué buscar</span><span class="sxs-lookup"><span data-stu-id="a7de1-534">What to look for</span></span>

<span data-ttu-id="a7de1-535">Las solicitudes de resolución de nombres de los servidores DNS del cliente a los servidores DNS de Microsoft deben, en la mayoría de los casos, dar lugar a que DNS de Microsoft devuelva la dirección IP de un centro de recursos regional (dC).</span><span class="sxs-lookup"><span data-stu-id="a7de1-535">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC).</span></span> <span data-ttu-id="a7de1-536">¿Qué significa esto para usted?</span><span class="sxs-lookup"><span data-stu-id="a7de1-536">What does this mean for you?</span></span> <span data-ttu-id="a7de1-537">Si su sede está en Bangalore, India, pero viaja en los Estados Unidos, cuando el explorador realiza una solicitud de Outlook online, los servidores DNS de Microsoft deben entregarle direcciones IP a los centros de seguridad de los Estados Unidos, un centro de seguridad regional.</span><span class="sxs-lookup"><span data-stu-id="a7de1-537">If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter.</span></span> <span data-ttu-id="a7de1-538">Si el correo es necesario desde Outlook, estos datos se transmiten a través de la red de red troncal de Microsoft entre los centros de datos.</span><span class="sxs-lookup"><span data-stu-id="a7de1-538">If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="a7de1-539">El DNS funciona con mayor rapidez cuando se realiza la resolución de nombres lo más cerca posible de la ubicación del usuario.</span><span class="sxs-lookup"><span data-stu-id="a7de1-539">DNS works fastest when name resolution is done as close to the user location as possible.</span></span> <span data-ttu-id="a7de1-540">Si está en Europa, quiere ir a un DNS de Microsoft en Europa y (idealmente) tratar con un centro de recursos en Europa.</span><span class="sxs-lookup"><span data-stu-id="a7de1-540">If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe.</span></span> <span data-ttu-id="a7de1-541">El rendimiento de un cliente en Europa dirigido a DNS y a un centro de recursos en América será más lento.</span><span class="sxs-lookup"><span data-stu-id="a7de1-541">Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="a7de1-542">Ejecute la herramienta ping en outlook.office365.com para determinar en qué lugar del mundo se enrutará su solicitud de DNS.</span><span class="sxs-lookup"><span data-stu-id="a7de1-542">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed.</span></span> <span data-ttu-id="a7de1-543">Si está en Europa, debería ver una respuesta de algo parecido a outlook-emeawest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="a7de1-543">If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com.</span></span> <span data-ttu-id="a7de1-544">En América, espere algo parecido a outlook-namnorthwest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="a7de1-544">In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span>

<span data-ttu-id="a7de1-545">Abra el símbolo del sistema en el equipo cliente (a \> través \> de Start Start cmd \> o el tipo de clave de Windows cmd).</span><span class="sxs-lookup"><span data-stu-id="a7de1-545">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd).</span></span> <span data-ttu-id="a7de1-546">Escriba ping outlook.office365.com y presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="a7de1-546">Type ping outlook.office365.com and press ENTER.</span></span> <span data-ttu-id="a7de1-547">Recuerde que para especificar-4 Si desea especificar un ping a través de IPv4.</span><span class="sxs-lookup"><span data-stu-id="a7de1-547">Remember, to specify -4 if you want to specify to ping via IPv4.</span></span> <span data-ttu-id="a7de1-548">Es posible que no pueda obtener una respuesta de los paquetes ICMP, pero debería ver el nombre del DNS al que se enrutó la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a7de1-548">You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed.</span></span> <span data-ttu-id="a7de1-549">Si desea ver los números de latencia de esta conexión, pruebe PsPing a la dirección IP del servidor que se devuelve mediante ping.</span><span class="sxs-lookup"><span data-stu-id="a7de1-549">If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>  

![Ping de outlook.office365.com que muestra la resolución en outlook-namnorthwest.](media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)

![PSPing a la dirección IP devuelta por el comando ping a outlook.office365.com que muestra la latencia promedio de 28 milisegundos.](media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)

### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="a7de1-552">Solución de problemas de aplicaciones de Office 365</span><span class="sxs-lookup"><span data-stu-id="a7de1-552">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="a7de1-553">Herramientas</span><span class="sxs-lookup"><span data-stu-id="a7de1-553">Tools</span></span>

- <span data-ttu-id="a7de1-554">Netmon</span><span class="sxs-lookup"><span data-stu-id="a7de1-554">Netmon</span></span>
- <span data-ttu-id="a7de1-555">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="a7de1-555">HTTPWatch</span></span>
- <span data-ttu-id="a7de1-556">Consola F12 en el explorador</span><span class="sxs-lookup"><span data-stu-id="a7de1-556">F12 Console in the browser</span></span>

<span data-ttu-id="a7de1-557">No se incluyen las herramientas usadas en la solución de problemas específicos de la aplicación en este artículo específico de la red.</span><span class="sxs-lookup"><span data-stu-id="a7de1-557">We don't cover tools used in application-specific troubleshooting in this network-specific article.</span></span> <span data-ttu-id="a7de1-558">Pero encontrará recursos que *puede* usar [en esta página](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span><span class="sxs-lookup"><span data-stu-id="a7de1-558">But you'll find resources you  *can*  use [on this page](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a7de1-559">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="a7de1-559">Related Topics</span></span>

[<span data-ttu-id="a7de1-560">Administrar puntos de conexión de Office 365</span><span class="sxs-lookup"><span data-stu-id="a7de1-560">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)
  
[<span data-ttu-id="a7de1-561">Preguntas frecuentes sobre extremos de Office 365</span><span class="sxs-lookup"><span data-stu-id="a7de1-561">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
