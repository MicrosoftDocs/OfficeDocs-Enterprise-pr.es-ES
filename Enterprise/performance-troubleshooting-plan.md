---
title: Plan de solución de problemas de rendimiento para Office 365
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 4/26/2017
ms.audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Adm_O365
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
description: ¿Necesita conocer los pasos a seguir para la identificación y corrección de rendimiento lento entre SharePoint Online, OneDrive para el negocio, Exchange Online o Skype para profesionales en línea y el equipo cliente, se bloquea e intervalos? Antes de llamar a soporte técnico, este artículo puede ayudarle a solucionar problemas de rendimiento de Office 365 e incluso solucionar algunos de los problemas más comunes.
ms.openlocfilehash: 0e588d35ff6caaa0796092bb2f964bced15f4e47
ms.sourcegitcommit: 82219b5f8038ae066405dfb7933c40bd1f598bd0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/14/2018
ms.locfileid: "23975188"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="388d3-104">Plan de solución de problemas de rendimiento para Office 365</span><span class="sxs-lookup"><span data-stu-id="388d3-104">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="388d3-p102">¿Necesita conocer los pasos a seguir para la identificación y corrección de rendimiento lento entre SharePoint Online, OneDrive para el negocio, Exchange Online o Skype para profesionales en línea y el equipo cliente, se bloquea e intervalos? Antes de llamar a soporte técnico, este artículo puede ayudarle a solucionar problemas de rendimiento de Office 365 e incluso solucionar algunos de los problemas más comunes.</span><span class="sxs-lookup"><span data-stu-id="388d3-p102">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer? Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>
  
<span data-ttu-id="388d3-p103">En este artículo es realmente un plan de acción de ejemplo que puede utilizar para capturar datos valiosos sobre el problema de rendimiento como está ocurriendo. Algunos problemas principales también se incluyen en este artículo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p103">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening. Some top issues are also included in this article.</span></span>
    
<span data-ttu-id="388d3-109">Si es nuevo en el rendimiento de la red y desea crear un plan a largo plazo para supervisar el rendimiento entre los equipos cliente y Office 365, eche un vistazo en el [rendimiento de Office 365 ajuste y solución de problemas - Admin y para profesionales de TI](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="388d3-109">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>
  
## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="388d3-110">Plan de acción de para solucionar problemas de rendimiento de ejemplo</span><span class="sxs-lookup"><span data-stu-id="388d3-110">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="388d3-p104">Este plan de acción consta de dos partes; una fase de preparación y una fase de registro. Si tiene un problema de rendimiento ahora mismo, y necesita para realizar la recolección de datos, puede empezar a usar inmediatamente este plan.</span><span class="sxs-lookup"><span data-stu-id="388d3-p104">This action plan contains two parts; a preparation phase, and a logging phase. If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>
  
 <span data-ttu-id="388d3-113">**Preparar el equipo cliente**</span><span class="sxs-lookup"><span data-stu-id="388d3-113">**Prepare the client computer**</span></span>
  
- <span data-ttu-id="388d3-p105">Busque un equipo cliente que puede reproducir el problema de rendimiento. Este equipo se usará durante el transcurso de la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="388d3-p105">Find a client computer that can reproduce the performance problem. This computer will be used during the course of troubleshooting.</span></span>
    
- <span data-ttu-id="388d3-116">Anote los pasos que producen el problema de rendimiento a que se produzca de modo que está listo cuando llegue el momento para probar.</span><span class="sxs-lookup"><span data-stu-id="388d3-116">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
    
- <span data-ttu-id="388d3-117">Instalar las herramientas para recopilar y registrar la información:</span><span class="sxs-lookup"><span data-stu-id="388d3-117">Install tools for gathering and recording information:</span></span>
    
  - <span data-ttu-id="388d3-118">Instale [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (o usar una herramienta de seguimiento de red equivalente).</span><span class="sxs-lookup"><span data-stu-id="388d3-118">Install [Netmon 3.4](https://www.microsoft.com/en-us/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span> 
    
  - <span data-ttu-id="388d3-119">Instalar la edición básica gratuita de [HTTPWatch](https://www.httpwatch.com/download/) (o usar una herramienta de seguimiento de red equivalente).</span><span class="sxs-lookup"><span data-stu-id="388d3-119">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span> 
    
  - <span data-ttu-id="388d3-120">Usar una grabadora de pantalla o ejecute la grabadora de pasos (PSR.exe) que se incluye con Windows Vista y versiones posteriores, con el fin de mantener un registro de los pasos que necesarios durante las pruebas.</span><span class="sxs-lookup"><span data-stu-id="388d3-120">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>
    
 <span data-ttu-id="388d3-121">**El problema de rendimiento de registro**</span><span class="sxs-lookup"><span data-stu-id="388d3-121">**Log the performance issue**</span></span>
  
- <span data-ttu-id="388d3-122">Cierre todos los exploradores de Internet extraños.</span><span class="sxs-lookup"><span data-stu-id="388d3-122">Close all extraneous Internet browsers.</span></span>
    
- <span data-ttu-id="388d3-123">Iniciar la grabadora de pasos u otra grabadora de pantalla.</span><span class="sxs-lookup"><span data-stu-id="388d3-123">Start the Steps Recorder, or another screen recorder.</span></span>
    
- <span data-ttu-id="388d3-124">Iniciar la captura de Netmon (o la herramienta de seguimiento de red).</span><span class="sxs-lookup"><span data-stu-id="388d3-124">Start your Netmon capture (or network tracing tool).</span></span>
    
- <span data-ttu-id="388d3-125">Vaciar la caché DNS en el equipo cliente desde la línea de comandos escribiendo ipconfig /flushdns.</span><span class="sxs-lookup"><span data-stu-id="388d3-125">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
    
- <span data-ttu-id="388d3-126">Iniciar una nueva sesión de explorador y activar HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="388d3-126">Start a new browser session and turn on HTTPWatch.</span></span>
    
- <span data-ttu-id="388d3-127">Opcional: Si está probando Exchange Online, ejecute la herramienta Analizador de rendimiento del cliente de Exchange desde la consola de administración de Office 365.</span><span class="sxs-lookup"><span data-stu-id="388d3-127">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
    
- <span data-ttu-id="388d3-128">Reproducir los pasos exactos que provocar el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-128">Reproduce the exact steps that cause the performance issue.</span></span>
    
- <span data-ttu-id="388d3-129">Detener la Netmon o seguimiento de otra herramienta.</span><span class="sxs-lookup"><span data-stu-id="388d3-129">Stop your Netmon or other tool's trace.</span></span>
    
- <span data-ttu-id="388d3-130">En la línea de comandos, ejecute una ruta de seguimiento a su suscripción de Office 365 por escribiendo el siguiente comando y, a continuación, presione ENTRAR:</span><span class="sxs-lookup"><span data-stu-id="388d3-130">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>
    
    `tracert \< *subscriptionname*  \>.onmicrosoft.com` 
    
- <span data-ttu-id="388d3-p106">Detenga la grabadora de pasos y guardar el vídeo. Asegúrese de incluir la fecha y hora de la captura y si muestra el rendimiento buena o es incorrecto.</span><span class="sxs-lookup"><span data-stu-id="388d3-p106">Stop the Steps Recorder and save the video. Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
- <span data-ttu-id="388d3-p107">Guarde los archivos de seguimiento. Una vez más, no olvide incluir la fecha y hora de la captura y si muestra el rendimiento buena o es incorrecto.</span><span class="sxs-lookup"><span data-stu-id="388d3-p107">Save the trace files. Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
    
<span data-ttu-id="388d3-p108">Si no está familiarizado con la ejecución de las herramientas que se mencionan en este artículo, no se preocupe porque describimos los pasos a continuación. Si está acostumbrados a realizar este tipo de red capturar, puede omitir [cómo recopilar las líneas de base](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), que describe el filtrado y la lectura de los registros.</span><span class="sxs-lookup"><span data-stu-id="388d3-p108">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next. If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span> 
  
## <a name="flush-the-dns-cache-first"></a><span data-ttu-id="388d3-137">Vaciar la memoria caché de DNS en primer lugar</span><span class="sxs-lookup"><span data-stu-id="388d3-137">Flush the DNS Cache first</span></span>

<span data-ttu-id="388d3-p109">¿Por qué? Por vaciado de la memoria caché de DNS para empezar las pruebas con un espacio vacío. Desactivando la memoria caché, que desea restablecer el contenido de la resolución DNS a las entradas más actualizadas. Recuerde que un vaciado no quita las entradas del archivo HOSTs. Si utiliza las entradas del archivo HOST ampliamente, debe copie las entradas de la a un archivo en otro directorio y, a continuación, vaciar el archivo HOST.</span><span class="sxs-lookup"><span data-stu-id="388d3-p109">Why? By flushing out the DNS cache you're starting your tests with a clean slate. By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries. Remember that a flush does not remove HOSTs file entries. If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>
  
 <span data-ttu-id="388d3-143">**Vaciar la caché de resolución DNS**</span><span class="sxs-lookup"><span data-stu-id="388d3-143">**Flush your DNS resolver cache**</span></span>
  
1. <span data-ttu-id="388d3-144">Abra el símbolo del sistema, (puede ser **Iniciar** \> **Ejecutar** \> **clave de Windows** o **cmd** \> **cmd**).</span><span class="sxs-lookup"><span data-stu-id="388d3-144">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
    
2. <span data-ttu-id="388d3-145">Escriba el siguiente comando y presione ENTRAR:`ipconfig /flushdns`</span><span class="sxs-lookup"><span data-stu-id="388d3-145">Type the following command and press ENTER: `ipconfig /flushdns`</span></span>
    
## <a name="netmon"></a><span data-ttu-id="388d3-146">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-146">Netmon</span></span>

<span data-ttu-id="388d3-p110">Herramienta de supervisión de red de Microsoft ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analiza los paquetes, que es el tráfico, lo que pasa entre los equipos de redes. Mediante el uso de Netmon para el tráfico con Office 365 puede capturar, vista, de seguimiento y leer los encabezados de paquetes, identificar los dispositivos intermedios, comprobar la configuración importante en hardware de red, busque los paquetes descartados y siga el flujo de tráfico entre los equipos de su empresa red y Office 365. Debido a que se cifra el cuerpo del tráfico real, es decir, lo (viajes en el puerto 443 a través de SSL/TLS, no puede leer los archivos que se está enviados. En su lugar, obtenga un seguimiento de la ruta de acceso que la toma de paquetes que le ayudarán a realizar un seguimiento hacia abajo el comportamiento de problema sin filtrar.</span><span class="sxs-lookup"><span data-stu-id="388d3-p110">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks. By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365. Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent. Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>
  
<span data-ttu-id="388d3-p111">Asegúrese de que no aplicar un filtro en este momento. En su lugar, ejecute los pasos y demostrar el problema antes de detener el seguimiento y guardar.</span><span class="sxs-lookup"><span data-stu-id="388d3-p111">Be sure you don't apply a filter at this time. Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>
  
<span data-ttu-id="388d3-153">Después de instalar Netmon 3.4, abra la herramienta y lleve a cabo estos pasos:</span><span class="sxs-lookup"><span data-stu-id="388d3-153">After you install Netmon 3.4, open the tool and take these steps:</span></span>
  
 <span data-ttu-id="388d3-154">**Realizar un seguimiento de Netmon y reproduzca el problema**</span><span class="sxs-lookup"><span data-stu-id="388d3-154">**Take a Netmon trace and reproduce the issue**</span></span>
  
1. <span data-ttu-id="388d3-155">Inicie Netmon 3.4.</span><span class="sxs-lookup"><span data-stu-id="388d3-155">Launch Netmon 3.4.</span></span>
    
    <span data-ttu-id="388d3-p112">Hay tres paneles en la página de **Inicio** : **Captura recientes**, **Seleccione redes**y la **Introducción con Monitor de red 3.4 de Microsoft. Aviso de**. El panel seleccionar redes también le ofrecerá una lista de las redes de forma predeterminada desde la que puede capturar. Asegúrese de que las tarjetas de red se seleccionan aquí.</span><span class="sxs-lookup"><span data-stu-id="388d3-p112">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**. The Select Networks panel will also give you a list of the default networks from which you can capture. Be sure that network cards are selected here.</span></span>
    
2. <span data-ttu-id="388d3-p113">Haga clic en **Nueva captura** en la parte superior de la página de **Inicio** . Esto agrega una nueva ficha situado junto a la ficha de página de **Inicio** denominada **capturar 1**.</span><span class="sxs-lookup"><span data-stu-id="388d3-p113">Click **New Capture** at the top of the **Start** page. This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
    
    ![Usuario del Nemon una interfaz con la nueva captura, inicio, botones y detener resaltados.](media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)
  
3. <span data-ttu-id="388d3-162">Para realizar una captura de simple, haga clic en **Inicio** , en la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="388d3-162">To take a simple capture, click **Start** on the toolbar.</span></span> 
    
4. <span data-ttu-id="388d3-163">Reproduzca los pasos que presentan un problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-163">Reproduce the steps that present a performance issue.</span></span>
    
5. <span data-ttu-id="388d3-p114">Haga clic en **Detener** \> **archivo** \> **Guardar como**. Recuerde que para dar a la fecha y hora con la zona horaria y mencionar si muestra incorrecto o buen rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p114">Click **Stop** \> **File** \> **Save As**. Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>
    
## <a name="httpwatch"></a><span data-ttu-id="388d3-166">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="388d3-166">HTTPWatch</span></span>

<span data-ttu-id="388d3-p115">[HTTPWatch](https://www.httpwatch.com/download/) viene cargada y una edición gratuita. La edición básica gratuita cubre todo lo que necesita para esta prueba. HTTPWatch monitores tiempo de carga de página y el tráfico de red a la derecha de la ventana del explorador. HTTPWatch es un complemento para Internet Explorer que describe gráficamente el rendimiento. El análisis se pueden guardar y verse en HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="388d3-p115">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition. The free Basic Edition covers everything you need for this test. HTTPWatch monitors network traffic and page load time right from your browser window. HTTPWatch is a plug-in to Internet Explorer that graphically describes performance. The analysis can be saved and viewed in HTTPWatch Studio.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="388d3-p116">Si usa otro explorador, como Firefox, Google Chrome, o si no se puede instalar HTTPWatch en Internet Explorer, abra una nueva ventana del explorador y presione la tecla F12. Debería ver la herramienta para desarrolladores emergente en la parte inferior del explorador. Si usa Opera, presione CTRL + MAYÚS + I para Web Inspector, a continuación, haga clic en la ficha **red** y realizar las pruebas se describen a continuación. La información puede variar ligeramente, pero aún se mostrará tiempos de carga en milisegundos. > HTTPWatch también es muy útil para problemas con SharePoint Online tiempos de carga de página.</span><span class="sxs-lookup"><span data-stu-id="388d3-p116">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard. You should see the Developer Tool pop-up at the bottom of your browser. If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below. The information will be slightly different, but load times will still be displayed in milliseconds. > HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span> 
  
 <span data-ttu-id="388d3-177">**Ejecute HTTPWatch y reproduzca el problema**</span><span class="sxs-lookup"><span data-stu-id="388d3-177">**Run HTTPWatch and reproduce the issue**</span></span>
  
1. <span data-ttu-id="388d3-p117">HTTPWatch es un explorador Plug-in, por lo que la exposición de la herramienta en el explorador es ligeramente diferente para cada versión de Internet Explorer. Normalmente, puede encontrar HTTPWatch en la barra de comandos en el Explorador de Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="388d3-p117">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer. Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser. </span></span><br/><span data-ttu-id="388d3-p118">Si no ve el complemento HTTPWatch en la ventana del explorador, compruebe la versión del explorador por haga clic en Ayuda \> acerca de, o en versiones posteriores de Internet Explorer, haga clic en el símbolo de engranaje y acerca de Internet Explorer. Para iniciar la barra de **comandos** , haga clic en la barra de menús en el Explorador de Internet y haga clic en la **barra de comandos**. En el pasado, HTTPWatch se ha asociado con los comandos y las barras del explorador, por lo que una vez instale, si no ve inmediatamente el icono (incluso después de reiniciar) compruebe **las herramientas**y las barras de herramientas para el icono. Recuerde que se pueden personalizar las barras de herramientas y opciones que pueden agregarse a ellos.</span><span class="sxs-lookup"><span data-stu-id="388d3-p118">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by click Help \> About, or, in later versions of Internet Explorer, click the gear symbol and About Internet Explorer. To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**. In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon. Remember that toolbars can be customized and options can be added to them.</span></span><br/>
    <span data-ttu-id="388d3-184">![Barra de herramientas de comando de Internet Explorer con el icono de HTTPWatch que se muestra.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span><span class="sxs-lookup"><span data-stu-id="388d3-184">![Internet Explorer's Command toolbar with the HTTPWatch icon displayed.](media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)</span></span>
  
2. <span data-ttu-id="388d3-p119">Inicie HTTPWatch en una ventana del explorador Internet Explorer. Aparecerá acoplada en el explorador en la parte inferior de esa ventana. Haga clic en **registro**.</span><span class="sxs-lookup"><span data-stu-id="388d3-p119">Launch HTTPWatch in an Internet Explorer browser window. It will appear docked to the browser at the bottom of that window. Click **Record**.</span></span>
    
3. <span data-ttu-id="388d3-p120">Reproducir los pasos exactos implicados en el problema de rendimiento. Haga clic en el botón **Detener** en HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="388d3-p120">Reproduce the exact steps involved in the performance issue. Click the **Stop** button in HTTPWatch.</span></span> 
    
4. <span data-ttu-id="388d3-p121">**Guardar** el HTTPWatch o **Enviar por correo electrónico**. Recuerde que un nombre al archivo para que incluya información de fecha y hora y una indicación de si la inspección contiene una demostración de rendimiento correcto o incorrecto.</span><span class="sxs-lookup"><span data-stu-id="388d3-p121">**Save** the HTTPWatch or **Send by Email**. Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span><br/><span data-ttu-id="388d3-192">![HTTPWatch que muestra la ficha de red para una carga de página de la página de inicio de Office 365.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span><span class="sxs-lookup"><span data-stu-id="388d3-192">![HTTPWatch showing the Network tab for a page load of the Office 365 homepage.](media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)</span></span><br/>
    <span data-ttu-id="388d3-p122">Esta captura de pantalla es desde la versión de HTTPWatch Professional. Puede abrir seguimientos realizados en la versión básica en un equipo con una versión Professional y leerlo allí. Información adicional puede estar disponible desde el seguimiento a través de este método.</span><span class="sxs-lookup"><span data-stu-id="388d3-p122">This screen shot is from the Professional version of HTTPWatch. You can open traces taken in the Basic Version on a computer with a Professional version and read it there. Extra information may be available from the trace through that method.</span></span>
    
## <a name="problem-steps-recorder"></a><span data-ttu-id="388d3-196">Grabación de acciones</span><span class="sxs-lookup"><span data-stu-id="388d3-196">Problem Steps Recorder</span></span>

<span data-ttu-id="388d3-p123">Grabadora de pasos o PSR.exe, permite registrar problemas a medida que se producen. Se trata de una herramienta muy útil y muy simple ejecutar.</span><span class="sxs-lookup"><span data-stu-id="388d3-p123">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring. It's a very useful tool and very simple to run.</span></span>
  
 <span data-ttu-id="388d3-199">**Ejecute la grabación de acciones (PSR.exe) para registrar su trabajo**</span><span class="sxs-lookup"><span data-stu-id="388d3-199">**Run Problem Steps Recorder (PSR.exe) to record your work**</span></span>
  
1. <span data-ttu-id="388d3-200">Utilice **Iniciar** \> **Ejecutar** \> escriba **PSR.exe** \> **Aceptar**, o bien, haga clic en la **Tecla de Windows** \> escriba **PSR.exe** \> y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="388d3-200">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span> 
    
2. <span data-ttu-id="388d3-p124">Cuando aparezca la ventana de PSR.exe pequeña, haga clic en **Iniciar registro** y reproduzca los pasos que se reproduzca el problema de rendimiento. Puede agregar comentarios según sea necesario, al hacer clic en **Agregar comentarios**.</span><span class="sxs-lookup"><span data-stu-id="388d3-p124">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue. You can add comments as needed, by clicking **Add Comments**.</span></span>
    
3. <span data-ttu-id="388d3-p125">Cuando haya completado los pasos, haga clic en **Detener registro** . Si el problema de rendimiento es una representación de la página, espere a que la página representar antes de detener la grabación.</span><span class="sxs-lookup"><span data-stu-id="388d3-p125">Click **Stop Record** when you have completed the steps. If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span> 
    
4. <span data-ttu-id="388d3-205">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="388d3-205">Click **Save**.</span></span>
    
![Una captura de pantalla de la grabadora de pasos o PSR.exe.](media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)
  
<span data-ttu-id="388d3-p126">La fecha y la hora se registra para usted. Esto vincula la región Determinada a su seguimiento de Netmon y HTTPWatch en tiempo y ayuda con la solución de problemas de precisión. Pueden mostrar la fecha y hora en el registro de la región Determinada que pasa un minuto entre el inicio de sesión y la exploración de la dirección URL y la representación parcial del sitio de administración, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p126">The date and time is recorded for you. This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting. The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>
  
## <a name="read-your-traces"></a><span data-ttu-id="388d3-210">Los seguimientos de lectura</span><span class="sxs-lookup"><span data-stu-id="388d3-210">Read your traces</span></span>

<span data-ttu-id="388d3-p127">No es posible enseñar todo acerca de la red y solución de problemas de rendimiento que alguien tendría que saber a través de un artículo. Introducción buena en rendimiento tiene experiencia y conocimientos del funcionamiento de la red y normalmente se realiza. Pero es posible que se desea redondear hacia arriba en una lista de los principales problemas y se muestre cómo herramientas pueden facilitar a eliminar los problemas más comunes.</span><span class="sxs-lookup"><span data-stu-id="388d3-p127">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article. Getting good at performance takes experience, and knowledge of how your network works and usually performs. But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>
  
<span data-ttu-id="388d3-p128">Si desea seleccionar conocimientos de lectura de trazas de red para los sitios de Office 365, no hay ningún profesor mejor que crear los seguimientos de carga de las páginas con regularidad y adquiere experiencia leerlos. Por ejemplo, cuando tiene una oportunidad, cargue un servicio de Office 365 y el proceso de seguimiento. Filtrar el seguimiento para el tráfico DNS o buscar la FrameData para el nombre del servicio que consultadas. Examinar el seguimiento para hacerse una idea de los pasos que se producen cuando se carga el servicio. Esto le ayudarán a aprender qué normal carga de la página debe tener un aspecto como y, en el caso de solución de problemas, especialmente alrededor de rendimiento, comparación de seguimientos de buenos a incorrecta puede mostrarle un lote.</span><span class="sxs-lookup"><span data-stu-id="388d3-p128">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them. For example, when you have a chance, load an Office 365 service and trace the process. Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed. Scan the trace to get an idea of the steps that occur when the service loads. This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>
  
<span data-ttu-id="388d3-p129">Netmon usa Microsoft Intellisense en el campo de filtro para mostrar. IntelliSense o finalización de código inteligente, es que trucos donde se escribe en un período y se muestran todas las opciones disponibles en un cuadro de selección de la lista desplegable. Si, por ejemplo, le preocupa el escalado de ventanas TCP, puede encontrar la forma de un filtro (como `.protocol.tcp.window < 100`) por este medio.</span><span class="sxs-lookup"><span data-stu-id="388d3-p129">Netmon uses Microsoft Intellisense in the Display filter field. Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box. If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>
  
![Captura de pantalla de Netmon que muestra que el campo de filtro de presentación utiliza intellisense.](media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)
  
<span data-ttu-id="388d3-p130">Los seguimientos de Netmon pueden tener una gran cantidad de tráfico en ellos. Si no experimentados con leerlos, es probable que va a estar abrumado abrir el seguimiento de la primera vez. Lo primero que debe hacer es separar la señal de ruido de fondo en el seguimiento. Probado con Office 365, y que son el tráfico que desee ver. Si se utilizan para navegar por los seguimientos, puede que no tenga esta lista.</span><span class="sxs-lookup"><span data-stu-id="388d3-p130">Netmon traces can have a lot of traffic in them. If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time. The first thing to do is separate the signal from the background noise in the trace. You tested against Office 365, and that's the traffic you want to see. If you are used to navigating through traces, you may not need this list.</span></span>
  
<span data-ttu-id="388d3-p131">El tráfico entre el cliente y Office 365 se transmite a través de TLS, lo que significa que el cuerpo del tráfico estará cifrado y no se puede leer en un seguimiento de Netmon genérico. El análisis de rendimiento no es necesario conocer los detalles de la información en el paquete. Sin embargo, es muy interesado en encabezados de paquetes y la información que contienen.</span><span class="sxs-lookup"><span data-stu-id="388d3-p131">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace. Your performance analysis doesn't need to know the specifics of the information in the packet. It is, however, very interested in packet headers and the information that they contain.</span></span>
  
 <span data-ttu-id="388d3-231">**Sugerencias para obtener un buen seguimiento**</span><span class="sxs-lookup"><span data-stu-id="388d3-231">**Tips to get a good trace**</span></span>
  
- <span data-ttu-id="388d3-p132">Conocer el valor de la dirección IPv4 o IPv6 del equipo cliente. Puede obtener desde el símbolo del sistema, escriba **IPConfig** y, a continuación, presione ENTRAR. Conocer esta dirección le permiten ver rápidamente si el tráfico en el seguimiento implica directamente el equipo cliente. Si no hay un proxy conocido, aplicar el comando ping y obtener así como su dirección IP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p132">Know the value of the IPv4 or IPv6 address of your client computer. You can get this from the command prompt by typing **IPConfig** and then pressing ENTER. Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer. If there is a known proxy, ping it and get its IP address as well.</span></span> 
    
- <span data-ttu-id="388d3-p133">Vaciar la caché de resolución DNS y, si es posible, cierre todos los exploradores excepto el uno en el que está ejecutando las pruebas. Si no puede hacerlo, por ejemplo, si soporte técnico usa alguna herramienta basada en explorador para ver el escritorio del equipo cliente, esté preparado para filtrar su seguimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p133">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests. If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>
    
- <span data-ttu-id="388d3-p134">En un seguimiento ocupado, busque el servicio Office 365 que esté usando. Si ya ha visto el tráfico antes de nunca o poco, este es un paso útil en separar el problema de rendimiento de otros ruidos de red. Hay varias formas de hacer esto. Directamente antes de la prueba, puede usar ping o PsPing, a la dirección URL del servicio específico ( `ping outlook.office365.com` o `psping -4 microsoft-my.sharepoint.com:443`, para ver ejemplos). Puede encontrar fácilmente esa PsPing en un seguimiento de Netmon (por su nombre de proceso). Que le proporcionará un lugar para empezar a buscar.</span><span class="sxs-lookup"><span data-stu-id="388d3-p134">In a busy trace, locate the Office 365 service that you're using. If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise. There are a few ways to do this. Directly before your test, you can use ping or, PsPing, to the URL of the specific service ( `ping outlook.office365.com` and/or  `psping -4 microsoft-my.sharepoint.com:443`, for examples) . You can also easily find that PsPing in a Netmon trace (by its process name). That will give you a place to start looking.</span></span>
    
    <span data-ttu-id="388d3-p135">Si se usa sólo el seguimiento de Netmon en el momento del problema, que es demasiado correcto. Para orientar usted mismo, utilice un filtro como `ContainsBin(FrameData, ASCII, "office")` o `ContainsBin(FrameData, ASCII, "outlook")`. Puede registrar su número de marco desde el archivo de seguimiento. También es posible que desee desplazarse por el panel Resumen del marco a la derecha y busque la columna de identificador de la conversación. No hay un número indicado no existe para el identificador de esta conversación específico que también se puede registrar y mire en el aislamiento más adelante. Recuerde quitar este filtro antes de aplicar cualquier otra operación de filtrado.</span><span class="sxs-lookup"><span data-stu-id="388d3-p135">If you're only using Netmon tracing at the time of the problem, that's okay too. To orient yourself, use a filter like  `ContainsBin(FrameData, ASCII, "office")` or  `ContainsBin(FrameData, ASCII, "outlook")`. You can record your frame number from the trace file. You may also want to scroll the Frame Summary pane all the way to the right and look for the Conversation ID column. There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later. Remember to remove this filter before applying any other filtering.</span></span>
    
> [!TIP]
> <span data-ttu-id="388d3-p136">Netmon tiene una gran cantidad de filtros integrados útiles. Pruebe el botón "Filtro de carga" en la parte superior del panel de filtro **para mostrar** .</span><span class="sxs-lookup"><span data-stu-id="388d3-p136">Netmon has a lot of helpful built-in filters. Try the "Load Filter" button at the top of the **Display** filter pane.</span></span> 
  
![Busque su IP mediante el uso de PSPing en la línea de comandos en el equipo cliente.](media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)
  
![Seguimiento de Netmon desde el cliente que se muestra el mismo comando PSPing a través del filtro TCP. Flags.Syn == 1.](media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)
  
<span data-ttu-id="388d3-p137">Familiarizarse con el tráfico y obtenga información sobre cómo localizar la información que necesita. Por ejemplo, obtenga información determinar qué paquetes del seguimiento tiene la primera referencia al servicio Office 365 que está utilizando (por ejemplo, "Outlook").</span><span class="sxs-lookup"><span data-stu-id="388d3-p137">Get familiar with your traffic, and learn to locate the information you need. For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>
    
<span data-ttu-id="388d3-256">Toma de Office 365 Online de Outlook como ejemplo, el tráfico comienza algo parecido a esto:</span><span class="sxs-lookup"><span data-stu-id="388d3-256">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>
  
- <span data-ttu-id="388d3-p138">Consulta de DNS estándar y respuesta de DNS para outlook.office365.com con coincidencia de QueryIDs. Es importante tener en cuenta el desplazamiento de tiempo para este turn-alrededor, así como where en el mundo el DNS Global de Office 365 envía la solicitud de resolución de nombres. Idealmente, localmente como sea posible, en lugar de intermedio en todo el mundo. (Esto puede ser seguido de algunas DNS tráfico al inicio de sesión en línea.)</span><span class="sxs-lookup"><span data-stu-id="388d3-p138">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs. It's important to note the Time Offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution. Ideally, as locally as possible, rather than half-way across the world. (This may be followed by some DNS traffic the online login.)</span></span>
    
- <span data-ttu-id="388d3-261">Un HTTP petición GET cuyo estado notificar movido permanentemente (301)</span><span class="sxs-lookup"><span data-stu-id="388d3-261">A HTTP GET Request whose status report Moved Permanently (301)</span></span>
    
- <span data-ttu-id="388d3-p139">Tráfico de RWS incluidos RWS conectar las solicitudes y respuestas de conectar. (Esto es Winsock remoto realizar una conexión para usted.)</span><span class="sxs-lookup"><span data-stu-id="388d3-p139">RWS Traffic including RWS Connect requests and Connect replies. (This is Remote Winsock making a connection for you.)</span></span>
    
- <span data-ttu-id="388d3-p140">Una conversación TCP SYN y sincronización/confirmación de TCP. Una gran cantidad de la configuración de esta conversación afectar a su rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p140">A TCP SYN and TCP SYN/ACK conversation. A lot of the settings in this conversation impact your performance.</span></span>
    
- <span data-ttu-id="388d3-p141">A continuación, una serie de tráfico de TLS:TLS que es donde llevará a cabo el protocolo de enlace TLS y las conversaciones de certificado TLS. (Recuerde que los datos se cifran mediante SSL/TLS).</span><span class="sxs-lookup"><span data-stu-id="388d3-p141">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place. (Remember the data is encrypted via SSL/TLS.)</span></span>
    
<span data-ttu-id="388d3-p142">Todos los elementos del tráfico son importantes y conectado, pero pequeñas partes del seguimiento contienen información particularmente importante en cuanto a la solución de problemas de rendimiento, por lo que nos centraremos en estas cuatro áreas. Además, dado que hemos hecho suficiente rendimiento de Office 365, solución de problemas en Microsoft para compilar una lista de los problemas más comunes diez más frecuentes, nos centraremos en dichos problemas y cómo usar las herramientas que tenemos acabar con ellos siguiente.</span><span class="sxs-lookup"><span data-stu-id="388d3-p142">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas. Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>
  
<span data-ttu-id="388d3-p143">Si no ha instalado ellos todo lista, la siguiente matriz hace que el uso de varias herramientas. Siempre que sea posible. Se proporcionan vínculos a los puntos de instalación. La lista incluye herramientas de seguimiento de red comunes como [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) y [Wireshark](https://www.wireshark.org/), pero usar cualquier herramienta de seguimiento que se encuentra cómodo con y, en la que está acostumbrados para filtrar el tráfico de red. Cuando se está probando, recuerde:</span><span class="sxs-lookup"><span data-stu-id="388d3-p143">If you haven't installed them all ready, the matrix below makes use of several tools. Where possible. Links are provided to the installation points. The list includes common network tracing tools like [Netmon](https://www.microsoft.com/en-us/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic. When you're testing, remember:</span></span>
  
-  <span data-ttu-id="388d3-p144">*Cierre los exploradores y probar con solo un explorador que se ejecuta* - Esto permite reducir el tráfico global de la captura. Hace un seguimiento de menos ocupado.</span><span class="sxs-lookup"><span data-stu-id="388d3-p144">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture. It makes for a less busy trace.</span></span> 
    
-  <span data-ttu-id="388d3-277">*Vaciar la caché de resolución DNS en el equipo cliente* - le proporcionará un espacio vacío al iniciar realizar la captura, para un seguimiento más limpio.</span><span class="sxs-lookup"><span data-stu-id="388d3-277">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span> 
    
## <a name="some-top-issues"></a><span data-ttu-id="388d3-278">Algunos problemas principales</span><span class="sxs-lookup"><span data-stu-id="388d3-278">Some Top Issues</span></span>

<span data-ttu-id="388d3-279">Algunos problemas comunes que pueden surgir y cómo encontrarlos en el seguimiento de red.</span><span class="sxs-lookup"><span data-stu-id="388d3-279">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="388d3-280">Escala de ventanas TCP</span><span class="sxs-lookup"><span data-stu-id="388d3-280">TCP Windows Scaling</span></span>

<span data-ttu-id="388d3-p145">Que se encuentran en el SYN - SYN/confirmaciones heredado o hardware de antigüedad es posible que no permite aprovechar las ventanas de TCP de escala.  Sin configuración de escala de ventanas TCP adecuadas, el búfer de 16 bits de forma predeterminada en los encabezados TCP se rellena en milisegundos.  El tráfico no se puede continuar enviando hasta que el cliente recibe una confirmación de que se ha recibido los datos originales, causando retrasos.</span><span class="sxs-lookup"><span data-stu-id="388d3-p145">Found in the SYN - SYN/ACK. Legacy or aging hardware may not take advantage of TCP windows scaling.  Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.  Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="388d3-285">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-285">Tools:</span></span>

- <span data-ttu-id="388d3-286">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-286">Netmon</span></span>
- <span data-ttu-id="388d3-287">Wireshark</span><span class="sxs-lookup"><span data-stu-id="388d3-287">Wireshark</span></span> 

#### <a name="what-youre-looking-for"></a><span data-ttu-id="388d3-288">Lo que está buscando:</span><span class="sxs-lookup"><span data-stu-id="388d3-288">What you're looking for:</span></span>

<span data-ttu-id="388d3-p146">Busque el SYN - sincronización/confirmación el tráfico en el seguimiento de red.  En Netmon, utilice un filtro como `tcp.flags.syn == 1`. Este filtro es la misma en Wireshark.</span><span class="sxs-lookup"><span data-stu-id="388d3-p146">Look for the SYN - SYN/ACK traffic in your network trace.  In Netmon, use a filter like  `tcp.flags.syn == 1`. This filter is the same in Wireshark.</span></span>  

![Filtro de Netmon o Wireshark para paquetes de sincronización para ambas herramientas: TCP. Flags.Syn == 1.](media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)         
<span data-ttu-id="388d3-293">Tenga en cuenta que para cada SYN es un número de puerto (SrcPort) de origen que se corresponde con el puerto de destino (DstPort) de la confirmación relacionado (sincronización/confirmación).</span><span class="sxs-lookup"><span data-stu-id="388d3-293">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span> 

<span data-ttu-id="388d3-294">Para ver el valor de ajuste de escala de Windows que se usa en la conexión de red, expanda primero el SYN y, a continuación, el SYN/confirmaciones relacionados</span><span class="sxs-lookup"><span data-stu-id="388d3-294">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>  

![Gráfico que muestra cómo hacer coincidir SrcPort a DstPort en un seguimiento, para obtener el tiempo de diferencia.](media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)  

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="388d3-296">Configuración de tiempo de inactividad de TCP</span><span class="sxs-lookup"><span data-stu-id="388d3-296">TCP Idle Time Settings</span></span>

<span data-ttu-id="388d3-p147">Tradicionalmente, la mayoría de las redes de perímetro están configuradas para conexiones transitorias, lo que significa que generalmente se terminan las conexiones inactivas. Pueden terminar las sesiones TCP inactivas por los servidores proxy y firewalls en mayor que 100 a 300 segundos. Esto es un inconveniente para Outlook en línea debido a que se crea y usa conexiones a largo plazo, si está inactivo o no.</span><span class="sxs-lookup"><span data-stu-id="388d3-p147">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated. Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds. This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>  

<span data-ttu-id="388d3-p148">Cuando se terminan las conexiones proxy o los dispositivos de firewall, el cliente no está informado y un intento de usar Outlook en línea significa un equipo cliente intenta, repetidamente, restablece la conexión antes de realizar una nueva. Es posible que vea se bloquea en el producto, mensajes o reducir el rendimiento en la carga de la página.</span><span class="sxs-lookup"><span data-stu-id="388d3-p148">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one. You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="388d3-302">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-302">Tools:</span></span>

- <span data-ttu-id="388d3-303">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-303">Netmon</span></span>
- <span data-ttu-id="388d3-304">Wireshark</span><span class="sxs-lookup"><span data-stu-id="388d3-304">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-305">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-305">What to look for:</span></span>

<span data-ttu-id="388d3-p149">En Netmon, fíjese en el campo de desplazamiento de tiempo para un ida y vuelta. Una ida y vuelta es el tiempo entre cliente enviar una solicitud al servidor y recibir una respuesta. Comprobar entre el cliente y el punto de salida (ej cliente--\> Proxy), o el cliente de Office 365 (cliente--\> Office 365). Puede ver esto en muchos tipos de paquetes.</span><span class="sxs-lookup"><span data-stu-id="388d3-p149">In Netmon, look at the Time Offset field for a round-trip. A round-trip is the time between client sending a request to the server and receiving a response back. Check between the Client and the egress point (ex. Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365). You can see this in many types of packets.</span></span> 

<span data-ttu-id="388d3-311">Por ejemplo, es posible que aspecto el filtro en Netmon `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, o bien, en Wireshark, `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span><span class="sxs-lookup"><span data-stu-id="388d3-311">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>  

> [!TIP]
> <span data-ttu-id="388d3-p150">¿No sabe si la dirección IP en su seguimiento pertenece a su servidor DNS? Intente buscar en la línea de comandos. Haga clic en **Inicio** \> **Ejecutar** \> y escriba **cmd**, o presione la **Tecla de Windows** \> y escriba **cmd**. En el símbolo del sistema, escriba `nslookup <the IP address from the network trace>`. Para probar, use nslookup frente a la dirección IP de su propio equipo. > Para ver una lista de intervalos IP de Microsoft, vea [las direcciones URL de Office 365 y los intervalos de direcciones IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="388d3-p150">Don't know if the IP address in your trace belongs to your DNS server? Try looking it up at the command line. Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**. At the prompt, type  `nslookup <the IP address from the network trace>`. To test, use nslookup against your own computer's IP address. > To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="388d3-p151">Si hay un problema, esperar largo tiempo, se desplaza a aparecen en este caso (Outlook en línea), especialmente en los paquetes de TLS:TLS que muestran el paso de los datos de la aplicación (por ejemplo, en Netmon puede encontrar los paquetes de datos de aplicación a través de `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). Debería ver una progresión uniforme en el tiempo a través de la sesión. Si ve grandes retrasos al actualizar Outlook conectado, esto podría deberse a un alto grado de restablecimientos de que se está enviando.</span><span class="sxs-lookup"><span data-stu-id="388d3-p151">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`). You should see a smooth progression in the time across the session. If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span> 

### <a name="latencyround-trip-time"></a><span data-ttu-id="388d3-321">Tiempo de viaje de ida/latencia</span><span class="sxs-lookup"><span data-stu-id="388d3-321">Latency/Round Trip Time</span></span> 

<span data-ttu-id="388d3-322">La latencia es una medida que puede cambiar mucho dependiendo muchas variables, este tipo de actualización de dispositivos de antigüedad, agregar un gran número de usuarios a una red y el porcentaje de ancho de banda general consumido por otras tareas en una conexión de red.</span><span class="sxs-lookup"><span data-stu-id="388d3-322">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span> 

<span data-ttu-id="388d3-323">Existen calculadoras de ancho de banda para Office 365 desde esta página de [Diseño de la red y ajuste del rendimiento de Office 365](network-planning-and-performance.md) .</span><span class="sxs-lookup"><span data-stu-id="388d3-323">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>  

<span data-ttu-id="388d3-p152">¿Necesita medir la velocidad de la conexión o ancho de banda de la conexión de su ISP? Pruebe este sitio (o los sitios le gusta): [Sitio oficial de Speedtest](https://www.speedtest.net/)y [Pingtest](http://www.pingtest.net/).</span><span class="sxs-lookup"><span data-stu-id="388d3-p152">Need to measure the speed of your connection, or your ISP connection's bandwidth? Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), and [Pingtest](http://www.pingtest.net/).</span></span>

#### <a name="tools"></a><span data-ttu-id="388d3-326">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-326">Tools:</span></span>

- <span data-ttu-id="388d3-327">Ping</span><span class="sxs-lookup"><span data-stu-id="388d3-327">Ping</span></span>
- <span data-ttu-id="388d3-328">PsPing</span><span class="sxs-lookup"><span data-stu-id="388d3-328">PsPing</span></span>
- <span data-ttu-id="388d3-329">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-329">Netmon</span></span>
- <span data-ttu-id="388d3-330">Wireshark</span><span class="sxs-lookup"><span data-stu-id="388d3-330">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-331">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-331">What to look for:</span></span>

<span data-ttu-id="388d3-p153">Para realizar un seguimiento de un seguimiento de la latencia, se beneficiarán de tener registrada la dirección IP del equipo cliente y la dirección IP del servidor DNS en Office 365. Esto es con el fin de facilitar el filtrado de seguimiento. Si se conecta a través de un servidor proxy, necesitará la dirección IP del equipo cliente, la dirección IP de proxy/salida y la dirección IP de DNS de Office 365, para facilitar el trabajo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p153">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365. This is for the purpose of easier trace filtering. If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>  

<span data-ttu-id="388d3-p154">Una solicitud de ping enviada a outlook.office365.com le indicará el nombre del centro de datos recibir la solicitud, incluso si ping *es posible que* no pueda conectar para enviar la marca los paquetes ICMP consecutivos. Si utiliza PsPing (es decir, una herramienta gratuita para su descarga) y el puerto (443) específicos y, posiblemente, para usar IPv4 (-4) que obtiene una round-trip-tiempo promedio de paquetes enviados. Esto funcionará esto para otras direcciones URL en los servicios de Office 365, como `psping -4 yourSite.sharepoint.com:443`. De hecho, puede especificar un número de llamadas ping para obtener un ejemplo más extenso para su try promedio, similar al siguiente: `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span><span class="sxs-lookup"><span data-stu-id="388d3-p154">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets. If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent. This will work this for other URLs in the Office 365 services, like  `psping -4 yourSite.sharepoint.com:443`. In fact, you can specify a number of pings to get a larger sample for your average, try something like:  `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>  

> [!NOTE]
> <span data-ttu-id="388d3-p155">PsPing no envía paquetes ICMP. Hace ping con paquetes TCP a través de un puerto específico, por lo que puede usar cualquier uno que sabe que esté abierto. En Office 365, que usa SSL/TLS, intente adjuntar puerto: 443 a su PsPing.</span><span class="sxs-lookup"><span data-stu-id="388d3-p155">PsPing doesn't send ICMP packets. It pings with TCP packets over a specific port, so you can use any one you know to be open. In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Captura que muestra un ping resolución de outlook.office365.com y un PSPing con el 443 haciendo lo mismo, pero también informes un RTT promedio 6.5ms de pantalla.](media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)        

<span data-ttu-id="388d3-p156">Si carga la página de Office 365 rendimiento lento mientras se hace un seguimiento de red, que se debe filtrar un seguimiento de Netmon o Wireshark para `DNS`. Ésta es una de las direcciones IP que estamos buscando.</span><span class="sxs-lookup"><span data-stu-id="388d3-p156">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for  `DNS`. This is one of the IPs we're looking for.</span></span>  

<span data-ttu-id="388d3-p157">Estos son los pasos a seguir para filtrar su Netmon para obtener la dirección IP (y eche un vistazo a la latencia de DNS). En este ejemplo se utiliza outlook.office365.com, pero también puede usar la dirección URL de un inquilino de SharePoint Online (hithere.sharepoint.com por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="388d3-p157">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency). This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>  

1. <span data-ttu-id="388d3-347">Haga ping a la dirección URL `ping outlook.office365.com` y, en los resultados, anote el nombre y la dirección IP del servidor DNS que se envió la solicitud de ping a.</span><span class="sxs-lookup"><span data-stu-id="388d3-347">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span> 
2. <span data-ttu-id="388d3-348">Red abrir la página de seguimiento o realiza la acción que proporciona el problema de rendimiento o, si ve una latencia alta en el comando ping, propiamente dicha, seguimiento de red se.</span><span class="sxs-lookup"><span data-stu-id="388d3-348">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span> 
3. <span data-ttu-id="388d3-p158">Abrir el seguimiento de Netmon y filtro para DNS (este filtro también funciona en Wireshark, pero minúsculas `-- dns`). Dado que conoce el nombre del servidor DNS desde el comando ping también puede filtrar más rápidamente en Netmon similar: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , que tiene este aspecto en Wireshark dns y marco contiene "namnorthwest".</span><span class="sxs-lookup"><span data-stu-id="388d3-p158">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`). Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="388d3-p159">Abra el paquete de respuesta y, en la ventana de detalles de las tramas de Netmon, haga clic en DNS para expandir para obtener más información. En la información de DNS que encontrará la dirección IP del servidor DNS que la solicitud ha producido un problema en Office 365--que necesitará esta dirección IP para el siguiente paso (la herramienta de PsPing). Quitar el filtro, haga clic en la respuesta de DNS en resumen de marco de Netmon \> buscar conversaciones \> DNS para ver la consulta DNS y respuesta--paralelo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p159">Open the response packet and, in Frame Details window of Netmon, click DNS to expand for more information. In the DNS information you'll find the IP address of the DNS server the request went to in Office 365 -- you'll need this IP address for the next step (the PsPing tool). Remove the filter, right-click on the DNS Response in Netmon's Frame Summary \> Find Conversations \> DNS to see the DNS Query and Response side-by-side.</span></span> 
4. <span data-ttu-id="388d3-p160">En Netmon, tenga en cuenta también la columna de desplazamiento de tiempo entre la solicitud de DNS y la respuesta. En el siguiente paso, fácil de instalar y usar [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) herramienta resulta muy práctica, porque a menudo está bloqueado ICMP en los Firewalls y debido a que PsPing elegante realiza un seguimiento de latencia en milisegundos. PsPing finalice una conexión TCP con una dirección y el puerto (en nuestro caso abra el puerto 443).</span><span class="sxs-lookup"><span data-stu-id="388d3-p160">In Netmon, also note the Time Offset  column between the DNS Request and Response. In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/en-us/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds. PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span> 
5. <span data-ttu-id="388d3-357">Instalar PsPing.</span><span class="sxs-lookup"><span data-stu-id="388d3-357">Install PsPing.</span></span> 
6. <span data-ttu-id="388d3-p161">Abra un símbolo del sistema (iniciar \> ejecutar \> escriba cmd o clave de Windows \> escriba cmd) y cambie el directorio al directorio donde ha instalado PsPing para ejecutar el comando PsPing. En mis ejemplos se puede ver que se ha realizado una carpeta 'Rendimiento' en la raíz de C. Puede hacer lo mismo con acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="388d3-p161">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command. In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span> 
7. <span data-ttu-id="388d3-360">Escriba el comando para que está realizando la PsPing según la dirección IP del servidor DNS de Office 365 desde su seguimiento Netmon anterior, no olvide agregar el número de puerto.</span><span class="sxs-lookup"><span data-stu-id="388d3-360">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace -- remember to add the port number.</span></span> <br/><span data-ttu-id="388d3-p162">En otras palabras, `psping -n 20 132.245.24.82:445`. Esto podrá un muestreo de llamadas 20 ping y promedio de la latencia cuando deja de PsPing.</span><span class="sxs-lookup"><span data-stu-id="388d3-p162">In other words, `psping -n 20 132.245.24.82:445`. This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span> 

<span data-ttu-id="388d3-p163">Si va a Office 365 a través de un servidor proxy, los pasos son un poco diferentes. Lo haría PsPing primero el servidor proxy para obtener un valor promedio de latencia en milisegundos para proxy/salida y back y, a continuación, ejecute PsPing en el servidor proxy, o en un equipo con una conexión directa a Internet para obtener el valor que falta (uno a Office 365 y back).</span><span class="sxs-lookup"><span data-stu-id="388d3-p163">If you're going to Office 365 through a proxy server, the steps are a little different. You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>  

<span data-ttu-id="388d3-p164">Si opta por ejecutar PsPing desde el servidor proxy, tendrá dos valores de milisegundo: equipo de cliente a servidor proxy o el punto de salida y servidor proxy a Office 365. Y ya está! Bueno, grabación, los valores de todos modos.</span><span class="sxs-lookup"><span data-stu-id="388d3-p164">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365. And you're done! Well, recording values, anyway.</span></span>  

<span data-ttu-id="388d3-p165">Si ejecuta PsPing en otro equipo cliente que tiene una conexión directa a Internet, es decir, sin un servidor proxy, tendrá dos valores de milisegundo: equipo de cliente a servidor proxy o el punto de salida y del equipo cliente para Office 365. Restar en este caso, el valor del equipo cliente al punto de salida o de servidor proxy respecto al valor del equipo cliente para Office 365 y tendrán los números RTT desde el equipo cliente hasta el punto de salida o de servidor proxy y de proxy server o salida elija Offi CE 365.</span><span class="sxs-lookup"><span data-stu-id="388d3-p165">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365. In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span> 

<span data-ttu-id="388d3-370">Sin embargo, si un equipo cliente se puede encontrar en la ubicación afectada que está conectada directamente u omite al servidor proxy, es posible que elija ver si el problema se reproduce para empezar y probar con ella, a partir de entonces.</span><span class="sxs-lookup"><span data-stu-id="388d3-370">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it, thereafter.</span></span> 

<span data-ttu-id="388d3-371">Latencia, tal como se muestra en un seguimiento de Netmon, esos milisegundos adicionales pueden agregar copia de seguridad, si hay suficiente de ellos en cualquier sesión determinada.</span><span class="sxs-lookup"><span data-stu-id="388d3-371">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>  

![Latencia general de Netmon, con la columna de diferencia de tiempo predeterminada de Netmon agregada al Resumen de marco.](media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="388d3-p166">La dirección IP puede ser diferente de las direcciones IP que se muestra aquí, por ejemplo, que el comando ping puede devolver algo más parecido a 157.56.0.0/16 o un rango similar. Para obtener una lista de intervalos utilizados por Office 365, desproteger [las direcciones URL de Office 365 y los intervalos de direcciones IP](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span><span class="sxs-lookup"><span data-stu-id="388d3-p166">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range. For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/en-us/library/hh373144.aspx).</span></span> 

<span data-ttu-id="388d3-375">Recuerde que debe expandir todos los nodos (hay un botón en la parte superior de este) si desea buscar, por ejemplo, 132.245.</span><span class="sxs-lookup"><span data-stu-id="388d3-375">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="388d3-376">Autenticación de proxy</span><span class="sxs-lookup"><span data-stu-id="388d3-376">Proxy Authentication</span></span>

<span data-ttu-id="388d3-p167">Esto sólo se aplica a usted si va a través de un servidor proxy. Si no es así, puede omitir estos pasos. Cuando funciona correctamente, la autenticación proxy tendrá lugar en milisegundos, de forma coherente. No debería ver un rendimiento incorrecto intermitente durante los períodos de uso (por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="388d3-p167">This only applies to you if you're going through a proxy server. If not, you can skip these steps. When working properly, proxy authentication should take place in milliseconds, consistently. You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>  

<span data-ttu-id="388d3-p168">Si la autenticación Proxy está habilitado, cada vez que realice una nueva conexión TCP a Office 365 para obtener información, debe pasar a través de un proceso de autenticación en segundo plano. Por lo tanto, por ejemplo, cuando se cambia de calendario para correo en Outlook en línea, se va a realizar la autenticación. Y en SharePoint Online, si muestra una página de medios o datos de varios sitios o ubicaciones, se va a realizar la autenticación para cada conexión TCP diferente que se necesita para representar los datos.</span><span class="sxs-lookup"><span data-stu-id="388d3-p168">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes. So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate. And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>  

<span data-ttu-id="388d3-p169">En Outlook en línea puede experimentar tiempos de carga lenta de cada vez que cambia entre calendario y su buzón de correo o lenta página se carga en SharePoint Online. Sin embargo, hay otros síntomas que no se muestran aquí.</span><span class="sxs-lookup"><span data-stu-id="388d3-p169">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online. However, there are other symptoms not listed here.</span></span> 

<span data-ttu-id="388d3-p170">Autenticación de proxy es una opción de configuración en el servidor de proxy de salida. Si se está generando un problema de rendimiento con Office 365, deberá consultar a su equipo de red.</span><span class="sxs-lookup"><span data-stu-id="388d3-p170">Proxy authentication is a setting on your egress proxy server. If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>  

#### <a name="tool"></a><span data-ttu-id="388d3-388">Herramienta:</span><span class="sxs-lookup"><span data-stu-id="388d3-388">Tool:</span></span> 

- <span data-ttu-id="388d3-389">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-389">Netmon</span></span>
- <span data-ttu-id="388d3-390">Wireshark</span><span class="sxs-lookup"><span data-stu-id="388d3-390">Wireshark</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-391">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-391">What to look for:</span></span>

<span data-ttu-id="388d3-p171">Proxy autenticación lleva a cabo cada vez que una nueva sesión TCP debe poner en marcha, con frecuencia para solicitar los archivos o información desde el servidor, o para proporcionar información. Por ejemplo, es posible que vea autenticación proxy alrededor de las solicitudes HTTP POST o HTTP GET. Si desea ver los marcos donde se autentican las solicitudes en su seguimiento, agregar la columna 'NTLMSSP resumen' Netmon y filtrar para `.property.NTLMSSPSummary`. Para ver cuánto está tomando la autenticación, agregue la columna de Delta de tiempo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p171">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info. For example, you may see proxy authentication around HTTP GET or HTTP POST requests. If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`. To see how long the authentication is taking, add the Time Delta column.</span></span> 

<span data-ttu-id="388d3-396">Para agregar una columna a Netmon:</span><span class="sxs-lookup"><span data-stu-id="388d3-396">To add a column to Netmon:</span></span> 
1. <span data-ttu-id="388d3-397">Haga clic en una columna como descripción.</span><span class="sxs-lookup"><span data-stu-id="388d3-397">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="388d3-398">Haga clic en Elegir columnas.</span><span class="sxs-lookup"><span data-stu-id="388d3-398">Click Choose Columns.</span></span> 
3. <span data-ttu-id="388d3-399">Busque NTLMSSP resumen y Delta de tiempo en la lista y haga clic en Agregar.</span><span class="sxs-lookup"><span data-stu-id="388d3-399">Locate NTLMSSP Summary and Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="388d3-400">Traslado de las nuevas columnas en su lugar antes o detrás de la columna de descripción por lo que puede leer en paralelo.</span><span class="sxs-lookup"><span data-stu-id="388d3-400">Move the new columns into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="388d3-401">Haga clic en Aceptar.</span><span class="sxs-lookup"><span data-stu-id="388d3-401">Click OK.</span></span> 

<span data-ttu-id="388d3-p172">Incluso si no agregar la columna, el filtro de Netmon funcionará. Pero será mucho más sencillo si puede ver qué escenario de autenticación está en la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="388d3-p172">Even if you don't add the column, the Netmon filter will work. But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span> 

<span data-ttu-id="388d3-p173">Cuando está presente al buscar instancias de autenticación de Proxy, asegúrese de estudiar todos los marcos donde hay un desafío de NTLM, o un mensaje de autenticar. Si es necesario, haga clic en el elemento específico de tráfico y buscar conversaciones \> TCP. Tenga en cuenta los valores de Delta de tiempo en estas conversaciones.</span><span class="sxs-lookup"><span data-stu-id="388d3-p173">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present. If necessary, right-click the specific piece of traffic and Find Conversations \> TCP. Be aware of the Time Delta values in these Conversations.</span></span> 

![Netmon seguimiento que muestra autenticación proxy, filtrada por conversación.](media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)        

<span data-ttu-id="388d3-p174">Un segundo cuatro retraso en la autenticación proxy tal y como se puede apreciar en Wireshark. La columna de **delta de tiempo de fotograma mostrado anterior** se realizó a través de bien el campo del mismo nombre en los detalles de marco y seleccione Agregar como columna.</span><span class="sxs-lookup"><span data-stu-id="388d3-p174">A four second delay in proxy authentication as seen in Wireshark. The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.  </span></span><br/> <span data-ttu-id="388d3-410">![En Wireshark, se puede establecer la columna 'Delta de tiempo de fotograma mostrado anterior' a través de bien el campo del mismo nombre en los detalles de marco y seleccione Agregar como columna.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="388d3-410">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>        

### <a name="dns-performance"></a><span data-ttu-id="388d3-411">Rendimiento de DNS</span><span class="sxs-lookup"><span data-stu-id="388d3-411">DNS Performance</span></span>

<span data-ttu-id="388d3-412">Nombre de la solución funciona mejor y más rápidamente cuando lleva a cabo lo más cerca del país del cliente como sea posible.</span><span class="sxs-lookup"><span data-stu-id="388d3-412">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span> 

<span data-ttu-id="388d3-p175">Si la resolución de nombres DNS está produciendo extranjero, pueden agregar a segundos a la carga de las páginas. Idealmente, la resolución de nombres ocurre en 100 ms. Si no, debe realizar una investigación más minuciosa.</span><span class="sxs-lookup"><span data-stu-id="388d3-p175">If DNS name resolution is taking place overseas, it can add seconds to page loads. Ideally, name resolution happens in under 100ms. If not, you should do further investigation.</span></span> 

> [!TIP]
> <span data-ttu-id="388d3-p176">¿No está seguro de cómo funciona la conectividad de cliente en Office 365? Eche un vistazo en el documento de referencia de la conectividad de cliente [aquí](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span><span class="sxs-lookup"><span data-stu-id="388d3-p176">Not sure how Client Connectivity works in Office 365? Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/en-us/library/dn741250.aspx).</span></span>           

#### <a name="tools"></a><span data-ttu-id="388d3-418">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-418">Tools:</span></span> 

- <span data-ttu-id="388d3-419">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-419">Netmon</span></span>
- <span data-ttu-id="388d3-420">Wireshark</span><span class="sxs-lookup"><span data-stu-id="388d3-420">Wireshark</span></span>
- <span data-ttu-id="388d3-421">PsPing</span><span class="sxs-lookup"><span data-stu-id="388d3-421">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-422">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-422">What to look for:</span></span>
<span data-ttu-id="388d3-p177">Analizar el rendimiento de DNS es normalmente otra tarea para un seguimiento de red. Sin embargo, también es útil en la decisión, o desprotege una causa posible PsPing.</span><span class="sxs-lookup"><span data-stu-id="388d3-p177">Analyzing DNS performance is typically another job for a network trace. However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span> 

<span data-ttu-id="388d3-p178">El tráfico DNS se basa en TCP y UDP las solicitudes y respuestas claramente marcadas con un identificador que le ayudarán a para que coincida con una solicitud específica con su respuesta específico. Verá DNS tráfico cuando, por ejemplo, SharePoint Online usa un nombre de red o la dirección URL en una página web. Como regla general, la mayor parte de este tráfico, excepto cuando la transferencia de zonas, se ejecuta a través de UDP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p178">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response. You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page. As a rule of thumb, most of this traffic, excepting when transferring Zones, runs over UDP.</span></span> 

<span data-ttu-id="388d3-p179">En Netmon y Wireshark, el filtro más básico que le permitirá examine el tráfico DNS es simplemente `dns`. Asegúrese de usar minúsculas al especificar el filtro. No olvide vaciar la caché de resolución DNS antes de comenzar a reproducir el problema en el equipo cliente. Por ejemplo, si tiene una carga de página de SharePoint Online lenta para la página principal, debe cerrar todos los exploradores, abra una nueva ventana del explorador, inicie el seguimiento, vaciar la caché de resolución DNS y vaya al sitio de SharePoint Online. Una vez que se resuelve toda la página, debe detener y guarde el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p179">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply  `dns`. Be sure to use lower case when specifying the filter. Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer. For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site. Once the entire page resolves, you should stop and save the trace.</span></span>

![Un filtro básico para DNS en Netmon es DNS.](media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="388d3-p180">Que desea buscar en el tiempo de desplazamiento aquí. Y puede resultar útil agregar la columna de **Delta de tiempo** a Netmon que se puede realizar mediante la realización de estos pasos:</span><span class="sxs-lookup"><span data-stu-id="388d3-p180">You want to look at the time offset here. And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span> 
1. <span data-ttu-id="388d3-436">Haga clic en una columna como descripción.</span><span class="sxs-lookup"><span data-stu-id="388d3-436">Right-click on a column such as Description.</span></span> 
2. <span data-ttu-id="388d3-437">Haga clic en Elegir columnas.</span><span class="sxs-lookup"><span data-stu-id="388d3-437">Click Choose Columns.</span></span> 
3. <span data-ttu-id="388d3-438">Busque Delta de tiempo en la lista y haga clic en Agregar.</span><span class="sxs-lookup"><span data-stu-id="388d3-438">Locate Time Delta in the list and click Add.</span></span> 
4. <span data-ttu-id="388d3-439">Mover la nueva columna en su lugar antes o detrás de la columna de descripción por lo que puede leer en paralelo.</span><span class="sxs-lookup"><span data-stu-id="388d3-439">Move the new column into place before or behind the Description column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="388d3-440">Haga clic en Aceptar.</span><span class="sxs-lookup"><span data-stu-id="388d3-440">Click OK.</span></span> 

<span data-ttu-id="388d3-p181">Si una consulta de interés, considere la posibilidad de aislar haciendo doble clic en esa consulta en el panel de detalles de marco, elegir **Buscar conversaciones** \> **DNS**. Tenga en cuenta que el panel de las conversaciones de red salta derecha a la conversación específica en su registro de tráfico UDP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p181">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**. Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span> 

![Un seguimiento de Netmon de carga en línea de Outlook filtrados por DNS y uso de buscar conversaciones, a continuación, en DNS para restringir los resultados.](media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)        

<span data-ttu-id="388d3-p182">En Wireshark puede hacer que una columna para el tiempo DNS. Realizar el seguimiento (o abra un seguimiento) en Wireshark y filtro por `dns`, o bien, ofrece más ayuda, `dns.time`. Haga clic en cualquier consulta DNS y, en el panel que muestra los detalles, expanda la `Domain Name System (response)` obtener información detallada. Verá un campo de tiempo (por ejemplo, ` [Time: 0.001111100 seconds] `. Haga clic en este momento y seleccione **aplicar como columna**. Esto le proporcionará una columna de **tiempo** para la ordenación más rápidas de su seguimiento. Haga clic en la nueva columna para ordenar de forma descendente valores para ver qué llamadas DNS tardaron más tiempo libre para resolver.</span><span class="sxs-lookup"><span data-stu-id="388d3-p182">In Wireshark you can make a column for DNS time. Take your trace (or open a trace) in Wireshark and filter by  `dns`, or, more helpfully,  `dns.time`. Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details. You'll see a field for time (for example,  ` [Time: 0.001111100 seconds] `. Right-click this time and select **Apply as Column**. This will give you a **Time** column for quicker sorting of your trace. Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span> 

[<span data-ttu-id="388d3-451">Una exploración de SharePoint Online filtrada en Wireshark por dns.time (minúscula), con el tiempo de los detalles convertido en columna y ordenado de forma ascendente.</span><span class="sxs-lookup"><span data-stu-id="388d3-451">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="388d3-p183">Si desea hacer una mayor investigación del tiempo de resolución DNS, intente un PsPing contra el puerto DNS usado por TCP (por ejemplo, `psping <IP address of DNS server>:53`). ¿Puede ver aún un problema de rendimiento? Si lo hace, el problema es más probable que sea una red más amplia de asuntos que un problema específico de la aplicación de DNS se llega a para llevar a cabo resolución. Es también vale la pena mencionar, una vez más, que un ping a outlook.office365.com le indicará donde resolución de nombres DNS para Outlook Online está produciendo (por ejemplo, outlook-namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="388d3-p183">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) . Do you still see a performance issue? If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution. It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).  </span></span><br/> <span data-ttu-id="388d3-456">Si el problema tiene un aspecto para que sea específica de DNS, puede ser necesario ponerse en contacto con el departamento de TI para buscar en las configuraciones de DNS y servidores de reenvío de DNS para investigar este problema.</span><span class="sxs-lookup"><span data-stu-id="388d3-456">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span> 

### <a name="proxy-scalability"></a><span data-ttu-id="388d3-457">Escalabilidad de proxy</span><span class="sxs-lookup"><span data-stu-id="388d3-457">Proxy Scalability</span></span>

<span data-ttu-id="388d3-p184">Servicios como Outlook Online en Office 365 conceden a los clientes de varias conexiones a largo plazo. Por lo tanto, cada usuario puede utilizar más conexiones que requieren una mayor duración.</span><span class="sxs-lookup"><span data-stu-id="388d3-p184">Services like Outlook Online in Office 365 grant clients multiple long-term connections. Therefore, each user may use more connections that require a longer life.</span></span>  

> [!TIP]
> <span data-ttu-id="388d3-p185">¿Debe planear el uso de ancho de banda debido a que se va a agregar mucho a los usuarios a Office 365? Pruebe a [Planear el uso de ancho de banda de Internet para Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). Existen calculadoras de ancho de banda disponible no existe.</span><span class="sxs-lookup"><span data-stu-id="388d3-p185">Need to plan for bandwidth use because you're about to add a lot users to Office 365? Try [Plan for Internet bandwidth usage for Office 365](https://technet.microsoft.com/en-us/library/hh852542.aspx). There are bandwidth calculators available there.</span></span>

#### <a name="tool"></a><span data-ttu-id="388d3-463">Herramienta:</span><span class="sxs-lookup"><span data-stu-id="388d3-463">Tool:</span></span>
 
<span data-ttu-id="388d3-464">Math</span><span class="sxs-lookup"><span data-stu-id="388d3-464">Math</span></span>  

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-465">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-465">What to look for:</span></span> 

<span data-ttu-id="388d3-p186">No hay ningún seguimiento de red o la herramienta de solución de problemas específicos a la siguiente. En su lugar, se basa en los cálculos de ancho de banda asignado limitaciones y otras variables.</span><span class="sxs-lookup"><span data-stu-id="388d3-p186">There is no network trace or troubleshooting tool specific to this. Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>  

### <a name="tcp-max-segment-size"></a><span data-ttu-id="388d3-468">Tamaño del segmento de Max TCP</span><span class="sxs-lookup"><span data-stu-id="388d3-468">TCP Max Segment Size</span></span>

<span data-ttu-id="388d3-p187">Que se encuentra en el SYN - ACK SYN /.  Realizar esta comprobación en cualquier seguimiento de rendimiento de red que ha tomado para garantizar que los paquetes TCP están configurados para llevar a cabo la cantidad máxima de datos posibles.</span><span class="sxs-lookup"><span data-stu-id="388d3-p187">Found in the SYN - SYN/ACK.  Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span> 

<span data-ttu-id="388d3-p188">El objetivo es ver un MSS de 1460 bytes para la transmisión de datos. Si está detrás de un proxy o está utilizando un dispositivo NAT, no olvide ejecutar esta prueba de cliente de salida/proxy o NAT y de salida/proxy/NAT a Office 365 para obtener los mejores resultados! Se trata de las distintas sesiones TCP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p188">The goal is to see a MSS of 1460 bytes for transmission of data. If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="388d3-474">Herramienta:</span><span class="sxs-lookup"><span data-stu-id="388d3-474">Tool:</span></span> 

<span data-ttu-id="388d3-475">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-475">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-476">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-476">What to look for:</span></span>

<span data-ttu-id="388d3-p189">Tamaño de segmento de Max (MSS) de TCP es otro parámetro del protocolo de enlace de tres vías en la traza de red, que significa que encontrará los datos que necesita en el SYN - paquetes de sincronización/confirmación. MSS es bastante sencillo ver.</span><span class="sxs-lookup"><span data-stu-id="388d3-p189">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet. MSS is actually pretty simple to see.</span></span> 

<span data-ttu-id="388d3-479">Abra cualquier seguimiento de rendimiento de red tiene y encontrar la conexión de que tiene curiosidad acerca, o muestra el problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-479">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span> 

> [!NOTE]
> <span data-ttu-id="388d3-p190">Si está viendo un seguimiento y necesita encontrar el tráfico correspondiente a su conversación, se filtra según la dirección IP del cliente o la dirección IP del servidor proxy o el punto de salida o ambos. Va directamente, debe hacer ping a la dirección URL que se está probando para la dirección IP de Office 365 en el seguimiento y filtro por ella.</span><span class="sxs-lookup"><span data-stu-id="388d3-p190">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both. Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span> 

<span data-ttu-id="388d3-p191">¿Está buscando en el seguimiento de la segunda mano? Intente utilizar filtros para orientar usted mismo. En Netmon, ejecutar una búsqueda basada en la dirección URL, como `Containsbin(framedata, ascii, "sphybridExample")`, tome nota del número de marco.</span><span class="sxs-lookup"><span data-stu-id="388d3-p191">Looking at the trace second-hand? Try using filters to orient yourself. In Netmon, run a search based on the URL, such as  `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span> 

<span data-ttu-id="388d3-p192">En Wireshark usar algo como `frame contains "sphybridExample"`. Si observa que ha encontrado el tráfico de Winsock remoto (RWS) (que es posible que aparezca como una [Psh:, confirmación] en Wireshark), recuerde que se conecta RWS puede verse en breve antes relevante SYN - SYN/confirmaciones, como se explicó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="388d3-p192">In Wireshark use something like  `frame contains "sphybridExample"`. If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span> 

<span data-ttu-id="388d3-487">En este momento, puede registrar el número de trama, colocar el filtro, haga clic en todo el tráfico en la ventana de las conversaciones de red en Netmon mirar el SYN más cercano.</span><span class="sxs-lookup"><span data-stu-id="388d3-487">At this point, you can record the frame number, drop the filter, click All Traffic in the Network Conversations window in Netmon to look at the nearest SYN.</span></span> 

<span data-ttu-id="388d3-488">Lo que es importante, si no ha recibido alguna de la información de dirección IP en el momento de la traza, búsqueda de la dirección URL en el seguimiento (parte de `sphybridExample-my.sharepoint.com`, por ejemplo), le proporcionará las direcciones IP para filtrar por.</span><span class="sxs-lookup"><span data-stu-id="388d3-488">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span> 

<span data-ttu-id="388d3-p193">Busque la conexión en el seguimiento de la que está interesado en ver. Puede hacerlo mediante el examen el seguimiento mediante el filtrado de direcciones IP, o seleccionando ID de conversación específicos mediante la ventana de las conversaciones de red en Netmon. Una vez que ha encontrado el paquete SYN, expanda TCP (en Netmon) o protocolo de Control de transmisión (en Wireshark) en el panel de detalles de las tramas. Expanda MaxSegementSize y opciones de TCP. Busque el marco de ataque de SYN relacionado y expanda Opciones de TCP y MaxSegmentSize. El menor de los dos valores será su tamaño máximo de segmento. En esta imagen, se puede realizar el uso de la columna integrada en Netmon llama a solucionar problemas de TCP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p193">Locate the connection in the trace that you're interested in seeing. You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel. Expand TCP Options and MaxSegementSize. Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize. The smaller of the two values will be your Maximum Segment Size. In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>  

![Seguimiento de red filtrado en Netmon con las columnas integradas.](media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="388d3-p194">Es la columna integrada en la parte superior del panel de **Detalles de las tramas** . (Para volver a la vista normal, haga clic de nuevo en columnas y, a continuación, elija zona horaria).</span><span class="sxs-lookup"><span data-stu-id="388d3-p194">The built-in column is at the top of the **Frame Details** panel. (To switch back to your normal view, click Columns again, and then choose Time Zone.)</span></span> 

<span data-ttu-id="388d3-499">![Dónde encontrar la lista de columnas desplegable para la opción de Solucionar problemas de TCP (arriba del Resumen de marco).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span><span class="sxs-lookup"><span data-stu-id="388d3-499">![Where to find the Columns drop down for the TCP Troubleshoot option (on top of the Frame Summary).](media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)         </span></span>  
<span data-ttu-id="388d3-p195">Aquí tiene un seguimiento filtrado en Wireshark. Hay un filtro específico para el valor de MSS ( `tcp.options.mss`). Los marcos de SYN, sincronización/confirmación, el protocolo de enlace de confirmación están vinculados en la parte inferior de la Wireshark equivalente a los detalles de las tramas (por lo que contenga confirmación 47, vínculos a 46 sincronización/confirmación, vínculos a SYN 43) para facilitar este tipo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p195">Here's a filtered trace in Wireshark. There is a filter specific to the MSS value ( `tcp.options.mss`). The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span> 

![Seguimiento filtrado en Wireshark por tcp.options.mss para el tamaño de segmento máximo (MSS).](media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)         
<span data-ttu-id="388d3-504">Si necesita comprobar confirmación selectiva (tema siguiente en esta matriz), no cierre su seguimiento!</span><span class="sxs-lookup"><span data-stu-id="388d3-504">If you need to check Selective Acknowledgment (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="388d3-505">Confirmación selectiva</span><span class="sxs-lookup"><span data-stu-id="388d3-505">Selective Acknowledgment</span></span>

<span data-ttu-id="388d3-p196">Que se encuentran en el SYN - SYN/confirmaciones deben ser notificado como permitidos en SYN y confirmación selectiva de SYN/confirmaciones (SACK) permite la retransmisión más suave de datos cuando un paquete o paquetes vaya que faltan. Dispositivos pueden deshabilitar esta característica, que puede dar lugar a problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p196">Found in the SYN - SYN/ACK. Must be reported as Permitted in both SYN and SYN/ACK. Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing. Devices can disable this feature, which can lead to performance problems.</span></span> 

<span data-ttu-id="388d3-p197">Si está detrás de un proxy o está utilizando un dispositivo NAT, no olvide ejecutar esta prueba de cliente de salida/proxy o NAT y de salida/proxy/NAT a Office 365 para obtener los mejores resultados! Se trata de las distintas sesiones TCP.</span><span class="sxs-lookup"><span data-stu-id="388d3-p197">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results! These are different TCP sessions.</span></span>

#### <a name="tool"></a><span data-ttu-id="388d3-512">Herramienta:</span><span class="sxs-lookup"><span data-stu-id="388d3-512">Tool:</span></span> 

<span data-ttu-id="388d3-513">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-513">Netmon</span></span> 

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-514">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-514">What to look for:</span></span>

<span data-ttu-id="388d3-p198">Confirmación selectiva (SACK) es otro parámetro en el protocolo de enlace SYN-sincronización/confirmación. Puede filtrar el seguimiento para SYN - sincronización/confirmación de muchas maneras.</span><span class="sxs-lookup"><span data-stu-id="388d3-p198">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake. You can filter your trace for SYN - SYN/ACK many ways.</span></span> 

<span data-ttu-id="388d3-p199">Busque la conexión en el seguimiento de la que está interesado en ver ya sea mediante el examen de la traza, filtrado de direcciones IP, o haciendo clic en un identificador de conversación de uso de la ventana de las conversaciones de red en Netmon. Una vez que ha encontrado el paquete SYN, expanda TCP en Netmon o protocolo de Control de transmisión en Wireshark en la sección detalles del marco. Expanda las opciones de TCP y, a continuación, bolsa. Busque el marco de SYN relacionado y expanda Opciones de TCP y su campo SACK. Asegúrese de que está permitido SACK en SYN y SYN/confirmaciones Aquí son valores SACK tal y como se puede apreciar en Netmon y Wireshark.</span><span class="sxs-lookup"><span data-stu-id="388d3-p199">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon. Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section. Expand TCP Options and then SACK. Locate the related SYN-ACK frame and Expand TCP Options and its SACK field. Make certain SACK is permitted in both SYN and SYN/ACK. Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Confirmación selectiva (SACK) en Netmon como resultado de tcp.flags.syn == 1.](media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)           <br/> ![BOLSA tal y como aparece en Wireshark con el filtro tcp.flags.syn == 1.](media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)        

### <a name="dns-geolocation"></a><span data-ttu-id="388d3-525">Ubicación geográfica DNS</span><span class="sxs-lookup"><span data-stu-id="388d3-525">DNS Geolocation</span></span> 

<span data-ttu-id="388d3-526">Cuando en el mundo Office 365 intenta resolver el DNS llame a efectos de la velocidad de conexión.</span><span class="sxs-lookup"><span data-stu-id="388d3-526">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span> 

<span data-ttu-id="388d3-p200">En Outlook Online, una vez finalizada la primera búsqueda de DNS, la ubicación de ese DNS se usará para conectarse a su centro de datos más cercano. Se conectará a un servidor de entidades de certificación en línea de Outlook, que usará la red troncal de red para conectarse al centro de datos (dC) donde se almacenan los datos. Esto es más rápido.</span><span class="sxs-lookup"><span data-stu-id="388d3-p200">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter. You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored. This is faster.</span></span>

<span data-ttu-id="388d3-530">Al obtener acceso a SharePoint Online, un usuario que viajan en el extranjero se dirigirán a su centro de datos activo--que es el controlador de dominio cuya ubicación se basa en su inquilino SPO de la página principal de base (por lo tanto, un controlador de dominio en los Estados Unidos si el usuario si basada en Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="388d3-530">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>  <br/>  <span data-ttu-id="388d3-p201">Lync online tiene nodos activos en más de un controlador de dominio a la vez. Cuando las solicitudes están enviados para Lync online instancias, Microsoft DNS determinará en el mundo de la solicitud de procedencia y devolver direcciones IP desde el controlador de dominio regional más cercano donde Lync online está activo.</span><span class="sxs-lookup"><span data-stu-id="388d3-p201">Lync online has active nodes in more than one dC at a time. When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span> 

> [!TIP]
> <span data-ttu-id="388d3-p202">¿Necesita saber más información acerca de cómo los clientes se conectan a Office 365? Eche un vistazo en el artículo de referencia de la [Conectividad de cliente](https://technet.microsoft.com/en-us/library/dn741250.aspx) (y sus gráficos útiles).</span><span class="sxs-lookup"><span data-stu-id="388d3-p202">Need to know more about how clients connect to Office 365? Take a look at the [Client Connectivity](https://technet.microsoft.com/en-us/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>           
#### <a name="tools"></a><span data-ttu-id="388d3-535">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-535">Tools:</span></span>

- <span data-ttu-id="388d3-536">Ping</span><span class="sxs-lookup"><span data-stu-id="388d3-536">Ping</span></span>
- <span data-ttu-id="388d3-537">PsPing</span><span class="sxs-lookup"><span data-stu-id="388d3-537">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="388d3-538">Qué buscar:</span><span class="sxs-lookup"><span data-stu-id="388d3-538">What to look for:</span></span>

<span data-ttu-id="388d3-p203">En caso de las solicitudes de resolución de nombres de los servidores DNS del cliente a los servidores DNS de Microsoft en el resultado de la mayoría de los casos en devolver la dirección IP de un centro de datos regional (dC) de DNS de Microsoft. ¿Qué significa esto para usted? Si sus sedes centrales se encuentran en Bangalore, India, pero está de viaje en los Estados Unidos, cuando el explorador realiza una solicitud para Outlook en línea, los servidores DNS de Microsoft deben entregará direcciones IP en centros de datos en los Estados Unidos--un centro de datos regional. Si se necesita el correo de Outlook, se trasladarán esos datos a través de red troncal de red rápido de Microsoft entre los centros de datos.</span><span class="sxs-lookup"><span data-stu-id="388d3-p203">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC). What does this mean for you? If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter. If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="388d3-p204">DNS funciona más rápido cuando se realiza la resolución de nombres cerca de la ubicación del usuario como sea posible. Si se encuentra en Europa, desea que vaya a un DNS de Microsoft en Europa y abordar los problemas (lo ideal) con un centro de datos en Europa. Rendimiento de un cliente en Europa va a DNS y un centro de datos de América será más lento.</span><span class="sxs-lookup"><span data-stu-id="388d3-p204">DNS works fastest when name resolution is done as close to the user location as possible. If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe. Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="388d3-p205">Ejecutar la herramienta de Ping en outlook.office365.com para determinar donde se se enruta la solicitud DNS en el mundo. Si se encuentra en Europa, debería ver un mensaje de respuesta de algo como emeawest.office365.com de outlook. En América, esperar a que algo como namnorthwest.office365.com de outlook.</span><span class="sxs-lookup"><span data-stu-id="388d3-p205">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed. If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com. In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span> 

<span data-ttu-id="388d3-p206">Abra el símbolo del sistema en el equipo cliente (a través de inicio \> ejecutar \> cmd o clave de Windows \> escriba cmd). Escriba ping outlook.office365.com y presione ENTRAR. Recuerde que, para especificar -4 si desea especificar para hacer ping a través de IPv4. Puede producirse un error obtener una respuesta de los paquetes de ICMP, pero debería ver el nombre del DNS a la que se redirige la solicitud. Si desea ver los números de latencia para esta conexión intente PsPing a la dirección IP del servidor que es devuelto por ping.</span><span class="sxs-lookup"><span data-stu-id="388d3-p206">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd). Type ping outlook.office365.com and press ENTER. Remember, to specify -4 if you want to specify to ping via IPv4. You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed. If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>  

![Ping de outlook.office365.com que muestra la resolución en outlook-namnorthwest.](media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)           
![PSPing a la dirección IP devuelta por el comando ping para outlook.office365.com muestra la latencia promedio de milisegundo 28.](media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)           
### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="388d3-556">Solución de problemas de aplicación de Office 365</span><span class="sxs-lookup"><span data-stu-id="388d3-556">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="388d3-557">Herramientas:</span><span class="sxs-lookup"><span data-stu-id="388d3-557">Tools:</span></span> 

- <span data-ttu-id="388d3-558">Netmon</span><span class="sxs-lookup"><span data-stu-id="388d3-558">Netmon</span></span>
- <span data-ttu-id="388d3-559">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="388d3-559">HTTPWatch</span></span>
- <span data-ttu-id="388d3-560">Consola de F12 en el explorador</span><span class="sxs-lookup"><span data-stu-id="388d3-560">F12 Console in the browser</span></span>

<span data-ttu-id="388d3-p207">No tratamos las herramientas usadas para solucionar problemas específicos de la aplicación en este artículo específicos de la red. Encontrará recursos, pero se *puede* usar [en esta página](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span><span class="sxs-lookup"><span data-stu-id="388d3-p207">We don't cover tools used in application-specific troubleshooting in this network-specific article. But you'll find resources you  *can*  use [on this page](https://support.office.com/en-us/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>
   
## <a name="related-topics"></a><span data-ttu-id="388d3-563">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="388d3-563">Related Topics</span></span>

[<span data-ttu-id="388d3-564">Administrar puntos de conexión de Office 365</span><span class="sxs-lookup"><span data-stu-id="388d3-564">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)
  
[<span data-ttu-id="388d3-565">Preguntas frecuentes sobre extremos de Office 365</span><span class="sxs-lookup"><span data-stu-id="388d3-565">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
  

