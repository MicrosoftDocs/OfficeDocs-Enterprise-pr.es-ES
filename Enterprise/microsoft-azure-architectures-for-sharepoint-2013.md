---
title: Arquitecturas de Microsoft Azure para SharePoint 2013
ms.author: bcarter
author: brendacarter
manager: laurawi
ms.date: 12/15/2017
audience: ITPro
ms.topic: conceptual
ms.service: o365-solutions
localization_priority: Normal
ms.collection: Ent_O365
f1.keywords:
- CSH
ms.custom: Ent_Architecture
ms.assetid: 98fc1006-9399-4ff0-a216-c7c05820d822
description: 'Resumen: Las soluciones de SharePoint 2013 pueden hospedarse en máquinas virtuales de Microsoft Azure. Obtenga información acerca de qué tipo de soluciones son una buena opción y cómo configurar Microsoft Azure para hospedar una.'
ms.openlocfilehash: fee388f56faf2b30534d9a56926d9d62a176df19
ms.sourcegitcommit: 6e608d957082244d1b4ffb47942e5847ec18c0b9
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/01/2020
ms.locfileid: "44997902"
---
# <a name="microsoft-azure-architectures-for-sharepoint-2013"></a><span data-ttu-id="94d3a-104">Arquitecturas de Microsoft Azure para SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="94d3a-104">Microsoft Azure Architectures for SharePoint 2013</span></span>

<span data-ttu-id="94d3a-105">Azure es un buen entorno para hospedar una solución de SharePoint Server 2013.</span><span class="sxs-lookup"><span data-stu-id="94d3a-105">Azure is a good environment for hosting a SharePoint Server 2013 solution.</span></span> <span data-ttu-id="94d3a-106">En la mayoría de los casos, recomendamos Microsoft 365, pero una granja de servidores de SharePoint Server hospedada en Azure puede ser una buena opción para soluciones específicas.</span><span class="sxs-lookup"><span data-stu-id="94d3a-106">In most cases, we recommend Microsoft 365, but a SharePoint Server farm hosted in Azure can be a good option for specific solutions.</span></span> <span data-ttu-id="94d3a-107">En este artículo se describe cómo diseñar soluciones de SharePoint para que sean una buena opción en la plataforma de Azure.</span><span class="sxs-lookup"><span data-stu-id="94d3a-107">This article describes how to architect SharePoint solutions so they are a good fit in the Azure platform.</span></span> <span data-ttu-id="94d3a-108">Se usan como ejemplo las dos soluciones específicas siguientes:</span><span class="sxs-lookup"><span data-stu-id="94d3a-108">The following two specific solutions are used as examples:</span></span>
  
- [<span data-ttu-id="94d3a-109">Recuperación ante desastres de SharePoint Server 2013 en Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-109">SharePoint Server 2013 Disaster Recovery in Microsoft Azure</span></span>](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md)
    
- [<span data-ttu-id="94d3a-110">Sitios de Internet en Microsoft Azure con SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="94d3a-110">Internet Sites in Microsoft Azure using SharePoint Server 2013</span></span>](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md)
    
## <a name="recommended-sharepoint-solutions-for-azure-infrastructure-services"></a><span data-ttu-id="94d3a-111">Soluciones de SharePoint recomendadas para servicios de infraestructura de Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-111">Recommended SharePoint solutions for Azure Infrastructure Services</span></span>

<span data-ttu-id="94d3a-p103">Los servicios de infraestructura de Azure son una opción atractiva para hospedar soluciones de SharePoint. Algunas soluciones son más adecuadas para esta plataforma que otras. La siguiente tabla muestra soluciones recomendadas.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p103">Azure infrastructure services is a compelling option for hosting SharePoint solutions. Some solutions are a better fit for this platform than others. The following table shows recommended solutions.</span></span>
  
|<span data-ttu-id="94d3a-115">**Solución**</span><span class="sxs-lookup"><span data-stu-id="94d3a-115">**Solution**</span></span>|<span data-ttu-id="94d3a-116">**Por qué se recomienda esta solución para Azure**</span><span class="sxs-lookup"><span data-stu-id="94d3a-116">**Why this solution is recommended for Azure**</span></span>|
|:-----|:-----|
|<span data-ttu-id="94d3a-117">Entornos de desarrollo y pruebas</span><span class="sxs-lookup"><span data-stu-id="94d3a-117">Development and test environments</span></span>  <br/> |<span data-ttu-id="94d3a-118">Es fácil crear y administrar estos entornos.</span><span class="sxs-lookup"><span data-stu-id="94d3a-118">It's easy to create and manage these environments.</span></span>  <br/> |
|<span data-ttu-id="94d3a-119">Recuperación ante desastres de granjas de SharePoint locales para Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-119">Disaster recovery of on-premises SharePoint farms to Azure</span></span>  <br/> |<span data-ttu-id="94d3a-120">**Centro de datos secundario y hospedado** Use Azure en lugar de invertir en un centro de datos secundario de una región diferente.</span><span class="sxs-lookup"><span data-stu-id="94d3a-120">**Hosted secondary datacenter** Use Azure instead of investing in a secondary datacenter in a different region.</span></span> <br/> <span data-ttu-id="94d3a-p104">**Entornos de recuperación ante desastres de coste más bajo** Mantenga y pague menos recursos que un entorno local de recuperación ante desastres. El número de recursos depende del entorno de recuperación ante desastres que elija: espera pasiva, estado de espera semiactiva o espera activa.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p104">**Lower-cost disaster-recovery environments** Maintain and pay for fewer resources than an on-premises disaster recovery environment. The number of resources depends on the disaster recovery environment you choose: cold standby, warm standby, or hot standby. </span></span><br/> <span data-ttu-id="94d3a-p105">**Plataforma más elástica** En caso de desastre, escale fácil y horizontalmente la granja de SharePoint de recuperación para satisfacer los requisitos de carga. Reduzca horizontalmente cuando ya no necesite los recursos.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p105">**More elastic platform** In the event of a disaster, easily scale-out your recovery SharePoint farm to meet load requirements. Scale in when you no longer need the resources. </span></span><br/> <span data-ttu-id="94d3a-125">Vea [Recuperación ante desastres de SharePoint Server 2013 en Microsoft Azure](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md).</span><span class="sxs-lookup"><span data-stu-id="94d3a-125">See [SharePoint Server 2013 Disaster Recovery in Microsoft Azure](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md).</span></span>  <br/> |
|<span data-ttu-id="94d3a-126">Sitios orientados a Internet que usan características y escala no disponibles en Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="94d3a-126">Internet-facing sites that use features and scale not available in Microsoft 365</span></span>  <br/> |<span data-ttu-id="94d3a-127">**Centre sus esfuerzos** Concéntrese en crear el mejor sitio posible y no en tener que crear la infraestructura necesaria.</span><span class="sxs-lookup"><span data-stu-id="94d3a-127">**Focus your efforts** Concentrate on building a great site rather than building infrastructure.</span></span> <br/> <span data-ttu-id="94d3a-p106">**Aproveche la flexibilidad de Azure** Asigne el tamaño a la granja según la demanda mediante la adición de servidores nuevos y pague únicamente los recursos que necesita. No se admite la asignación dinámica de máquinas (escala automática).</span><span class="sxs-lookup"><span data-stu-id="94d3a-p106">**Take advantage of elasticity in Azure** Size the farm for the demand by adding new servers, and pay only for resources you need. Dynamic machine allocation is not supported (auto scale). </span></span><br/> <span data-ttu-id="94d3a-130">**Use Azure Active Directory (AD)** Aproveche Azure AD para cuentas de clientes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-130">**Use Azure Active Directory (AD)** Take advantage of Azure AD for customer accounts.</span></span> <br/> <span data-ttu-id="94d3a-131">**Agregar la funcionalidad de SharePoint no disponible en Microsoft 365** Agregar informes detallados y Web Analytics.</span><span class="sxs-lookup"><span data-stu-id="94d3a-131">**Add SharePoint functionality not available in Microsoft 365** Add deep reporting and web analytics.</span></span> <br/> <span data-ttu-id="94d3a-132">Vea [Sitios de Internet en Microsoft Azure con SharePoint Server 2013](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md).</span><span class="sxs-lookup"><span data-stu-id="94d3a-132">See [Internet Sites in Microsoft Azure using SharePoint Server 2013](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md).</span></span>  <br/> |
|<span data-ttu-id="94d3a-133">Granjas de aplicaciones para admitir entornos locales de Microsoft 365 o</span><span class="sxs-lookup"><span data-stu-id="94d3a-133">App farms to support Microsoft 365 or on-premises environments</span></span>  <br/> |<span data-ttu-id="94d3a-134">**Cree, pruebe y hospede a aplicaciones** en Azure para admitir entornos locales y en la nube.</span><span class="sxs-lookup"><span data-stu-id="94d3a-134">**Build, test, and host apps** in Azure to support both on-premises and cloud environments.</span></span> <br/> <span data-ttu-id="94d3a-135">**Hospede a este rol** en Azure en lugar de comprar hardware nuevo para entornos locales.</span><span class="sxs-lookup"><span data-stu-id="94d3a-135">**Host this role** in Azure instead of buying new hardware for on-premises environments.</span></span> <br/> |
   
<span data-ttu-id="94d3a-136">Para intranet y cargas de trabajo y soluciones de colaboración, considere las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="94d3a-136">For intranet and collaboration solutions and workloads, consider the following options:</span></span>
  
- <span data-ttu-id="94d3a-137">Determine si Microsoft 365 cumple los requisitos empresariales o puede formar parte de la solución.</span><span class="sxs-lookup"><span data-stu-id="94d3a-137">Determine if Microsoft 365 meets your business requirements or can be part of the solution.</span></span> <span data-ttu-id="94d3a-138">Microsoft 365 proporciona un amplio conjunto de características que siempre está actualizado.</span><span class="sxs-lookup"><span data-stu-id="94d3a-138">Microsoft 365 provides a rich feature set that is always up to date.</span></span>
    
- <span data-ttu-id="94d3a-139">Si Microsoft 365 no cumple todos los requisitos empresariales, considere una implementación estándar de SharePoint 2013 local de los servicios de consultoría de Microsoft (MCS).</span><span class="sxs-lookup"><span data-stu-id="94d3a-139">If Microsoft 365 does not meet all your business requirements, consider a standard implementation of SharePoint 2013 on premises from Microsoft Consulting Services (MCS).</span></span> <span data-ttu-id="94d3a-140">Una arquitectura estándar puede ser una solución más rápida, económica y sencilla que una solución personalizada.</span><span class="sxs-lookup"><span data-stu-id="94d3a-140">A standard architecture can be a quicker, cheaper, and easier solution for you to support than a customized one.</span></span> 
    
- <span data-ttu-id="94d3a-141">Si una implementación estándar no cumple los requisitos empresariales, considere una solución local personalizada.</span><span class="sxs-lookup"><span data-stu-id="94d3a-141">If a standard implementation doesn't meet your business requirements, consider a customized on-premises solution.</span></span>
    
- <span data-ttu-id="94d3a-p109">Si el uso de una plataforma en la nube es importante para los requisitos empresariales, le recomendamos que use una implementación estándar o personalizada de SharePoint 2013 hospedado en los servicios de infraestructura de Azure. Las soluciones de SharePoint ofrecen mucha más compatibilidad con Azure que otras plataformas en la nube pública que no son nativas de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p109">If using a cloud platform is important for your business requirements, consider a standard or customized implementation of SharePoint 2013 hosted in Azure infrastructure services. SharePoint solutions are much easier to support in Azure than other non-native Microsoft public cloud platforms.</span></span>
    
## <a name="before-you-design-the-azure-environment"></a><span data-ttu-id="94d3a-144">Antes de diseñar el entorno de Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-144">Before you design the Azure environment</span></span>

<span data-ttu-id="94d3a-p110">Aunque en este artículo se usan topologías de SharePoint como ejemplo, puede usar estos conceptos de diseño con cualquier topología de granja de SharePoint. Antes de diseñar el entorno de Azure, use la guía de topología, arquitectura, capacidad y rendimiento siguiente para diseñar la granja de SharePoint:</span><span class="sxs-lookup"><span data-stu-id="94d3a-p110">While this article uses example SharePoint topologies, you can use these design concepts with any SharePoint farm topology. Before you design the Azure environment, use the following topology, architecture, capacity, and performance guidance to design the SharePoint farm:</span></span>
  
- [<span data-ttu-id="94d3a-147">Diseño de la arquitectura de SharePoint 2013 para profesionales de TI</span><span class="sxs-lookup"><span data-stu-id="94d3a-147">Architecture design for SharePoint 2013 IT pros</span></span>](https://technet.microsoft.com/sharepoint/fp123594.aspx)
    
- [<span data-ttu-id="94d3a-148">Plan for performance and capacity management in SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="94d3a-148">Plan for performance and capacity management in SharePoint Server 2013</span></span>](https://technet.microsoft.com/library/8dd52916-f77d-4444-b593-1f7d6f330e5f.aspx)
    
## <a name="determine-the-active-directory-domain-type"></a><span data-ttu-id="94d3a-149">Determinar el tipo de dominio de Active Directory</span><span class="sxs-lookup"><span data-stu-id="94d3a-149">Determine the Active Directory domain type</span></span>

<span data-ttu-id="94d3a-p111">Cada granja de SharePoint Server usa Active Directory para proporcionar cuentas administrativas para la configuración de granjas. En este momento, existen dos opciones para soluciones de SharePoint en Azure. Los detalles se describen en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p111">Each SharePoint Server farm relies on Active Directory to provide administrative accounts for farm setup. At this time, there are two options for SharePoint solutions in Azure. These are described in the following table.</span></span>
  
|<span data-ttu-id="94d3a-153">**Opción**</span><span class="sxs-lookup"><span data-stu-id="94d3a-153">**Option**</span></span>|<span data-ttu-id="94d3a-154">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="94d3a-154">**Description**</span></span>|
|:-----|:-----|
|<span data-ttu-id="94d3a-155">Dominio dedicado</span><span class="sxs-lookup"><span data-stu-id="94d3a-155">Dedicated domain</span></span>  <br/> |<span data-ttu-id="94d3a-p112">Puede implementar un dominio de Active Directory dedicado y aislado en Azure para admitir la granja de SharePoint. Esta es una buena opción para sitios de Internet orientados a uso público.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p112">You can deploy a dedicated and isolated Active Directory domain to Azure to support your SharePoint farm. This is a good choice for public-facing Internet sites.</span></span>  <br/> |
|<span data-ttu-id="94d3a-158">Extender el dominio local a través de una conexión entre locales</span><span class="sxs-lookup"><span data-stu-id="94d3a-158">Extend the on-premises domain through a cross-premises connection</span></span>  <br/> |<span data-ttu-id="94d3a-p113">Cuando extiende el dominio local a través de una conexión entre locales, los usuarios tienen acceso a la granja de SharePoint mediante la intranet como si estuviera hospedada de forma local. Puede aprovechar su implementación de DNS y Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p113">When you extend the on-premises domain through a cross-premises connection, users access the SharePoint farm via your intranet as if it were hosted on-premises. You can take advantage of your on-premises Active Directory and DNS implementation.</span></span>  <br/> <span data-ttu-id="94d3a-161">Se requiere una conexión entre locales para crear un entorno de recuperación ante desastres en Azure y realizar la conmutación por error desde la granja local.</span><span class="sxs-lookup"><span data-stu-id="94d3a-161">A cross-premises connection is required for building a disaster-recovery environment in Azure to fail over to from your on-premises farm.</span></span>  <br/> |
   
<span data-ttu-id="94d3a-p114">En este artículo se incluyen conceptos de diseño para extender el dominio local a través de una conexión entre locales. Si la solución usa un dominio dedicado, no es necesario diseñar una conexión entre locales.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p114">This article includes design concepts for extending the on-premises domain through a cross-premises connection. If your solution uses a dedicated domain, you don't need a cross-premises connection.</span></span>
  
## <a name="design-the-virtual-network"></a><span data-ttu-id="94d3a-164">Diseñar la red virtual</span><span class="sxs-lookup"><span data-stu-id="94d3a-164">Design the virtual network</span></span>

<span data-ttu-id="94d3a-p115">En primer lugar, necesita una red virtual en Azure, que incluye las subredes en las que situará sus máquinas virtuales. La red virtual necesita un espacio de direcciones IP privadas, partes del cual se asignarán a las subredes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p115">First you need a virtual network in Azure, which includes subnets on which you will place your virtual machines. The virtual network needs a private IP address space, portions of which you assign to the subnets.</span></span>
  
<span data-ttu-id="94d3a-167">Si está ampliando su red local a Azure mediante una conexión entre locales (necesaria para un entorno de recuperación ante desastres), debe elegir un espacio de direcciones privadas que no esté ya en uso en otro lugar de la red de su organización, que puede incluir su entorno local y otras redes virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="94d3a-167">If you are extending your on-premises network to Azure through a cross-premises connection (required for a disaster recovery environment), you must choose a private address space that is not already in use elsewhere in your organization network, which can include your on-premises environment and other Azure virtual networks.</span></span> 
  
<span data-ttu-id="94d3a-168">**Figura 1: Entorno local con una red virtual en Azure**</span><span class="sxs-lookup"><span data-stu-id="94d3a-168">**Figure 1: On-premises environment with a virtual network in Azure**</span></span>

![Diseño de la red virtual de Microsoft Azure para una solución de SharePoint. Subred para la puerta de enlace de Azure. Subred para las máquinas virtuales.](media/OPrrasconWA-AZarch.png)
  
<span data-ttu-id="94d3a-172">En este diagrama:</span><span class="sxs-lookup"><span data-stu-id="94d3a-172">In this diagram:</span></span>
  
- <span data-ttu-id="94d3a-p117">Se ilustra una red virtual en Azure en paralelo con el entorno local. Los dos entornos aún no están conectados mediante una conexión entre locales, la cual puede ser una conexión VPN de sitio a sitio o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p117">A virtual network in Azure is illustrated side-by-side to the on-premises environment. The two environments are not yet connected by a cross-premises connection, which can be a site-to-site VPN connection or ExpressRoute.</span></span>
    
- <span data-ttu-id="94d3a-p118">En este punto, la red virtual solo incluye las subredes y ningún otro elemento de arquitectura. Una subred hospedará la puerta de enlace de Azure y otras subredes hospedarán los niveles de la granja de servidores de SharePoint, con una adicional para Active Directory y DNS.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p118">At this point, the virtual network just includes the subnets and no other architectural elements. One subnet will host the Azure gateway and other subnets host the tiers of the SharePoint farm, with an additional one for Active Directory and DNS.</span></span>
    
## <a name="add-cross-premises-connectivity"></a><span data-ttu-id="94d3a-177">Agregar conectividad entre locales</span><span class="sxs-lookup"><span data-stu-id="94d3a-177">Add cross-premises connectivity</span></span>

<span data-ttu-id="94d3a-p119">El siguiente paso de la implementación es crear la conexión entre locales (en caso de que sea aplicable a la solución). Para las conexiones entre locales, la puerta de enlace de Azure se encuentra en una subred de puerta de enlace independiente; debe crearla y asignarle un espacio de direcciones.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p119">The next deployment step is to create the cross-premises connection (if this applies to your solution). For cross-premises connections, a Azure gateway resides in a separate gateway subnet, which you must create and assign an address space.</span></span> 
  
<span data-ttu-id="94d3a-180">Al planear una conexión entre locales, define y crea una conexión y una puerta de enlace de Azure hacia un dispositivo de puerta de enlace local.</span><span class="sxs-lookup"><span data-stu-id="94d3a-180">When you plan for a cross-premises connection, you define and create an Azure gateway and connection to an on-premises gateway device.</span></span>
  
<span data-ttu-id="94d3a-181">**Figura 2: Uso de una puerta de enlace de Azure y un dispositivo de puerta de enlace local para proporcionar conectividad de sitio a sitio entre el entorno local y Azure**</span><span class="sxs-lookup"><span data-stu-id="94d3a-181">**Figure 2: Using an Azure gateway and an on-premises gateway device to provide site-to-site connectivity between the on-premises environment and Azure**</span></span>

![Entorno local conectado a una red virtual de Azure mediante una conexión entre locales, que puede ser una conexión VPN de sitio a sitio o ExpressRoute.](media/AZarch-VPNgtwyconnct.png)
  
<span data-ttu-id="94d3a-183">En este diagrama:</span><span class="sxs-lookup"><span data-stu-id="94d3a-183">In this diagram:</span></span>
  
- <span data-ttu-id="94d3a-184">Se agrega al diagrama previo el entorno local que está conectado a la red virtual de Azure mediante una conexión entre locales, que puede ser una conexión VPN de sitio a sitio o ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="94d3a-184">Adding to the previous diagram, the on-premises environment is connected to the Azure virtual network by a cross-premise connection, which can be a site-to-site VPN connection or ExpressRoute.</span></span>
    
- <span data-ttu-id="94d3a-185">Una puerta de enlace de Azure se encuentra en una subred de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="94d3a-185">An Azure gateway is on a gateway subnet.</span></span>
    
- <span data-ttu-id="94d3a-186">El entorno local incluye un dispositivo de puerta de enlace, como un enrutador o un servidor VPN.</span><span class="sxs-lookup"><span data-stu-id="94d3a-186">The on-premises environment includes a gateway device, such as a router or VPN server.</span></span>
    
<span data-ttu-id="94d3a-187">Para obtener información adicional para planear y crear una red virtual entre locales, consulte [Conectar una red local con una red virtual de Microsoft Azure](connect-an-on-premises-network-to-a-microsoft-azure-virtual-network.md).</span><span class="sxs-lookup"><span data-stu-id="94d3a-187">For additional information to plan for and create a cross-premises virtual network, see [Connect an on-premises network to a Microsoft Azure virtual network](connect-an-on-premises-network-to-a-microsoft-azure-virtual-network.md).</span></span>
  
## <a name="add-active-directory-domain-services-ad-ds-and-dns"></a><span data-ttu-id="94d3a-188">Adición de servicios de dominio de Active Directory (AD DS) y DNS</span><span class="sxs-lookup"><span data-stu-id="94d3a-188">Add Active Directory Domain Services (AD DS) and DNS</span></span>

<span data-ttu-id="94d3a-189">Para la recuperación ante desastres en Azure, debe implementar Windows Server AD y DNS en un escenario híbrido donde se implementa Windows Server AD tanto de forma local como en máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="94d3a-189">For disaster recovery in Azure, you deploy Windows Server AD and DNS in a hybrid scenario where Windows Server AD is deployed both on-premises and on Azure virtual machines.</span></span>
  
<span data-ttu-id="94d3a-190">**Figura 3: Configuración híbrida de dominios de Active Directory**</span><span class="sxs-lookup"><span data-stu-id="94d3a-190">**Figure 3: Hybrid Active Directory domain configuration**</span></span>

![Dos máquinas virtuales implementadas en la red virtual de Azure y la subred de la granja de servidores de SharePoint son réplicas de controladores de dominio y servidores DNS.](media/AZarch-HyADdomainConfig.png)
  
<span data-ttu-id="94d3a-p120">Este diagrama es una continuación de los diagramas previos al agregar dos máquinas virtuales en una subred de Windows Server AD y DNS. Estas máquinas virtuales son réplicas de servidores DNS y controladores de dominio. Son una extensión del entorno de Windows Server AD local.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p120">This diagram builds on the previous diagrams by adding two virtual machines to a Windows Server AD and DNS subnet. These virtual machines are replica domain controllers and DNS servers. They are an extension of the on-premises Windows Server AD environment.</span></span> 
  
<span data-ttu-id="94d3a-p121">La siguiente tabla proporciona recomendaciones de configuración para estas máquinas virtuales en Azure. Úselas como punto de partida para diseñar su propio entorno (incluso para un dominio de dedicado donde el entorno de Azure no se comunica con el entorno local.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p121">The following table provides configuration recommendations for these virtual machines in Azure. Use these as a starting point for designing your own environment—even for a dedicated domain where your Azure environment doesn't communicate with your on-premises environment.</span></span>
  
|<span data-ttu-id="94d3a-197">**Elemento**</span><span class="sxs-lookup"><span data-stu-id="94d3a-197">**Item**</span></span>|<span data-ttu-id="94d3a-198">**Configuración**</span><span class="sxs-lookup"><span data-stu-id="94d3a-198">**Configuration**</span></span>|
|:-----|:-----|
|<span data-ttu-id="94d3a-199">Tamaño de las máquinas virtuales en Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-199">Virtual machine size in Azure</span></span>  <br/> |<span data-ttu-id="94d3a-200">Tamaño A1 o A2 en el nivel estándar</span><span class="sxs-lookup"><span data-stu-id="94d3a-200">A1 or A2 size in the Standard tier</span></span>  <br/> |
|<span data-ttu-id="94d3a-201">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="94d3a-201">Operating system</span></span>  <br/> |<span data-ttu-id="94d3a-202">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="94d3a-202">Windows Server 2012 R2</span></span>  <br/> |
|<span data-ttu-id="94d3a-203">Rol de Active Directory</span><span class="sxs-lookup"><span data-stu-id="94d3a-203">Active Directory role</span></span>  <br/> |<span data-ttu-id="94d3a-p122">Controlador de dominio de AD DS designado como servidor de catálogo global. Esta configuración reduce el tráfico de salida a través de la conexión entre locales.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p122">AD DS domain controller designated as a global catalog server. This configuration reduces egress traffic across the cross-premises connection.</span></span>  <br/> <span data-ttu-id="94d3a-206">En un entorno de varios dominios con altos índices de cambio (esto no es común), configure controladores de dominio de forma local no para sincronizar con los servidores de catálogo globales en Azure, sino para reducir el tráfico de replicación.</span><span class="sxs-lookup"><span data-stu-id="94d3a-206">In a multidomain environment with high rates of change (this is not common), configure domain controllers on premises not to sync with the global catalog servers in Azure, to reduce replication traffic.</span></span>  <br/> |
|<span data-ttu-id="94d3a-207">Rol de DNS</span><span class="sxs-lookup"><span data-stu-id="94d3a-207">DNS role</span></span>  <br/> |<span data-ttu-id="94d3a-208">Instale y configure el servicio de DNS Server en los controladores de dominio.</span><span class="sxs-lookup"><span data-stu-id="94d3a-208">Install and configure the DNS Server service on the domain controllers.</span></span>  <br/> |
|<span data-ttu-id="94d3a-209">Discos de datos</span><span class="sxs-lookup"><span data-stu-id="94d3a-209">Data disks</span></span>  <br/> |<span data-ttu-id="94d3a-p123">Coloque la base de datos, los registros y SYSVOL de Active Directory en discos de datos de Azure adicionales. No los coloque en el disco del sistema operativo o discos temporales proporcionados por Azure.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p123">Place the Active Directory database, logs, and SYSVOL on additional Azure data disks. Do not place these on the operating system disk or the temporary disks provided by Azure.</span></span>  <br/> |
|<span data-ttu-id="94d3a-212">Direcciones IP</span><span class="sxs-lookup"><span data-stu-id="94d3a-212">IP addresses</span></span>  <br/> |<span data-ttu-id="94d3a-213">Utilice direcciones IP estáticas y configure la red virtual para que las asigne a las máquinas virtuales de la red virtual tras la configuración de los controladores de dominio.</span><span class="sxs-lookup"><span data-stu-id="94d3a-213">Use static IP addresses and configure the virtual network to assign these addresses to the virtual machines in the virtual network after the domain controllers have been configured.</span></span>  <br/> |
   
> [!IMPORTANT]
> <span data-ttu-id="94d3a-p124">Antes de implementar Active Directory en Azure, lea las [Directrices para implementar Windows Server Active Directory en máquinas virtuales de Azure](https://go.microsoft.com/fwlink/p/?linkid=392681). Le ayudarán a determinar si la solución requiere una arquitectura diferente u opciones de configuración diferentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p124">Before you deploy Active Directory in Azure, read [Guidelines for Deploying Windows Server Active Directory on Azure Virtual Machines](https://go.microsoft.com/fwlink/p/?linkid=392681). These help you determine if a different architecture or different configuration settings are needed for your solution.</span></span> 
  
## <a name="add-the-sharepoint-farm"></a><span data-ttu-id="94d3a-216">Agregar la granja de SharePoint</span><span class="sxs-lookup"><span data-stu-id="94d3a-216">Add the SharePoint farm</span></span>

<span data-ttu-id="94d3a-217">Coloque las máquinas virtuales de la granja de servidores de SharePoint en niveles de las subredes apropiadas.</span><span class="sxs-lookup"><span data-stu-id="94d3a-217">Place the virtual machines of the SharePoint farm in tiers on the appropriate subnets.</span></span>
  
<span data-ttu-id="94d3a-218">**Figura 4: Colocación de máquinas virtuales de SharePoint**</span><span class="sxs-lookup"><span data-stu-id="94d3a-218">**Figure 4: Placement of SharePoint virtual machines**</span></span>

![Servidores de bases de datos y roles de servidor de SharePoint agregados a la red virtual Azure dentro de la subred de la granja de servidores de SharePoint.](media/AZarch-SPVMsinCloudSer.png)
  
<span data-ttu-id="94d3a-220">Este diagrama es una continuación de los diagramas previos al agregar los roles de servidor de granja de SharePoint en sus respectivos niveles.</span><span class="sxs-lookup"><span data-stu-id="94d3a-220">This diagram builds on the previous diagrams by adding the SharePoint farm server roles in their respective tiers.</span></span>
  
- <span data-ttu-id="94d3a-221">Dos máquinas virtuales de base de datos que ejecutan SQL Server crean el nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="94d3a-221">Two database virtual machines running SQL Server create the database tier.</span></span>
    
- <span data-ttu-id="94d3a-222">Dos máquinas virtuales ejecutan SharePoint Server 2013 para cada uno de los siguientes niveles: servidores front-end, servidores de caché distribuidos y servidores back-end.</span><span class="sxs-lookup"><span data-stu-id="94d3a-222">Two virtual machines running SharePoint Server 2013 for each of the following tiers: front end servers, distributed cache servers, and back end servers.</span></span>
    
## <a name="design-and-fine-tune-server-roles-for-availability-sets-and-fault-domains"></a><span data-ttu-id="94d3a-223">Diseñar y ajustar roles de servidor para conjuntos de disponibilidad y dominios de error</span><span class="sxs-lookup"><span data-stu-id="94d3a-223">Design and fine tune server roles for availability sets and fault domains</span></span>

<span data-ttu-id="94d3a-p125">Un dominio de error es un agrupamiento de hardware en el que se ejecutan instancias de rol. La infraestructura de Azure puede actualizar al mismo tiempo las máquinas virtuales dentro del mismo dominio de error, o bien pueden fallar al mismo tiempo porque comparten la misma estantería. Para evitar el riesgo de tener dos máquinas virtuales en el mismo dominio de error, puede configurar sus máquinas virtuales como conjunto de disponibilidad, lo que garantiza que cada máquina virtual se encuentre en un dominio de error diferente. Si tres máquinas virtuales están configuradas como conjunto de disponibilidad, Azure garantiza que no habrá más que dos de las máquinas virtuales ubicadas en el mismo servidor de error.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p125">A fault domain is a grouping of hardware in which role instances run. Virtual machines within the same fault domain can be updated by the Azure infrastructure at the same time. Or, they can fail at the same time because they share the same rack. To avoid the risk of having two virtual machines on the same fault domain, you can configure your virtual machines as an availability set, which ensures that each virtual machine is in a different fault domain. If three virtual machines are configured as an availability set, Azure guarantees that no more than two of the virtual machines are located in the same fault domain.</span></span>
  
<span data-ttu-id="94d3a-p126">Cuando diseñe la arquitectura de Azure para una granja de SharePoint, configure roles de servidor idénticos para que formen parte de un conjunto de disponibilidad. Esto garantiza que las máquinas virtuales estén esparcidas por varios dominios de error.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p126">When you design the Azure architecture for a SharePoint farm, configure identical server roles to be part of an availability set. This ensures that your virtual machines are spread across multiple fault domains.</span></span>
  
<span data-ttu-id="94d3a-231">**Figura 5: Uso de Conjuntos de disponibilidad de Azure para proporcionar alta disponibilidad para niveles de granja de servidores de SharePoint**</span><span class="sxs-lookup"><span data-stu-id="94d3a-231">**Figure 5: Use Azure Availability Sets to provide high availability for the SharePoint farm tiers**</span></span>

![Configuración de conjuntos de disponibilidad en la infraestructura de Azure para una solución de SharePoint 2013.](media/AZenv-WinAzureAvailSetsHA.png)
  
<span data-ttu-id="94d3a-p127">Este diagrama llama a la configuración de conjuntos de disponibilidad dentro de la infraestructura de Azure. Cada uno de los siguientes roles comparte un conjunto de disponibilidad separado:</span><span class="sxs-lookup"><span data-stu-id="94d3a-p127">This diagram calls out the configuration of availability sets within the Azure infrastructure. Each of the following roles share a separate availability set:</span></span>
  
- <span data-ttu-id="94d3a-235">Active Directory y DNS</span><span class="sxs-lookup"><span data-stu-id="94d3a-235">Active Directory and DNS</span></span>
    
- <span data-ttu-id="94d3a-236">Base de datos</span><span class="sxs-lookup"><span data-stu-id="94d3a-236">Database</span></span>
    
- <span data-ttu-id="94d3a-237">Back-end</span><span class="sxs-lookup"><span data-stu-id="94d3a-237">Back end</span></span>
    
- <span data-ttu-id="94d3a-238">Caché distribuido</span><span class="sxs-lookup"><span data-stu-id="94d3a-238">Distribute cache</span></span>
    
- <span data-ttu-id="94d3a-239">Front-end</span><span class="sxs-lookup"><span data-stu-id="94d3a-239">Front end</span></span>
    
<span data-ttu-id="94d3a-p128">Podría ser necesario ajustar la granja de SharePoint en la plataforma de Azure. Para garantizar la alta disponibilidad de todos los componentes, asegúrese de que los roles de servidor estén configurados todos de forma idéntica.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p128">The SharePoint farm might need to be fine tuned in the Azure platform. To ensure high availability of all components, ensure that the server roles are all configured identically.</span></span>
  
<span data-ttu-id="94d3a-p129">Este es un ejemplo que muestra una arquitectura estándar de Sitios de Internet que cumple objetivos específicos de capacidad y rendimiento. Este ejemplo se encuentra en el siguiente modelo de arquitectura: [Arquitecturas de búsqueda en sitios de Internet para SharePoint Server 2013](https://go.microsoft.com/fwlink/p/?LinkId=261519).</span><span class="sxs-lookup"><span data-stu-id="94d3a-p129">Here is an example that shows a standard Internet Sites architecture that meets specific capacity and performance goals. This example is featured in the following architecture model: [Internet Sites Search Architectures for SharePoint Server 2013](https://go.microsoft.com/fwlink/p/?LinkId=261519).</span></span>
  
<span data-ttu-id="94d3a-244">**Figura 6: Ejemplo de planeación para objetivos de capacidad y rendimiento en una granja de tres niveles**</span><span class="sxs-lookup"><span data-stu-id="94d3a-244">**Figure 6: Planning example for capacity and performance goals in a three-tier farm**</span></span>

![Arquitectura estándar de sitios de Internet de SharePoint 2013 con asignaciones de componentes que cumplen objetivos específicos de rendimiento y capacidad.](media/AZarch-CapPerfexmpArch.png)
  
<span data-ttu-id="94d3a-246">En este diagrama:</span><span class="sxs-lookup"><span data-stu-id="94d3a-246">In this diagram:</span></span>
  
- <span data-ttu-id="94d3a-247">Se representa una granja de tres niveles: servidores web, servidores de aplicaciones y servidores de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="94d3a-247">A three-tier farm is represented: web servers, application servers, and database servers.</span></span>
    
- <span data-ttu-id="94d3a-248">Los tres servidores web están configurados idénticamente con varios componentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-248">The three web servers are configured identically with multiple components.</span></span>
    
- <span data-ttu-id="94d3a-249">Los dos servidores de bases de datos están configurados idénticamente.</span><span class="sxs-lookup"><span data-stu-id="94d3a-249">The two database servers are configured identically.</span></span>
    
- <span data-ttu-id="94d3a-p130">Los tres servidores de aplicaciones no están configurados idénticamente. Estos roles de servidor requieren ajustes para conjuntos de disponibilidad en Azure.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p130">The three application servers are not configured identically. These server roles require fine tuning for availability sets in Azure.</span></span>
    
<span data-ttu-id="94d3a-252">Observemos más cerca el nivel de servidor de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="94d3a-252">Let's look closer at the application server tier.</span></span>
  
<span data-ttu-id="94d3a-253">**Figura 7: Nivel de servidor de aplicaciones antes del ajuste**</span><span class="sxs-lookup"><span data-stu-id="94d3a-253">**Figure 7: Application server tier before fine tuning**</span></span>

![Ejemplo de nivel de servidor de la aplicación de SharePoint Server 2013 antes de la optimización para conjuntos de disponibilidad de Microsoft Azure.](media/AZarch-AppServtierBefore.png)
  
<span data-ttu-id="94d3a-255">En este diagrama:</span><span class="sxs-lookup"><span data-stu-id="94d3a-255">In this diagram:</span></span>
  
- <span data-ttu-id="94d3a-256">Se incluyen tres servidores en el nivel de aplicación.</span><span class="sxs-lookup"><span data-stu-id="94d3a-256">Three servers are included in the application tier.</span></span>
    
- <span data-ttu-id="94d3a-257">El primer servidor incluye cuatro componentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-257">The first server includes four components.</span></span>
    
- <span data-ttu-id="94d3a-258">El segundo servidor incluye tres componentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-258">The second server includes three components.</span></span>
    
- <span data-ttu-id="94d3a-259">El tercer servidor incluye dos componentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-259">The third server includes two components.</span></span>
    
<span data-ttu-id="94d3a-p131">Los objetivos de rendimiento y capacidad para la granja permiten determinar el número de componentes. Para adaptar esta arquitectura para Azure, replicaremos los cuatro componentes en los tres servidores. Esto incrementa el número de componentes más allá de lo necesario para rendimiento y capacidad. La desventaja es que este diseño garantiza la alta disponibilidad de los cuatro componentes en la plataforma de Azure cuando estas tres máquinas virtuales están asignadas a un conjunto de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="94d3a-p131">You determine the number of components by the performance and capacity targets for the farm. To adapt this architecture for Azure, we'll replicate the four components across all three servers. This increases the number of components beyond what is necessary for performance and capacity. The tradeoff is that this design ensures high availability of all four components in the Azure platform when these three virtual machines are assigned to an availability set.</span></span>
  
<span data-ttu-id="94d3a-264">**Figura 8: Nivel de servidor de aplicaciones después del ajuste**</span><span class="sxs-lookup"><span data-stu-id="94d3a-264">**Figure 8: Application server tier after fine tuning**</span></span>

![Ejemplo de nivel de servidor de la aplicación de SharePoint Server 2013 después de la optimización para conjuntos de disponibilidad de Microsoft Azure.](media/AZarch-AppServtierAfter.png)
  
<span data-ttu-id="94d3a-266">Este diagrama muestra los tres servidores de aplicaciones configurados de forma idéntica con los mismos cuatro componentes.</span><span class="sxs-lookup"><span data-stu-id="94d3a-266">This diagram shows all three application servers configured identically with the same four components.</span></span>
  
<span data-ttu-id="94d3a-267">Cuando agregamos conjuntos de disponibilidad a los niveles de la granja de servidores de SharePoint, se completa la implementación.</span><span class="sxs-lookup"><span data-stu-id="94d3a-267">When we add availability sets to the tiers of the SharePoint farm, the implementation is complete.</span></span>
  
<span data-ttu-id="94d3a-268">**Figura 9: La granja de SharePoint completada en los servicios de infraestructura de Azure**</span><span class="sxs-lookup"><span data-stu-id="94d3a-268">**Figure 9: The completed SharePoint farm in Azure infrastructure services**</span></span>

![Ejemplo de granja de servidores de SharePoint 2013 en los servicios de infraestructura de Azure con red virtual, conectividad entre locales, subredes, máquinas virtuales y conjuntos de disponibilidad.](media/7256292f-bf11-485b-8917-41ba206153ee.png)
  
<span data-ttu-id="94d3a-270">Este diagrama muestra el conjunto de servidores de SharePoint implementado en los servicios de infraestructura de Azure, con conjuntos de disponibilidad para proporcionar dominios de error para los servidores de cada nivel.</span><span class="sxs-lookup"><span data-stu-id="94d3a-270">This diagram shows the SharePoint farm implemented in Azure infrastructure services, with availability sets to provide fault domains for the servers in each tier.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="94d3a-271">Consulta también</span><span class="sxs-lookup"><span data-stu-id="94d3a-271">See Also</span></span>

[<span data-ttu-id="94d3a-272">Adopción de la nube y soluciones híbridas</span><span class="sxs-lookup"><span data-stu-id="94d3a-272">Cloud adoption and hybrid solutions</span></span>](cloud-adoption-and-hybrid-solutions.yml)
  
[<span data-ttu-id="94d3a-273">Sitios de Internet en Microsoft Azure con SharePoint Server 2013</span><span class="sxs-lookup"><span data-stu-id="94d3a-273">Internet Sites in Microsoft Azure using SharePoint Server 2013</span></span>](internet-sites-in-microsoft-azure-using-sharepoint-server-2013.md)
  
[<span data-ttu-id="94d3a-274">Recuperación ante desastres de SharePoint Server 2013 en Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="94d3a-274">SharePoint Server 2013 Disaster Recovery in Microsoft Azure</span></span>](sharepoint-server-2013-disaster-recovery-in-microsoft-azure.md)


