---
title: Optimizar las extensiones personalizadas en las páginas de sitio modernas de SharePoint Online
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 03/11/2020
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Priority
ms.collection:
- Ent_O365
- Strat_O365_Enterprise
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
ms.reviewer: sstewart
search.appverid:
- MET150
description: Obtenga información sobre cómo optimizar el rendimiento de extensiones personalizadas en páginas de sitio modernas de SharePoint Online.
ms.openlocfilehash: bdc05c4e786d07a18c49766bf37aca7f4fde56da
ms.sourcegitcommit: c024b48115cebfdaadfbc724acc2d065394156e9
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/11/2020
ms.locfileid: "42603829"
---
# <a name="optimize-custom-extension-performance-in-sharepoint-online-modern-site-pages"></a><span data-ttu-id="2205d-103">Optimizar el rendimiento de extensiones personalizadas en páginas del sitio modernas de SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="2205d-103">Optimize custom extension performance in SharePoint Online modern site pages</span></span>

<span data-ttu-id="2205d-104">Este artículo le ayudará a determinar cómo las extensiones personalizadas afectan a la latencia que percibe el usuario y cómo corregir los problemas más comunes.</span><span class="sxs-lookup"><span data-stu-id="2205d-104">This article will help you understand how to determine how custom extensions affect user perceived latency, and how to remediate common issues.</span></span>

## <a name="use-the-page-diagnostics-for-sharepoint-tool-to-analyze-custom-extensions"></a><span data-ttu-id="2205d-105">Usar la herramienta de Diagnóstico de páginas para SharePoint para analizar las extensiones personalizadas</span><span class="sxs-lookup"><span data-stu-id="2205d-105">Use the Page Diagnostics for SharePoint tool to analyze custom extensions</span></span>

<span data-ttu-id="2205d-106">La herramienta de Diagnóstico de páginas para SharePoint es una extensión de explorador para los nuevos exploradores de Microsoft Edge (https://www.microsoft.com/edge) y Chrome que analiza las páginas del sitio de publicación clásicas y las modernas del portal de SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="2205d-106">The Page Diagnostics for SharePoint tool is a browser extension for the new Microsoft Edge (https://www.microsoft.com/edge) and Chrome browsers that analyzes both SharePoint Online modern portal and classic publishing site pages.</span></span> <span data-ttu-id="2205d-107">La herramienta le ofrece un informe para cada página analizada en el que se muestra el rendimiento de la página respecto a un conjunto definido de criterios de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2205d-107">The tool provides a report for each analyzed page showing how the page performs against a defined set of performance criteria.</span></span> <span data-ttu-id="2205d-108">Para instalar e informarse de la herramienta Diagnóstico de página de SharePoint, visite [Usar la herramienta Diagnóstico de página para SharePoint Online](page-diagnostics-for-spo.md).</span><span class="sxs-lookup"><span data-stu-id="2205d-108">To install and learn about the Page Diagnostics for SharePoint tool, visit [Use the Page Diagnostics tool for SharePoint Online](page-diagnostics-for-spo.md).</span></span>

>[!NOTE]
><span data-ttu-id="2205d-109">La herramienta de Diagnóstico de páginas solo funciona para SharePoint Online y no se puede usar en una página del sistema de SharePoint. </span><span class="sxs-lookup"><span data-stu-id="2205d-109">The Page Diagnostics tool only works for SharePoint Online, and cannot be used on a SharePoint system page.</span></span>

<span data-ttu-id="2205d-110">Al analizar una página del sitio de SharePoint con la herramienta de Diagnóstico de páginas para SharePoint, puede ver información sobre las extensiones personalizadas que superan la métrica de línea base en el resultado **Las extensiones afectan al tiempo de carga de la página** en el panel _Pruebas de diagnóstico_.</span><span class="sxs-lookup"><span data-stu-id="2205d-110">When you analyze a SharePoint site page with the Page Diagnostics for SharePoint tool, you can see information about custom extensions that exceed the baseline metric in the **Extensions are impacting load time** result in the _Diagnostic tests_ pane.</span></span>

<span data-ttu-id="2205d-111">Los posibles resultados incluyen:</span><span class="sxs-lookup"><span data-stu-id="2205d-111">Possible results include:</span></span>

- <span data-ttu-id="2205d-112">**Atención necesaria** (en rojo): cualquier extensión _personalizada_ que tarde más de **un** segundo en cargarse.</span><span class="sxs-lookup"><span data-stu-id="2205d-112">**Attention required** (red): Any _custom_ extension that takes longer than **one** second to load.</span></span> <span data-ttu-id="2205d-113">El tiempo de carga total que se muestra en los resultados de la prueba se desglosa por carga de módulos e inicialización.</span><span class="sxs-lookup"><span data-stu-id="2205d-113">Total load time as displayed in test results is broken down by module load and init.</span></span>
- <span data-ttu-id="2205d-114">**No es necesario realizar ninguna acción** (en verde): no hay ninguna extensión que tarde más de un segundo en cargarse.</span><span class="sxs-lookup"><span data-stu-id="2205d-114">**No action required** (green): No extension is taking longer than one second to load.</span></span>

<span data-ttu-id="2205d-115">Si una extensión afecta al tiempo de carga de la página, el resultado aparece en la sección **Atención necesaria** de los resultados.</span><span class="sxs-lookup"><span data-stu-id="2205d-115">If an extension is impacting page load time, the result appears in the **Attention required** section of the results.</span></span> <span data-ttu-id="2205d-116">Haga clic en el resultado para ver los detalles sobre la extensión que se está cargando despacio.</span><span class="sxs-lookup"><span data-stu-id="2205d-116">Click the result to see details about which extension is loading slowly.</span></span> <span data-ttu-id="2205d-117">Las actualizaciones futuras de la herramienta Diagnóstico de páginas para SharePoint pueden incluir actualizaciones de las reglas de análisis, así que asegúrese de que siempre tiene la versión más reciente de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="2205d-117">Future updates to the Page Diagnostics for SharePoint tool may include updates to analysis rules, so please ensure you always have the latest version of the tool.</span></span>

![Resultados de tiempo de carga de la página](media/page-diagnostics-for-spo/pagediag-extensions-load-time.png)

<span data-ttu-id="2205d-119">La información disponible en los resultados incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2205d-119">Information available in the results includes:</span></span>

- <span data-ttu-id="2205d-120">**Nombre e identificador** muestra información de identificación que puede ayudarle a encontrar la extensión en la página</span><span class="sxs-lookup"><span data-stu-id="2205d-120">**Name and ID** shows identifying information that can help you find the extension on the page</span></span>
- <span data-ttu-id="2205d-121">**Total** muestra el tiempo total para que se inicialice y cargue la extensión</span><span class="sxs-lookup"><span data-stu-id="2205d-121">**Total** shows the total time for the extension to initialize and load</span></span>
- <span data-ttu-id="2205d-122">**Carga de módulos** muestra el tiempo que se tarda en recuperar y cargar la extensión</span><span class="sxs-lookup"><span data-stu-id="2205d-122">**Module Load** shows the time taken to fetch and load the extension</span></span>
- <span data-ttu-id="2205d-123">**Inicialización** muestra el tiempo necesario para que se inicialice la extensión</span><span class="sxs-lookup"><span data-stu-id="2205d-123">**Init** shows the time taken for the extension to initialize</span></span>

<span data-ttu-id="2205d-124">Se proporciona esta información para que los diseñadores y desarrolladores puedan solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="2205d-124">This information is provided to help designers and developers troubleshoot issues.</span></span> <span data-ttu-id="2205d-125">Debe proporcionar esta información a su equipo de diseño y desarrollo.</span><span class="sxs-lookup"><span data-stu-id="2205d-125">This information should be provided to your design and development team.</span></span>

## <a name="overview-of-extensions"></a><span data-ttu-id="2205d-126">Introducción a las extensiones</span><span class="sxs-lookup"><span data-stu-id="2205d-126">Overview of extensions</span></span>

<span data-ttu-id="2205d-127">Puede usar las Extensiones de SharePoint Framework (SPFx) para ampliar la experiencia de usuario de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="2205d-127">SharePoint Framework (SPFx) Extensions can be used to extend the SharePoint user experience.</span></span> <span data-ttu-id="2205d-128">Con las Extensiones de SharePoint Framework, puede personalizar otros aspectos de la experiencia de SharePoint, como las vistas de datos de lista, las barras de herramientas y las áreas de notificación.</span><span class="sxs-lookup"><span data-stu-id="2205d-128">With SharePoint Framework Extensions, you can customize more facets of the SharePoint experience, including notification areas, toolbars, and list data views.</span></span>

<span data-ttu-id="2205d-129">Las extensiones pueden afectar negativamente al rendimiento de una página de SharePoint ya que también necesitan recursos de red y CPU para realizar el trabajo necesario.</span><span class="sxs-lookup"><span data-stu-id="2205d-129">Extensions can have a bad influence on the performance of a SharePoint page as it also takes CPU and network resources to do required work.</span></span>

<span data-ttu-id="2205d-130">Existen cuatro tipos de extensiones:</span><span class="sxs-lookup"><span data-stu-id="2205d-130">There are four types of extensions:</span></span>

- <span data-ttu-id="2205d-131">**Personalizadores de aplicación** agregan scripts a la página, tienen acceso a marcadores de posición de elementos HTML conocidos y los amplían con representaciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="2205d-131">**Application Customizers** adds scripts to the page, and accesses well-known HTML element placeholders and extends them with custom renderings.</span></span>
- <span data-ttu-id="2205d-132">**Personalizadores de campo** proporcionan vistas modificadas de los datos para los campos de una lista.</span><span class="sxs-lookup"><span data-stu-id="2205d-132">**Field Customizers** provides modified views to data for fields within a list.</span></span>
- <span data-ttu-id="2205d-133">**Conjuntos de comandos** amplían las superficies de comandos de SharePoint para agregar nuevas acciones y proporcionan código de cliente que puede utilizar para implementar comportamientos.</span><span class="sxs-lookup"><span data-stu-id="2205d-133">**Command Sets** extend the SharePoint command surfaces to add new actions, and provides client-side code that you can use to implement behaviors.</span></span>
- <span data-ttu-id="2205d-134">**Modificador de consulta de búsqueda (solo vista previa)** se invoca justo antes de ejecutar la consulta de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="2205d-134">**Search Query Modifier (preview only)** are invoked just before the search query is executed.</span></span>

## <a name="remediate-extension-performance-issues"></a><span data-ttu-id="2205d-135">Corrección de problemas de rendimiento de extensión</span><span class="sxs-lookup"><span data-stu-id="2205d-135">Remediate extension performance issues</span></span>

<span data-ttu-id="2205d-136">Siga las instrucciones de esta sección para identificar y corregir los problemas de rendimiento de las extensiones que se muestran en los resultados **Las extensiones afectan al tiempo de carga de la página**.</span><span class="sxs-lookup"><span data-stu-id="2205d-136">Follow the guidance in this section to identify and remediate performance issues with extensions listed in the **Extensions are impacting page load time** results.</span></span>

>[!NOTE]
><span data-ttu-id="2205d-137">Los personalizadores de la aplicación se pueden ejecutar en la fase temprana del ciclo de vida de una página y pueden influir en el rendimiento de otras extensiones de la misma.</span><span class="sxs-lookup"><span data-stu-id="2205d-137">Application customizers may be executed in the early stage during the lifecycle of a page and it may influence the performance of other extensions on the page.</span></span>

<span data-ttu-id="2205d-138">Los resultados de la auditoría en la herramienta de Diagnóstico de páginas mostrarán dos fases de ejecución de una extensión para ayudarle a identificar el potencial impacto en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2205d-138">The audit results in the Page Diagnostic Tool will display two stages of executing an extension in order to help identify the potential performance impact.</span></span>

- <span data-ttu-id="2205d-139">**Carga de módulos** es el tiempo que tarda en cargar la extensión que se ve afectado por el tamaño de la misma, por lo que es una buena idea agrupar solo las bibliotecas necesarias en la extensión y también elegir bibliotecas más ligeras.</span><span class="sxs-lookup"><span data-stu-id="2205d-139">**Module load** is how long it takes to load the extension, which is impacted by the size of an extension so it is a good idea to only bundle the necessary libraries in the extension and to also choose lighter libraries.</span></span>
- <span data-ttu-id="2205d-140">**Inicialización** es el tiempo de inicialización de la extensión. Los desarrolladores de extensiones deben tener en cuenta si la extensión realiza tareas innecesarias o ejecuta demasiados comandos durante la fase de inicialización.</span><span class="sxs-lookup"><span data-stu-id="2205d-140">**Init** is the initialization time of the extension and extension developers should consider whether the extension is doing unnecessary work or executing too many commands during the initializing stage.</span></span>

<span data-ttu-id="2205d-141">Los autores de páginas también pueden usar el resultado de auditoría para ver si una página tiene demasiadas extensiones ya que pueden afectar negativamente al rendimiento de una página.</span><span class="sxs-lookup"><span data-stu-id="2205d-141">Page authors can also use the audit result to see whether a page has too many extensions as too many extensions will negatively impact the performance of a page.</span></span>

- <span data-ttu-id="2205d-142">**Tamaño de extensión y dependencias**</span><span class="sxs-lookup"><span data-stu-id="2205d-142">**Extension size and dependencies**</span></span>
  - <span data-ttu-id="2205d-143">El uso de la red CDN de Office 365 es necesario para una descarga de recursos estática óptima.</span><span class="sxs-lookup"><span data-stu-id="2205d-143">Use of the Office 365 CDN is required for optimal static resource download.</span></span> <span data-ttu-id="2205d-144">Se prefieren los orígenes de la red CDN pública para los archivos _js/css_.</span><span class="sxs-lookup"><span data-stu-id="2205d-144">Public CDN origins are preferable for _js/css_ files.</span></span> <span data-ttu-id="2205d-145">Para obtener información sobre cómo usar la CDN de Office 365, vea [Usar la red de entrega de contenido (CDN) de Office 365 con SharePoint Online](use-office-365-cdn-with-spo.md).</span><span class="sxs-lookup"><span data-stu-id="2205d-145">For more information about using the Office 365 CDN, see [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-office-365-cdn-with-spo.md).</span></span>
  - <span data-ttu-id="2205d-146">Reutilice marcos como _importaciones de Fabric_ y _React_ que forman parte de SharePoint Framework (SPFx).</span><span class="sxs-lookup"><span data-stu-id="2205d-146">Reuse frameworks like _React_ and _Fabric imports_ that come as part of the SharePoint Framework (SPFx).</span></span> <span data-ttu-id="2205d-147">Para más información, vea [Información general de SharePoint Framework](https://docs.microsoft.com/sharepoint/dev/spfx/sharepoint-framework-overview).</span><span class="sxs-lookup"><span data-stu-id="2205d-147">For more information, see [Overview of the SharePoint Framework](https://docs.microsoft.com/sharepoint/dev/spfx/sharepoint-framework-overview).</span></span>
  - <span data-ttu-id="2205d-148">Asegúrese de que está usando la versión más reciente de SharePoint Framework y actualice a las nuevas versiones a medida que estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="2205d-148">Ensure that you are using the latest version of the SharePoint Framework, and upgrade to new versions as they become available.</span></span>
- <span data-ttu-id="2205d-149">**Búsqueda y almacenamiento en caché de datos**</span><span class="sxs-lookup"><span data-stu-id="2205d-149">**Data fetching/caching**</span></span>
  - <span data-ttu-id="2205d-150">Si la extensión se basa en llamadas de servidor adicionales para obtener datos para mostrar, asegúrese de que las API del servidor son rápidas o implementan el almacenamiento en caché del lado cliente (como _localStorage_ o _IndexDB_ para conjuntos más grandes).</span><span class="sxs-lookup"><span data-stu-id="2205d-150">If the extension relies on extra server calls to fetch data for display, ensure those server APIs are fast and/or implement client side caching (such as using _localStorage_ or _IndexDB_ for larger sets).</span></span>
  - <span data-ttu-id="2205d-151">Si se necesitan varias llamadas para representar datos fundamentales, considere la posibilidad de realizar el procesamiento por lotes en el servidor u otros métodos de consolidación de solicitudes en una sola llamada.</span><span class="sxs-lookup"><span data-stu-id="2205d-151">If multiple calls are required to render critical data, consider batching on the server or other methods of consolidating requests to a single call.</span></span>
  - <span data-ttu-id="2205d-152">Por otra parte, si algunos elementos de datos requieren una API más lenta, pero no son fundamentales para la representación inicial, desacóplelos en una llamada diferente que se ejecuta después de que se representen los datos fundamentales.</span><span class="sxs-lookup"><span data-stu-id="2205d-152">Alternatively, if some elements of data require a slower API, but are not critical to initial rendering, decouple these to a separate call that is executed after critical data is rendered.</span></span>
  - <span data-ttu-id="2205d-153">Si varios elementos usan los mismos datos, utilice una capa de datos común para evitar las llamadas duplicadas.</span><span class="sxs-lookup"><span data-stu-id="2205d-153">If multiple parts use the same data, utilize a common data layer to avoid duplicate calls.</span></span>
- <span data-ttu-id="2205d-154">**Tiempo de representación**</span><span class="sxs-lookup"><span data-stu-id="2205d-154">**Rendering time**</span></span>
  - <span data-ttu-id="2205d-155">Cualquier fuente multimedia, como imágenes y vídeos, debe tener el tamaño máximo de los límites del contenedor, dispositivo o red, para evitar la descarga de activos de gran tamaño innecesarios.</span><span class="sxs-lookup"><span data-stu-id="2205d-155">Any media sources like images and videos should be sized to the limits of the container, device and/or network to avoid downloading unnecessary large assets.</span></span> <span data-ttu-id="2205d-156">Para obtener información sobre cómo las dependencias de contenido, vea [Usar la red de entrega de contenido (CDN) de Office 365 con SharePoint Online](use-office-365-cdn-with-spo.md).</span><span class="sxs-lookup"><span data-stu-id="2205d-156">For more information about content dependencies, see [Use the Office 365 Content Delivery Network (CDN) with SharePoint Online](use-office-365-cdn-with-spo.md).</span></span>
  - <span data-ttu-id="2205d-157">Evite las llamadas a la API que provocan la redistribución, reglas de CSS complejas o animaciones complicadas.</span><span class="sxs-lookup"><span data-stu-id="2205d-157">Avoid API calls that cause re-flow, complex CSS rules or complicated animations.</span></span> <span data-ttu-id="2205d-158">Para obtener más información, vea [Minimizar la redistribución del explorador](https://developers.google.com/speed/docs/insights/browser-reflow).</span><span class="sxs-lookup"><span data-stu-id="2205d-158">For more information, see [Minimizing browser reflow](https://developers.google.com/speed/docs/insights/browser-reflow).</span></span>
  - <span data-ttu-id="2205d-159">Evite usar tareas de larga ejecución encadenadas.</span><span class="sxs-lookup"><span data-stu-id="2205d-159">Avoid use of chained long running tasks.</span></span> <span data-ttu-id="2205d-160">En su lugar, divida las tareas de larga ejecución en distintas colas.</span><span class="sxs-lookup"><span data-stu-id="2205d-160">Instead, break long running tasks apart into separate queues.</span></span> <span data-ttu-id="2205d-161">Para obtener más información, vea [Optimizar la ejecución de JavaScript](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).</span><span class="sxs-lookup"><span data-stu-id="2205d-161">For more information, see [Optimize JavaScript Execution](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution).</span></span>
  - <span data-ttu-id="2205d-162">Reserve el espacio correspondiente para representar de forma asincrónica elementos multimedia u objetos visuales para evitar fotogramas omitidos e interrupciones de flujo.</span><span class="sxs-lookup"><span data-stu-id="2205d-162">Reserve corresponding space for asynchronously rendering media or visual elements to avoid skipped frames and stuttering (also known as _jank_).</span></span>
  - <span data-ttu-id="2205d-163">Si un explorador específico no es compatible con una característica que se usa para la representación, cargue un polyfill o excluya la ejecución de un código dependiente.</span><span class="sxs-lookup"><span data-stu-id="2205d-163">If a certain browser doesn't support a feature used in rendering, either load a polyfill or exclude running dependent code.</span></span> <span data-ttu-id="2205d-164">Si la característica no es fundamental, elimine recursos como controladores de eventos para evitar pérdidas de memoria.</span><span class="sxs-lookup"><span data-stu-id="2205d-164">If the feature is not critical, dispose resources such as event handlers to avoid memory leaks.</span></span>

<span data-ttu-id="2205d-165">Antes de realizar revisiones de página para corregir problemas de rendimiento, anote el tiempo de carga de la página en los resultados del análisis.</span><span class="sxs-lookup"><span data-stu-id="2205d-165">Before you make page revisions to remediate performance issues, make a note of the page load time in the analysis results.</span></span> <span data-ttu-id="2205d-166">Ejecute la herramienta de nuevo después de la revisión y compruebe si los nuevos resultados están en línea con su valor de referencia. Luego, compruebe el nuevo tiempo de carga de la página para ver si se ha producido alguna mejora.</span><span class="sxs-lookup"><span data-stu-id="2205d-166">Run the tool again after your revision to see if the new result is within the baseline standard, and check the new page load time to see if there was an improvement.</span></span>

![Resultados de tiempo de carga de la página](media/modern-portal-optimization/pagediag-page-load-time.png)

>[!NOTE]
><span data-ttu-id="2205d-168">El tiempo de carga de la página puede variar en función de varios factores, como la carga de la red, la hora del día y otras condiciones transitorias.</span><span class="sxs-lookup"><span data-stu-id="2205d-168">Page load time can vary based on a variety of factors such as network load, time of day, and other transient conditions.</span></span> <span data-ttu-id="2205d-169">Debe probar el tiempo de carga de la página varias veces, antes y después de realizar cambios, para obtener un promedio.</span><span class="sxs-lookup"><span data-stu-id="2205d-169">You should test page load time a few times before and after making changes to help you average the results.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2205d-170">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="2205d-170">Related topics</span></span>

[<span data-ttu-id="2205d-171">Ajustar el rendimiento de SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="2205d-171">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="2205d-172">Ajustar el rendimiento de Office 365</span><span class="sxs-lookup"><span data-stu-id="2205d-172">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="2205d-173">Rendimiento en la experiencia moderna de SharePoint</span><span class="sxs-lookup"><span data-stu-id="2205d-173">Performance in the modern SharePoint experience</span></span>](https://docs.microsoft.com/sharepoint/modern-experience-performance)

[<span data-ttu-id="2205d-174">Redes de entrega de contenido</span><span class="sxs-lookup"><span data-stu-id="2205d-174">Content delivery networks</span></span>](content-delivery-networks.md)

[<span data-ttu-id="2205d-175">Uso de la red de entrega de contenido (CDN) de Office 365 con SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="2205d-175">Use the Office 365 Content Delivery Network (CDN) with SharePoint Online</span></span>](use-office-365-cdn-with-spo.md)